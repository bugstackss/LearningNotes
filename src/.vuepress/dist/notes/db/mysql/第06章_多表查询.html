<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://Ragnarokoo.github.io/LearningNotes/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html"><meta property="og:site_name" content="📚全栈开发学习指南"><meta property="og:title" content="第06章_多表查询"><meta property="og:description" content="多表查询，也称为关联查询，指两个或更多个表一起完成查询操作。 前提条件：这些一起查询的表之间是有关系的（一对一、一对多），它们之间一定是有关联字段，这个关联字段可能建立了外键，也可能没有建立外键。比如：员工表和部门表，这两个表依靠“部门编号”进行关联。 1. 一个案例引发的多表连接 1.1 案例说明 1554974984600 从多个表中获取数据： 1..."><meta property="og:type" content="article"><meta property="og:image" content="https://Ragnarokoo.github.io/LearningNotes/"><meta property="og:updated_time" content="2023-05-31T09:16:41.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="第06章_多表查询"><meta property="article:tag" content="MYSQL"><meta property="article:tag" content="关系型数据库"><meta property="article:tag" content="多表查询"><meta property="article:modified_time" content="2023-05-31T09:16:41.000Z"><link rel="icon" href="/site_logo.svg"><title>第06章_多表查询 | 📚全栈开发学习指南</title><meta name="description" content="多表查询，也称为关联查询，指两个或更多个表一起完成查询操作。 前提条件：这些一起查询的表之间是有关系的（一对一、一对多），它们之间一定是有关联字段，这个关联字段可能建立了外键，也可能没有建立外键。比如：员工表和部门表，这两个表依靠“部门编号”进行关联。 1. 一个案例引发的多表连接 1.1 案例说明 1554974984600 从多个表中获取数据： 1...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.bc8b6d7c.css" as="style" /><link rel="stylesheet" href="/assets/style.bc8b6d7c.css" />
    <link rel="modulepreload" href="/assets/app.9b10ba0a.js"><link rel="modulepreload" href="/assets/第06章_多表查询.html.5196e1f6.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/第06章_多表查询.html.4bd8acc2.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/site_logo.svg" alt="📚全栈开发学习指南"><!----><span class="site-name hide-in-pad">📚全栈开发学习指南</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/quicknav/" class="nav-link" aria-label="快速导航"><span class="icon iconfont icon-navigation"></span>快速导航<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" aria-label="博客主页"><span class="icon iconfont icon-blog"></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/notes/" class="nav-link active" aria-label="Java学习教程"><span class="icon iconfont icon-java"></span>Java学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/web/" class="nav-link" aria-label="web学习教程"><span class="icon iconfont icon-note"></span>web学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/springcloud/" class="nav-link" aria-label="SpringCloud学习教程"><span class="icon iconfont icon-cache"></span>SpringCloud学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/distributed/" class="nav-link" aria-label="分布式微服务架构"><span class="icon iconfont icon-read"></span>分布式微服务架构<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="资源宝库"><span class="title"><span class="icon iconfont icon-advance"></span>资源宝库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/resources/books/" class="nav-link" aria-label="书籍资源"><span class="icon iconfont icon-animation"></span>书籍资源<!----></a></li><li class="dropdown-item"><a href="/resources/videos/" class="nav-link" aria-label="影音资源"><span class="icon iconfont icon-play"></span>影音资源<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Ragnarokoo/LearningNotes" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索本站" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-java"></span><span class="title">Java Language专栏</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-IO"></span><span class="title">Java网络编程NIO</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-community"></span><span class="title">JDBC数据库连接技术</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-categoryselected"></span><span class="title">JavaWeb</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-array"></span><span class="title">SSM Framework</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-geometry"></span><span class="title">SpringData</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-type"></span><span class="title">SpringBoot</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-module"></span><span class="title">mybatisplus</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-operate"></span><span class="title">构建工具&amp;云原生Devops</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-mysql"></span><span class="title">数据库以及调优策略</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-mysql"></span><span class="title">MYSQL基础篇学习专栏</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC00%E7%AB%A0_%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2.html" class="nav-link sidebar-link sidebar-page" aria-label="第00章_写在前面"><!---->第00章_写在前面<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC01%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%BF%B0.html" class="nav-link sidebar-link sidebar-page" aria-label="第01章_数据库概述"><!---->第01章_数据库概述<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC02%E7%AB%A0_MySQL%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" class="nav-link sidebar-link sidebar-page" aria-label="第02章_MySQL环境搭建"><!---->第02章_MySQL环境搭建<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC03%E7%AB%A0_%E5%9F%BA%E6%9C%AC%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5.html" class="nav-link sidebar-link sidebar-page" aria-label="第03章_基本的SELECT语句"><!---->第03章_基本的SELECT语句<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC04%E7%AB%A0_%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="nav-link sidebar-link sidebar-page" aria-label="第04章_运算符"><!---->第04章_运算符<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC05%E7%AB%A0_%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="第05章_排序与分页"><!---->第05章_排序与分页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="第06章_多表查询"><!---->第06章_多表查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-一个案例引发的多表连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 一个案例引发的多表连接"><!---->1. 一个案例引发的多表连接<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-1-案例说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 案例说明"><!---->1.1 案例说明<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-2-笛卡尔积-或交叉连接-的理解" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 笛卡尔积（或交叉连接）的理解"><!---->1.2 笛卡尔积（或交叉连接）的理解<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-3-案例分析与问题解决" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 案例分析与问题解决"><!---->1.3 案例分析与问题解决<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_2-多表查询分类讲解" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 多表查询分类讲解"><!---->2. 多表查询分类讲解<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#分类-1-等值连接-vs-非等值连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分类 1：等值连接 vs 非等值连接"><!---->分类 1：等值连接 vs 非等值连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#分类-2-自连接-vs-非自连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分类 2：自连接 vs 非自连接"><!---->分类 2：自连接 vs 非自连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#分类-3-内连接-vs-外连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分类 3：内连接 vs 外连接"><!---->分类 3：内连接 vs 外连接<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-sql99-语法实现多表查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. SQL99 语法实现多表查询"><!---->3. SQL99 语法实现多表查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-1-基本语法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 基本语法"><!---->3.1 基本语法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-2-内连接-inner-join-的实现" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 内连接(INNER JOIN)的实现"><!---->3.2 内连接(INNER JOIN)的实现<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-3-外连接-outer-join-的实现" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 外连接(OUTER JOIN)的实现"><!---->3.3 外连接(OUTER JOIN)的实现<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_4-union-的使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. UNION 的使用"><!---->4. UNION 的使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_5-7-种-sql-joins-的实现" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 7 种 SQL JOINS 的实现"><!---->5. 7 种 SQL JOINS 的实现<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_5-7-1-代码实现" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.7.1 代码实现"><!---->5.7.1 代码实现<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_5-7-2-语法格式小结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.7.2 语法格式小结"><!---->5.7.2 语法格式小结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_6-sql99-语法新特性" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. SQL99 语法新特性"><!---->6. SQL99 语法新特性<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_6-1-自然连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1 自然连接"><!---->6.1 自然连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_6-2-using-连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2 USING 连接"><!---->6.2 USING 连接<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_7-章节小结" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. 章节小结"><!---->7. 章节小结<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#附录-常用的-sql-标准有哪些" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="附录：常用的 SQL 标准有哪些"><!---->附录：常用的 SQL 标准有哪些<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC07%E7%AB%A0_%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0.html" class="nav-link sidebar-link sidebar-page" aria-label="第07章_单行函数"><!---->第07章_单行函数<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC08%E7%AB%A0_%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0.html" class="nav-link sidebar-link sidebar-page" aria-label="第08章_聚合函数"><!---->第08章_聚合函数<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC09%E7%AB%A0_%E5%AD%90%E6%9F%A5%E8%AF%A2.html" class="nav-link sidebar-link sidebar-page" aria-label="第09章_子查询"><!---->第09章_子查询<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="第10章_创建和管理表"><!---->第10章_创建和管理表<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC11%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%A2%9E%E5%88%A0%E6%94%B9.html" class="nav-link sidebar-link sidebar-page" aria-label="第11章_数据处理之增删改"><!---->第11章_数据处理之增删改<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC12%E7%AB%A0_MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%B2%BE%E8%AE%B2.html" class="nav-link sidebar-link sidebar-page" aria-label="第12章_MySQL数据类型精讲"><!---->第12章_MySQL数据类型精讲<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC13%E7%AB%A0_%E7%BA%A6%E6%9D%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="第13章_约束"><!---->第13章_约束<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC14%E7%AB%A0_%E8%A7%86%E5%9B%BE.html" class="nav-link sidebar-link sidebar-page" aria-label="第14章_视图"><!---->第14章_视图<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC15%E7%AB%A0_%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0.html" class="nav-link sidebar-link sidebar-page" aria-label="第15章_存储过程与函数"><!---->第15章_存储过程与函数<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC16%E7%AB%A0_%E5%8F%98%E9%87%8F%E3%80%81%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%B8%B8%E6%A0%87.html" class="nav-link sidebar-link sidebar-page" aria-label="第16章_变量、流程控制与游标"><!---->第16章_变量、流程控制与游标<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC17%E7%AB%A0_%E8%A7%A6%E5%8F%91%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="第17章_触发器"><!---->第17章_触发器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC18%E7%AB%A0_MySQL8%E5%85%B6%E5%AE%83%E6%96%B0%E7%89%B9%E6%80%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="第18章_MySQL8其它新特性"><!---->第18章_MySQL8其它新特性<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql/%E7%AC%AC00%E7%AB%A0_%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E.html" class="nav-link sidebar-link sidebar-page" aria-label="第19章_写在最后"><!---->第19章_写在最后<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mysql"></span><span class="title">MYSQL高级篇学习专栏</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-workingDirectory"></span><span class="title">Redis入门到精通</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-workingDirectory"></span><span class="title">Redis大厂进阶篇</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-free"></span><span class="title">数据库优化策略</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-search"></span><span class="title">Elasticsearch7.x分布式搜索引擎</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-search"></span><span class="title">Elasticsearch8.x分布式搜索引擎</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-quote"></span><span class="title">消息中间件</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tool"></span><span class="title">软件以及环境配置</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-ability"></span><span class="title">Linux操作系统</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-rank"></span><span class="title">JUC高并发编程</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mount"></span><span class="title">深入了解Java虚拟机</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-view"></span><span class="title">GOF23种设计模式</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tag"></span><span class="title">技术要点业务篇</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->第06章_多表查询</h1><div class="page-info"><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category5 clickable" role="navigation">MYSQL</span></li></ul><meta property="articleSection" content="MYSQL"></span><span aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag5 clickable" role="navigation">MYSQL</span></li><li><span class="tag tag0 clickable" role="navigation">关系型数据库</span></li><li><span class="tag tag7 clickable" role="navigation">多表查询</span></li></ul><meta property="keywords" content="MYSQL,关系型数据库,多表查询"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 15 分钟</span><meta property="timeRequired" content="PT15M"></span><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/Ragnarokoo/" target="_blank" rel="noopener noreferrer">Ragnarok</a></span><span property="author" content="Ragnarok"></span></span><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-05-31T09:16:41.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-一个案例引发的多表连接" class="router-link-active router-link-exact-active toc-link level2">1. 一个案例引发的多表连接</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-1-案例说明" class="router-link-active router-link-exact-active toc-link level3">1.1 案例说明</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-2-笛卡尔积-或交叉连接-的理解" class="router-link-active router-link-exact-active toc-link level3">1.2 笛卡尔积（或交叉连接）的理解</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_1-3-案例分析与问题解决" class="router-link-active router-link-exact-active toc-link level3">1.3 案例分析与问题解决</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_2-多表查询分类讲解" class="router-link-active router-link-exact-active toc-link level2">2. 多表查询分类讲解</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#分类-1-等值连接-vs-非等值连接" class="router-link-active router-link-exact-active toc-link level3">分类 1：等值连接 vs 非等值连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#分类-2-自连接-vs-非自连接" class="router-link-active router-link-exact-active toc-link level3">分类 2：自连接 vs 非自连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#分类-3-内连接-vs-外连接" class="router-link-active router-link-exact-active toc-link level3">分类 3：内连接 vs 外连接</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-sql99-语法实现多表查询" class="router-link-active router-link-exact-active toc-link level2">3. SQL99 语法实现多表查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-1-基本语法" class="router-link-active router-link-exact-active toc-link level3">3.1 基本语法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-2-内连接-inner-join-的实现" class="router-link-active router-link-exact-active toc-link level3">3.2 内连接(INNER JOIN)的实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_3-3-外连接-outer-join-的实现" class="router-link-active router-link-exact-active toc-link level3">3.3 外连接(OUTER JOIN)的实现</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_4-union-的使用" class="router-link-active router-link-exact-active toc-link level2">4. UNION 的使用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_5-7-种-sql-joins-的实现" class="router-link-active router-link-exact-active toc-link level2">5. 7 种 SQL JOINS 的实现</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_5-7-1-代码实现" class="router-link-active router-link-exact-active toc-link level3">5.7.1 代码实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_5-7-2-语法格式小结" class="router-link-active router-link-exact-active toc-link level3">5.7.2 语法格式小结</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_6-sql99-语法新特性" class="router-link-active router-link-exact-active toc-link level2">6. SQL99 语法新特性</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_6-1-自然连接" class="router-link-active router-link-exact-active toc-link level3">6.1 自然连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_6-2-using-连接" class="router-link-active router-link-exact-active toc-link level3">6.2 USING 连接</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#_7-章节小结" class="router-link-active router-link-exact-active toc-link level2">7. 章节小结</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql/%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2.html#附录-常用的-sql-标准有哪些" class="router-link-active router-link-exact-active toc-link level2">附录：常用的 SQL 标准有哪些</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>多表查询，也称为关联查询，指两个或更多个表一起完成查询操作。</p><p>前提条件：这些一起查询的表之间是有关系的（一对一、一对多），它们之间一定是有关联字段，这个关联字段可能建立了外键，也可能没有建立外键。比如：员工表和部门表，这两个表依靠“部门编号”进行关联。</p><h2 id="_1-一个案例引发的多表连接" tabindex="-1"><a class="header-anchor" href="#_1-一个案例引发的多表连接" aria-hidden="true">#</a> 1. 一个案例引发的多表连接</h2><h3 id="_1-1-案例说明" tabindex="-1"><a class="header-anchor" href="#_1-1-案例说明" aria-hidden="true">#</a> 1.1 案例说明</h3><p><img src="/assets/1554974984600.ee03654b.png" alt="1554974984600"></p><p>从多个表中获取数据：</p><p><img src="/assets/1554975020388.0f12ee23.png" alt="1554975020388"></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#案例：查询员工的姓名及其部门名称
SELECT last_name, department_name
FROM employees, departments;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554975097631.863a3a20.png" alt="1554975097631"></p><p>查询结果：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>+-----------+----------------------+
| last_name | department_name      |
+-----------+----------------------+
| King      | Administration       |
| King      | Marketing            |
| King      | Purchasing           |
| King      | Human Resources      |
| King      | Shipping             |
| King      | IT                   |
| King      | Public Relations     |
| King      | Sales                |
| King      | Executive            |
| King      | Finance              |
| King      | Accounting           |
| King      | Treasury             |
...
| Gietz     | IT Support           |
| Gietz     | NOC                  |
| Gietz     | IT Helpdesk          |
| Gietz     | Government Sales     |
| Gietz     | Retail Sales         |
| Gietz     | Recruiting           |
| Gietz     | Payroll              |
+-----------+----------------------+
2889 rows in set (0.01 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>分析错误情况：</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT COUNT(employee_id) FROM employees;
#输出107行

SELECT COUNT(department_id)FROM departments;
#输出27行

SELECT 107*27 FROM dual;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们把上述多表查询中出现的问题称为：笛卡尔积的错误。</p><h3 id="_1-2-笛卡尔积-或交叉连接-的理解" tabindex="-1"><a class="header-anchor" href="#_1-2-笛卡尔积-或交叉连接-的理解" aria-hidden="true">#</a> 1.2 笛卡尔积（或交叉连接）的理解</h3><p>笛卡尔乘积是一个数学运算。假设我有两个集合 X 和 Y，那么 X 和 Y 的笛卡尔积就是 X 和 Y 的所有可能组合，也就是第一个对象来自于 X，第二个对象来自于 Y 的所有可能。组合的个数即为两个集合中元素个数的乘积数。</p><img src="/assets/302046364841977.18960faf.jpg" alt="img" style="zoom:80%;"><p>SQL92 中，笛卡尔积也称为<code>交叉连接</code>，英文是 <code>CROSS JOIN</code>。在 SQL99 中也是使用 CROSS JOIN 表示交叉连接。它的作用就是可以把任意表进行连接，即使这两张表不相关。在 MySQL 中如下情况会出现笛卡尔积：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#查询员工姓名和所在部门名称
SELECT last_name,department_name FROM employees,departments;
SELECT last_name,department_name FROM employees CROSS JOIN departments;
SELECT last_name,department_name FROM employees INNER JOIN departments;
SELECT last_name,department_name FROM employees JOIN departments;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-案例分析与问题解决" tabindex="-1"><a class="header-anchor" href="#_1-3-案例分析与问题解决" aria-hidden="true">#</a> 1.3 案例分析与问题解决</h3><ul><li><p><strong>笛卡尔积的错误会在下面条件下产生</strong>：</p><ul><li>省略多个表的连接条件（或关联条件）</li><li>连接条件（或关联条件）无效</li><li>所有表中的所有行互相连接</li></ul></li><li><p>为了避免笛卡尔积， 可以<strong>在 WHERE 加入有效的连接条件。</strong></p></li><li><p>加入连接条件后，查询语法：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT	table1.column, table2.column
FROM	table1, table2
WHERE	table1.column1 = table2.column2;  #连接条件
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>在 WHERE 子句中写入连接条件。</strong></li></ul></li><li><p>正确写法：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#案例：查询员工的姓名及其部门名称
SELECT last_name, department_name
FROM employees, departments
WHERE employees.department_id = departments.department_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>在表中有相同列时，在列名之前加上表名前缀。</strong></p></li></ul><h2 id="_2-多表查询分类讲解" tabindex="-1"><a class="header-anchor" href="#_2-多表查询分类讲解" aria-hidden="true">#</a> 2. 多表查询分类讲解</h2><h3 id="分类-1-等值连接-vs-非等值连接" tabindex="-1"><a class="header-anchor" href="#分类-1-等值连接-vs-非等值连接" aria-hidden="true">#</a> 分类 1：等值连接 vs 非等值连接</h3><h4 id="等值连接" tabindex="-1"><a class="header-anchor" href="#等值连接" aria-hidden="true">#</a> 等值连接</h4><p><img src="/assets/1554975496900.cf59c616.png" alt="1554975496900"></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employees.employee_id, employees.last_name,
       employees.department_id, departments.department_id,
       departments.location_id
FROM   employees, departments
WHERE  employees.department_id = departments.department_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554975522600.838ddcad.png" alt="1554975522600"></p><p><img src="data:image/png;base64,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" alt="1554975526339"></p><p><strong>拓展 1：多个连接条件与 AND 操作符</strong></p><p><img src="/assets/1554975606231.b0e41722.png" alt="1554975606231"></p><p><strong>拓展 2：区分重复的列名</strong></p><ul><li><strong>多个表中有相同列时，必须在列名之前加上表名前缀。</strong></li><li>在不同表中具有相同列名的列可以用<code>表名</code>加以区分。</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employees.last_name, departments.department_name,employees.department_id
FROM employees, departments
WHERE employees.department_id = departments.department_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>拓展 3：表的别名</strong></p><ul><li><p>使用别名可以简化查询。</p></li><li><p>列名前使用表名前缀可以提高查询效率。</p></li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT e.employee_id, e.last_name, e.department_id,
       d.department_id, d.location_id
FROM   employees e , departments d
WHERE  e.department_id = d.department_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>需要注意的是，如果我们使用了表的别名，在查询字段中、过滤条件中就只能使用别名进行代替，不能使用原有的表名，否则就会报错。</p></blockquote><blockquote><p><code>阿里开发规范</code>：</p><p>【<code>强制</code>】对于数据库中表记录的查询和变更，只要涉及多个表，都需要在列名前加表的别名（或 表名）进行限定。</p><p><code>说明</code>：对多表进行查询记录、更新记录、删除记录时，如果对操作列没有限定表的别名（或表名），并且操作列在多个表中存在时，就会抛异常。</p><p><code>正例</code>：select <a href="http://t1.name" target="_blank" rel="noopener noreferrer">t1.name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> from table_first as t1 , table_second as t2 where <a href="http://t1.id=t2.id" target="_blank" rel="noopener noreferrer">t1.id=t2.id<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>;</p><p><code>反例</code>：在某业务中，由于多表关联查询语句没有加表的别名（或表名）的限制，正常运行两年后，最近在 某个表中增加一个同名字段，在预发布环境做数据库变更后，线上查询语句出现出 1052 异常：Column &#39;name&#39; in field list is ambiguous。</p></blockquote><p><strong>拓展 4：连接多个表</strong></p><p><img src="/assets/1554978354431.c4224b59.png" alt="1554978354431"></p><p>**总结：连接 n 个表,至少需要 n-1 个连接条件。**比如，连接三个表，至少需要两个连接条件。</p><p>练习：查询出公司员工的 last_name,department_name, city</p><h4 id="非等值连接" tabindex="-1"><a class="header-anchor" href="#非等值连接" aria-hidden="true">#</a> 非等值连接</h4><p><img src="/assets/1554978442447.65bc9946.png" alt="1554978442447"></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT e.last_name, e.salary, j.grade_level
FROM   employees e, job_grades j
WHERE  e.salary BETWEEN j.lowest_sal AND j.highest_sal;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554978477013.8c27c4b6.png" alt="1554978477013"></p><p><img src="data:image/png;base64,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" alt="1554978482652"></p><h3 id="分类-2-自连接-vs-非自连接" tabindex="-1"><a class="header-anchor" href="#分类-2-自连接-vs-非自连接" aria-hidden="true">#</a> 分类 2：自连接 vs 非自连接</h3><p><img src="/assets/1554978514321.0842814c.png" alt="1554978514321"></p><ul><li>当 table1 和 table2 本质上是同一张表，只是用取别名的方式虚拟成两张表以代表不同的意义。然后两个表再进行内连接，外连接等查询。</li></ul><p><strong>题目：查询 employees 表，返回“Xxx works for Xxx”</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT CONCAT(worker.last_name ,&#39; works for &#39;
       , manager.last_name)
FROM   employees worker, employees manager
WHERE  worker.manager_id = manager.employee_id ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554978684947.f2341036.png" alt="1554978684947"></p><p><img src="data:image/png;base64,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" alt="1554978690764"></p><p>练习：查询出 last_name 为 ‘Chen’ 的员工的 manager 的信息。</p><h3 id="分类-3-内连接-vs-外连接" tabindex="-1"><a class="header-anchor" href="#分类-3-内连接-vs-外连接" aria-hidden="true">#</a> 分类 3：内连接 vs 外连接</h3><p>除了查询满足条件的记录以外，外连接还可以查询某一方不满足条件的记录。</p><p><img src="/assets/1554978955659.454b822e.png" alt="1554978955659"></p><ul><li><p>内连接: 合并具有同一列的两个以上的表的行, <strong>结果集中不包含一个表与另一个表不匹配的行</strong></p></li><li><p>外连接: 两个表在连接过程中除了返回满足连接条件的行以外<strong>还返回左（或右）表中不满足条件的行</strong> <strong>，这种连接称为左（或右） 外连接</strong>。没有匹配的行时, 结果表中相应的列为空(NULL)。</p></li><li><p>如果是左外连接，则连接条件中左边的表也称为<code>主表</code>，右边的表称为<code>从表</code>。</p><p>如果是右外连接，则连接条件中右边的表也称为<code>主表</code>，左边的表称为<code>从表</code>。</p></li></ul><h4 id="sql92-使用-创建连接" tabindex="-1"><a class="header-anchor" href="#sql92-使用-创建连接" aria-hidden="true">#</a> SQL92：使用(+)创建连接</h4><ul><li><p>在 SQL92 中采用（+）代表从表所在的位置。即左或右外连接中，(+) 表示哪个是从表。</p></li><li><p>Oracle 对 SQL92 支持较好，而 MySQL 则不支持 SQL92 的外连接。</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#左外连接
SELECT last_name,department_name
FROM employees ,departments
WHERE employees.department_id = departments.department_id(+);

#右外连接
SELECT last_name,department_name
FROM employees ,departments
WHERE employees.department_id(+) = departments.department_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>而且在 SQL92 中，只有左外连接和右外连接，没有满（或全）外连接。</p></li></ul><h2 id="_3-sql99-语法实现多表查询" tabindex="-1"><a class="header-anchor" href="#_3-sql99-语法实现多表查询" aria-hidden="true">#</a> 3. SQL99 语法实现多表查询</h2><h3 id="_3-1-基本语法" tabindex="-1"><a class="header-anchor" href="#_3-1-基本语法" aria-hidden="true">#</a> 3.1 基本语法</h3><ul><li><p>使用 JOIN...ON 子句创建连接的语法结构：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT table1.column, table2.column,table3.column
FROM table1
    JOIN table2 ON table1 和 table2 的连接条件
        JOIN table3 ON table2 和 table3 的连接条件
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>它的嵌套逻辑类似我们使用的 FOR 循环：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>for t1 in table1:
    for t2 in table2:
       if condition1:
           for t3 in table3:
              if condition2:
                  output t1 + t2 + t3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SQL99 采用的这种嵌套结构非常清爽、层次性更强、可读性更强，即使再多的表进行连接也都清晰可见。如果你采用 SQL92，可读性就会大打折扣。</p></li><li><p>语法说明：</p><ul><li><strong>可以使用</strong> <strong>ON</strong> <strong>子句指定额外的连接条件</strong>。</li><li>这个连接条件是与其它条件分开的。</li><li><strong>ON</strong> <strong>子句使语句具有更高的易读性</strong>。</li><li>关键字 JOIN、INNER JOIN、CROSS JOIN 的含义是一样的，都表示内连接</li></ul></li></ul><h3 id="_3-2-内连接-inner-join-的实现" tabindex="-1"><a class="header-anchor" href="#_3-2-内连接-inner-join-的实现" aria-hidden="true">#</a> 3.2 内连接(INNER JOIN)的实现</h3><ul><li>语法：</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT 字段列表
FROM A表 INNER JOIN B表
ON 关联条件
WHERE 等其他子句;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>题目 1：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT e.employee_id, e.last_name, e.department_id,
       d.department_id, d.location_id
FROM   employees e JOIN departments d
ON     (e.department_id = d.department_id);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554979073996.99e4b325.png" alt="1554979073996"></p><p><img src="data:image/png;base64,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" alt="1554979079395"></p><p>题目 2：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employee_id, city, department_name
FROM   employees e
JOIN   departments d
ON     d.department_id = e.department_id
JOIN   locations l
ON     d.location_id = l.location_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554979110008.81b27d0f.png" alt="1554979110008"></p><p><img src="data:image/png;base64,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" alt="1554979115642"></p><h3 id="_3-3-外连接-outer-join-的实现" tabindex="-1"><a class="header-anchor" href="#_3-3-外连接-outer-join-的实现" aria-hidden="true">#</a> 3.3 外连接(OUTER JOIN)的实现</h3><h4 id="_3-3-1-左外连接-left-outer-join" tabindex="-1"><a class="header-anchor" href="#_3-3-1-左外连接-left-outer-join" aria-hidden="true">#</a> 3.3.1 左外连接(LEFT OUTER JOIN)</h4><ul><li>语法：</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#实现查询结果是A
SELECT 字段列表
FROM A表 LEFT JOIN B表
ON 关联条件
WHERE 等其他子句;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>举例：</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT e.last_name, e.department_id, d.department_name
FROM   employees e
LEFT OUTER JOIN departments d
ON   (e.department_id = d.department_id) ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554979200961.a6c9b7f2.png" alt="1554979200961"></p><h4 id="_3-3-2-右外连接-right-outer-join" tabindex="-1"><a class="header-anchor" href="#_3-3-2-右外连接-right-outer-join" aria-hidden="true">#</a> 3.3.2 右外连接(RIGHT OUTER JOIN)</h4><ul><li>语法：</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#实现查询结果是B
SELECT 字段列表
FROM A表 RIGHT JOIN B表
ON 关联条件
WHERE 等其他子句;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>举例：</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT e.last_name, e.department_id, d.department_name
FROM   employees e
RIGHT OUTER JOIN departments d
ON    (e.department_id = d.department_id) ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/1554979243194.85bf1e85.png" alt="1554979243194"></p><blockquote><p>需要注意的是，LEFT JOIN 和 RIGHT JOIN 只存在于 SQL99 及以后的标准中，在 SQL92 中不存在，只能用 (+) 表示。</p></blockquote><h4 id="_3-3-3-满外连接-full-outer-join" tabindex="-1"><a class="header-anchor" href="#_3-3-3-满外连接-full-outer-join" aria-hidden="true">#</a> 3.3.3 满外连接(FULL OUTER JOIN)</h4><ul><li>满外连接的结果 = 左右表匹配的数据 + 左表没有匹配到的数据 + 右表没有匹配到的数据。</li><li>SQL99 是支持满外连接的。使用 FULL JOIN 或 FULL OUTER JOIN 来实现。</li><li>需要注意的是，MySQL 不支持 FULL JOIN，但是可以用 LEFT JOIN <strong>UNION</strong> RIGHT join 代替。</li></ul><h2 id="_4-union-的使用" tabindex="-1"><a class="header-anchor" href="#_4-union-的使用" aria-hidden="true">#</a> 4. UNION 的使用</h2><p><strong>合并查询结果</strong> 利用 UNION 关键字，可以给出多条 SELECT 语句，并将它们的结果组合成单个结果集。合并时，两个表对应的列数和数据类型必须相同，并且相互对应。各个 SELECT 语句之间使用 UNION 或 UNION ALL 关键字分隔。</p><p>语法格式：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT column,... FROM table1
UNION [ALL]
SELECT column,... FROM table2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>UNION 操作符</strong></p><img src="/assets/1554979317187.81ea1404.png" alt="1554979317187" style="zoom:67%;"><p>UNION 操作符返回两个查询的结果集的并集，去除重复记录。</p><p><strong>UNION ALL 操作符</strong></p><img src="/assets/1554979343634.3e124313.png" alt="1554979343634" style="zoom:67%;"><p>UNION ALL 操作符返回两个查询的结果集的并集。对于两个结果集的重复部分，不去重。</p><blockquote><p>注意：执行 UNION ALL 语句时所需要的资源比 UNION 语句少。如果明确知道合并数据后的结果数据不存在重复数据，或者不需要去除重复的数据，则尽量使用 UNION ALL 语句，以提高数据查询的效率。</p></blockquote><p>举例：查询部门编号&gt;90 或邮箱包含 a 的员工信息</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#方式1
SELECT * FROM employees WHERE email LIKE &#39;%a%&#39; OR department_id&gt;90;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#方式2
SELECT * FROM employees  WHERE email LIKE &#39;%a%&#39;
UNION
SELECT * FROM employees  WHERE department_id&gt;90;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>举例：查询中国用户中男性的信息以及美国用户中年男性的用户信息</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT id,cname FROM t_chinamale WHERE csex=&#39;男&#39;
UNION ALL
SELECT id,tname FROM t_usmale WHERE tGender=&#39;male&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-7-种-sql-joins-的实现" tabindex="-1"><a class="header-anchor" href="#_5-7-种-sql-joins-的实现" aria-hidden="true">#</a> 5. 7 种 SQL JOINS 的实现</h2><img src="/assets/1554979255233.b695e537.png" alt="1554979255233" style="zoom:80%;"><h3 id="_5-7-1-代码实现" tabindex="-1"><a class="header-anchor" href="#_5-7-1-代码实现" aria-hidden="true">#</a> 5.7.1 代码实现</h3><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#中图：内连接 A∩B
SELECT employee_id,last_name,department_name
FROM employees e JOIN departments d
ON e.`department_id` = d.`department_id`;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#左上图：左外连接
SELECT employee_id,last_name,department_name
FROM employees e LEFT JOIN departments d
ON e.`department_id` = d.`department_id`;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#右上图：右外连接
SELECT employee_id,last_name,department_name
FROM employees e RIGHT JOIN departments d
ON e.`department_id` = d.`department_id`;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#左中图：A - A∩B
SELECT employee_id,last_name,department_name
FROM employees e LEFT JOIN departments d
ON e.`department_id` = d.`department_id`
WHERE d.`department_id` IS NULL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#右中图：B-A∩B
SELECT employee_id,last_name,department_name
FROM employees e RIGHT JOIN departments d
ON e.`department_id` = d.`department_id`
WHERE e.`department_id` IS NULL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#左下图：满外连接
# 左中图 + 右上图  A∪B
SELECT employee_id,last_name,department_name
FROM employees e LEFT JOIN departments d
ON e.`department_id` = d.`department_id`
WHERE d.`department_id` IS NULL
UNION ALL  #没有去重操作，效率高
SELECT employee_id,last_name,department_name
FROM employees e RIGHT JOIN departments d
ON e.`department_id` = d.`department_id`;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#右下图
#左中图 + 右中图  A ∪B- A∩B 或者 (A -  A∩B) ∪ （B - A∩B）
SELECT employee_id,last_name,department_name
FROM employees e LEFT JOIN departments d
ON e.`department_id` = d.`department_id`
WHERE d.`department_id` IS NULL
UNION ALL
SELECT employee_id,last_name,department_name
FROM employees e RIGHT JOIN departments d
ON e.`department_id` = d.`department_id`
WHERE e.`department_id` IS NULL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-7-2-语法格式小结" tabindex="-1"><a class="header-anchor" href="#_5-7-2-语法格式小结" aria-hidden="true">#</a> 5.7.2 语法格式小结</h3><ul><li>左中图</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#实现A -  A∩B
select 字段列表
from A表 left join B表
on 关联条件
where 从表关联字段 is null and 等其他子句;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>右中图</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#实现B -  A∩B
select 字段列表
from A表 right join B表
on 关联条件
where 从表关联字段 is null and 等其他子句;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>左下图</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#实现查询结果是A∪B
#用左外的A，union 右外的B
select 字段列表
from A表 left join B表
on 关联条件
where 等其他子句

union

select 字段列表
from A表 right join B表
on 关联条件
where 等其他子句;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>右下图</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#实现A∪B -  A∩B  或   (A -  A∩B) ∪ （B - A∩B）
#使用左外的 (A -  A∩B)  union 右外的（B - A∩B）
select 字段列表
from A表 left join B表
on 关联条件
where 从表关联字段 is null and 等其他子句

union

select 字段列表
from A表 right join B表
on 关联条件
where 从表关联字段 is null and 等其他子句
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-sql99-语法新特性" tabindex="-1"><a class="header-anchor" href="#_6-sql99-语法新特性" aria-hidden="true">#</a> 6. SQL99 语法新特性</h2><h3 id="_6-1-自然连接" tabindex="-1"><a class="header-anchor" href="#_6-1-自然连接" aria-hidden="true">#</a> 6.1 自然连接</h3><p>SQL99 在 SQL92 的基础上提供了一些特殊语法，比如 <code>NATURAL JOIN</code> 用来表示自然连接。我们可以把自然连接理解为 SQL92 中的等值连接。它会帮你自动查询两张连接表中<code>所有相同的字段</code>，然后进行<code>等值连接</code>。</p><p>在 SQL92 标准中：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employee_id,last_name,department_name
FROM employees e JOIN departments d
ON e.`department_id` = d.`department_id`
AND e.`manager_id` = d.`manager_id`;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 SQL99 中你可以写成：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employee_id,last_name,department_name
FROM employees e NATURAL JOIN departments d;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-using-连接" tabindex="-1"><a class="header-anchor" href="#_6-2-using-连接" aria-hidden="true">#</a> 6.2 USING 连接</h3><p>当我们进行连接的时候，SQL99 还支持使用 USING 指定数据表里的<code>同名字段</code>进行等值连接。但是只能配合 JOIN 一起使用。比如：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employee_id,last_name,department_name
FROM employees e JOIN departments d
USING (department_id);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你能看出与自然连接 NATURAL JOIN 不同的是，USING 指定了具体的相同的字段名称，你需要在 USING 的括号 () 中填入要指定的同名字段。同时使用 <code>JOIN...USING</code> 可以简化 JOIN ON 的等值连接。它与下面的 SQL 查询结果是相同的：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT employee_id,last_name,department_name
FROM employees e ,departments d
WHERE e.department_id = d.department_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-章节小结" tabindex="-1"><a class="header-anchor" href="#_7-章节小结" aria-hidden="true">#</a> 7. 章节小结</h2><p>表连接的约束条件可以有三种方式：WHERE, ON, USING</p><ul><li><p>WHERE：适用于所有关联查询</p></li><li><p><code>ON</code>：只能和 JOIN 一起使用，只能写关联条件。虽然关联条件可以并到 WHERE 中和其他条件一起写，但分开写可读性更好。</p></li><li><p>USING：只能和 JOIN 一起使用，而且要求<strong>两个</strong>关联字段在关联表中名称一致，而且只能表示关联字段值相等</p></li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#关联条件
#把关联条件写在where后面
SELECT last_name,department_name
FROM employees,departments
WHERE employees.department_id = departments.department_id;

#把关联条件写在on后面，只能和JOIN一起使用
SELECT last_name,department_name
FROM employees INNER JOIN departments
ON employees.department_id = departments.department_id;

SELECT last_name,department_name
FROM employees CROSS JOIN departments
ON employees.department_id = departments.department_id;

SELECT last_name,department_name
FROM employees JOIN departments
ON employees.department_id = departments.department_id;

#把关联字段写在using()中，只能和JOIN一起使用
#而且两个表中的关联字段必须名称相同，而且只能表示=
#查询员工姓名与基本工资
SELECT last_name,job_title
FROM employees INNER JOIN jobs USING(job_id);

#n张表关联，需要n-1个关联条件
#查询员工姓名，基本工资，部门名称
SELECT last_name,job_title,department_name FROM employees,departments,jobs
WHERE employees.department_id = departments.department_id
AND employees.job_id = jobs.job_id;

SELECT last_name,job_title,department_name
FROM employees INNER JOIN departments INNER JOIN jobs
ON employees.department_id = departments.department_id
AND employees.job_id = jobs.job_id;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意：</strong></p><p>我们要<code>控制连接表的数量</code>。多表连接就相当于嵌套 for 循环一样，非常消耗资源，会让 SQL 查询性能下降得很严重，因此不要连接不必要的表。在许多 DBMS 中，也都会有最大连接表的限制。</p><blockquote><p>【强制】超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致；多表关联查询时， 保证被关联的字段需要有索引。</p><p>说明：即使双表 join 也要注意表索引、SQL 性能。</p><p>来源：阿里巴巴《Java 开发手册》</p></blockquote><h2 id="附录-常用的-sql-标准有哪些" tabindex="-1"><a class="header-anchor" href="#附录-常用的-sql-标准有哪些" aria-hidden="true">#</a> 附录：常用的 SQL 标准有哪些</h2><p>在正式开始讲连接表的种类时，我们首先需要知道 SQL 存在不同版本的标准规范，因为不同规范下的表连接操作是有区别的。</p><p>SQL 有两个主要的标准，分别是 <code>SQL92</code> 和 <code>SQL99</code>。92 和 99 代表了标准提出的时间，SQL92 就是 92 年提出的标准规范。当然除了 SQL92 和 SQL99 以外，还存在 SQL-86、SQL-89、SQL:2003、SQL:2008、SQL:2011 和 SQL:2016 等其他的标准。</p><p>这么多标准，到底该学习哪个呢？<strong>实际上最重要的 SQL 标准就是 SQL92 和 SQL99</strong>。一般来说 SQL92 的形式更简单，但是写的 SQL 语句会比较长，可读性较差。而 SQL99 相比于 SQL92 来说，语法更加复杂，但可读性更强。我们从这两个标准发布的页数也能看出，SQL92 的标准有 500 页，而 SQL99 标准超过了 1000 页。实际上从 SQL99 之后，很少有人能掌握所有内容，因为确实太多了。就好比我们使用 Windows、Linux 和 Office 的时候，很少有人能掌握全部内容一样。我们只需要掌握一些核心的功能，满足日常工作的需求即可。</p><p>**SQL92 和 SQL99 是经典的 SQL 标准，也分别叫做 SQL-2 和 SQL-3 标准。**也正是在这两个标准发布之后，SQL 影响力越来越大，甚至超越了数据库领域。现如今 SQL 已经不仅仅是数据库领域的主流语言，还是信息领域中信息处理的主流语言。在图形检索、图像检索以及语音检索中都能看到 SQL 语言的使用。</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ragnarokoo/LearningNotes/edit/master/src/notes/db/mysql/第06章_多表查询.md" rel="noopener noreferrer" target="_blank" aria-label="在【Github】上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在【Github】上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><!----></footer><nav class="page-nav"><a href="/notes/db/mysql/%E7%AC%AC05%E7%AB%A0_%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5.html" class="nav-link prev" aria-label="第05章_排序与分页"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->第05章_排序与分页</div></a><a href="/notes/db/mysql/%E7%AC%AC07%E7%AB%A0_%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0.html" class="nav-link next" aria-label="第07章_单行函数"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">第07章_单行函数<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.9b10ba0a.js" defer></script>
  </body>
</html>
