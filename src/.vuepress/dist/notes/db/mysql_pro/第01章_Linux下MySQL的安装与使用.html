<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://Ragnarokoo.github.io/LearningNotes/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html"><meta property="og:site_name" content="📚全栈开发学习指南"><meta property="og:title" content="第 01 章_Linux下MySQL的安装与使用"><meta property="og:description" content="image-20221204174702222 1. 安装前说明 1. 1 Linux系统及工具的准备 安装并启动好两台虚拟机：CentOS 7; 掌握克隆虚拟机的操作; mac地址; 主机名; ip地址; UUID; 安装有Xshell 和Xftp等访问CentOS系统的工具; CentOS6和CentOS7在MySQL的使用中的区别; 1. 2 查..."><meta property="og:type" content="article"><meta property="og:image" content="https://Ragnarokoo.github.io/LearningNotes/"><meta property="og:updated_time" content="2023-05-31T09:16:41.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="第 01 章_Linux下MySQL的安装与使用"><meta property="article:tag" content="mysql"><meta property="article:tag" content="SQL"><meta property="article:tag" content="关系型数据库"><meta property="article:modified_time" content="2023-05-31T09:16:41.000Z"><link rel="icon" href="/site_logo.svg"><title>第 01 章_Linux下MySQL的安装与使用 | 📚全栈开发学习指南</title><meta name="description" content="image-20221204174702222 1. 安装前说明 1. 1 Linux系统及工具的准备 安装并启动好两台虚拟机：CentOS 7; 掌握克隆虚拟机的操作; mac地址; 主机名; ip地址; UUID; 安装有Xshell 和Xftp等访问CentOS系统的工具; CentOS6和CentOS7在MySQL的使用中的区别; 1. 2 查...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.bc8b6d7c.css" as="style" /><link rel="stylesheet" href="/assets/style.bc8b6d7c.css" />
    <link rel="modulepreload" href="/assets/app.9b10ba0a.js"><link rel="modulepreload" href="/assets/第01章_Linux下MySQL的安装与使用.html.9ae2ae05.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/第01章_Linux下MySQL的安装与使用.html.486945f4.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/site_logo.svg" alt="📚全栈开发学习指南"><!----><span class="site-name hide-in-pad">📚全栈开发学习指南</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/quicknav/" class="nav-link" aria-label="快速导航"><span class="icon iconfont icon-navigation"></span>快速导航<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" aria-label="博客主页"><span class="icon iconfont icon-blog"></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/notes/" class="nav-link active" aria-label="Java学习教程"><span class="icon iconfont icon-java"></span>Java学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/web/" class="nav-link" aria-label="web学习教程"><span class="icon iconfont icon-note"></span>web学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/springcloud/" class="nav-link" aria-label="SpringCloud学习教程"><span class="icon iconfont icon-cache"></span>SpringCloud学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/distributed/" class="nav-link" aria-label="分布式微服务架构"><span class="icon iconfont icon-read"></span>分布式微服务架构<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="资源宝库"><span class="title"><span class="icon iconfont icon-advance"></span>资源宝库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/resources/books/" class="nav-link" aria-label="书籍资源"><span class="icon iconfont icon-animation"></span>书籍资源<!----></a></li><li class="dropdown-item"><a href="/resources/videos/" class="nav-link" aria-label="影音资源"><span class="icon iconfont icon-play"></span>影音资源<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Ragnarokoo/LearningNotes" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索本站" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-java"></span><span class="title">Java Language专栏</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-IO"></span><span class="title">Java网络编程NIO</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-community"></span><span class="title">JDBC数据库连接技术</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-categoryselected"></span><span class="title">JavaWeb</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-array"></span><span class="title">SSM Framework</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-geometry"></span><span class="title">SpringData</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-type"></span><span class="title">SpringBoot</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-module"></span><span class="title">mybatisplus</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-operate"></span><span class="title">构建工具&amp;云原生Devops</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-mysql"></span><span class="title">数据库以及调优策略</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mysql"></span><span class="title">MYSQL基础篇学习专栏</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-mysql"></span><span class="title">MYSQL高级篇学习专栏</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="第 01 章_Linux下MySQL的安装与使用"><!---->第 01 章_Linux下MySQL的安装与使用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-安装前说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 安装前说明"><!---->1. 安装前说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-1-linux系统及工具的准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 1 Linux系统及工具的准备"><!---->1. 1 Linux系统及工具的准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-2-查看是否安装过mysql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 2 查看是否安装过MySQL"><!---->1. 2 查看是否安装过MySQL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-3-mysql的卸载" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1. 3 MySQL的卸载"><!---->1. 3 MySQL的卸载<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-mysql的linux版安装" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. MySQL的Linux版安装"><!---->2. MySQL的Linux版安装<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-1-mysql的-4-大版本" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 1 MySQL的 4 大版本"><!---->2. 1 MySQL的 4 大版本<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-2-下载mysql指定版本" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2. 2 下载MySQL指定版本"><!---->2. 2 下载MySQL指定版本<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-3-centos7下检查mysql依赖" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.3 CentOS7下检查MySQL依赖"><!---->2.3 CentOS7下检查MySQL依赖<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-4-centos7下mysql安装过程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.4 CentOS7下MySQL安装过程"><!---->2.4 CentOS7下MySQL安装过程<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-mysql登录" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. MySQL登录"><!---->3. MySQL登录<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-1-首次登录" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. 1 首次登录"><!---->3. 1 首次登录<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-2-修改密码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. 2 修改密码"><!---->3. 2 修改密码<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-3-设置远程登录" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3. 3 设置远程登录"><!---->3. 3 设置远程登录<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-mysql-8-的密码强度评估-了解" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. MySQL 8 的密码强度评估（了解）"><!---->4. MySQL 8 的密码强度评估（了解）<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-1-mysql不同版本设置密码-可能出现" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 1 MySQL不同版本设置密码(可能出现)"><!---->4. 1 MySQL不同版本设置密码(可能出现)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-2-mysql-8-之前的安全策略" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 2 MySQL 8 之前的安全策略"><!---->4. 2 MySQL 8 之前的安全策略<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-3-mysql-8-的安全策略" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 3 MySQL 8 的安全策略"><!---->4. 3 MySQL 8 的安全策略<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-4-卸载插件、组件-了解" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4. 4 卸载插件、组件(了解)"><!---->4. 4 卸载插件、组件(了解)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-字符集的相关操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 字符集的相关操作"><!---->5. 字符集的相关操作<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-1-修改mysql-5-7-字符集" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 1 修改MySQL 5. 7 字符集"><!---->5. 1 修改MySQL 5. 7 字符集<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-2-各级别的字符集" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 2 各级别的字符集"><!---->5. 2 各级别的字符集<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-3-字符集与比较规则-了解" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 3 字符集与比较规则(了解)"><!---->5. 3 字符集与比较规则(了解)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-4-请求到响应过程中字符集的变化" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5. 4 请求到响应过程中字符集的变化"><!---->5. 4 请求到响应过程中字符集的变化<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-sql大小写规范" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. SQL大小写规范"><!---->6. SQL大小写规范<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-1-windows和linux平台区别" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. 1 Windows和Linux平台区别"><!---->6. 1 Windows和Linux平台区别<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-2-linux下大小写规则设置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6. 2 Linux下大小写规则设置"><!---->6. 2 Linux下大小写规则设置<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-3-sql编写建议" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.3 SQL编写建议"><!---->6.3 SQL编写建议<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-sql-mode的合理设置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. sql_mode的合理设置"><!---->7. sql_mode的合理设置<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-1-宽松模式-vs-严格模式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.1 宽松模式 vs 严格模式"><!---->7.1 宽松模式 vs 严格模式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-2-宽松模式再举例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. 2 宽松模式再举例"><!---->7. 2 宽松模式再举例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-3-模式查看和设置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7. 3 模式查看和设置"><!---->7. 3 模式查看和设置<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2002%20%E7%AB%A0_MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95.html" class="nav-link sidebar-link sidebar-page" aria-label="第 02 章_MySQL的数据目录"><!---->第 02 章_MySQL的数据目录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2003%20%E7%AB%A0_%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html" class="nav-link sidebar-link sidebar-page" aria-label="第 03 章_用户与权限管理"><!---->第 03 章_用户与权限管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2004%20%E7%AB%A0_%E9%80%BB%E8%BE%91%E6%9E%B6%E6%9E%84.html" class="nav-link sidebar-link sidebar-page" aria-label="第 04 章_逻辑架构"><!---->第 04 章_逻辑架构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2005%20%E7%AB%A0_%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E.html" class="nav-link sidebar-link sidebar-page" aria-label="第 05 章_存储引擎"><!---->第 05 章_存储引擎<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2006%20%E7%AB%A0_%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" class="nav-link sidebar-link sidebar-page" aria-label="第 06 章_索引的数据结构"><!---->第 06 章_索引的数据结构<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2008%20%E7%AB%A0_%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html" class="nav-link sidebar-link sidebar-page" aria-label="第 08 章_索引的创建与设计原则"><!---->第 08 章_索引的创建与设计原则<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2009%20%E7%AB%A0_%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="第 09 章_性能分析工具的使用"><!---->第 09 章_性能分析工具的使用<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC%2010%20%E7%AB%A0_%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96%E4%B8%8E%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96.html" class="nav-link sidebar-link sidebar-page" aria-label="第 10 章_索引优化与查询优化"><!---->第 10 章_索引优化与查询优化<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC11%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83.html" class="nav-link sidebar-link sidebar-page" aria-label="第11章_数据库的设计规范"><!---->第11章_数据库的设计规范<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC12%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B6%E5%AE%83%E8%B0%83%E4%BC%98%E7%AD%96%E7%95%A5.html" class="nav-link sidebar-link sidebar-page" aria-label="第12章_数据库其它调优策略"><!---->第12章_数据库其它调优策略<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC13%E7%AB%A0_%E4%BA%8B%E5%8A%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link sidebar-link sidebar-page" aria-label="第13章_事务基础知识"><!---->第13章_事务基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC14%E7%AB%A0_MySQL%E4%BA%8B%E5%8A%A1%E6%97%A5%E5%BF%97.html" class="nav-link sidebar-link sidebar-page" aria-label="第14章_MySQL事务日志"><!---->第14章_MySQL事务日志<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC15%E7%AB%A0_%E9%94%81.html" class="nav-link sidebar-link sidebar-page" aria-label="第 15 章_锁"><!---->第 15 章_锁<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC16%E7%AB%A0_%E5%A4%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="第 16 章_多版本并发控制"><!---->第 16 章_多版本并发控制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC17%E7%AB%A0_%E5%85%B6%E5%AE%83%E6%95%B0%E6%8D%AE%E5%BA%93%E6%97%A5%E5%BF%97.html" class="nav-link sidebar-link sidebar-page" aria-label="第17章_其他数据库日志"><!---->第17章_其他数据库日志<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC18%E7%AB%A0_%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="第 18 章_主从复制"><!---->第 18 章_主从复制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/db/mysql_pro/%E7%AC%AC19%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.html" class="nav-link sidebar-link sidebar-page" aria-label="第19章_数据库备份与恢复"><!---->第19章_数据库备份与恢复<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-workingDirectory"></span><span class="title">Redis入门到精通</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-workingDirectory"></span><span class="title">Redis大厂进阶篇</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-free"></span><span class="title">数据库优化策略</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-search"></span><span class="title">Elasticsearch7.x分布式搜索引擎</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-search"></span><span class="title">Elasticsearch8.x分布式搜索引擎</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-quote"></span><span class="title">消息中间件</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tool"></span><span class="title">软件以及环境配置</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-ability"></span><span class="title">Linux操作系统</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-rank"></span><span class="title">JUC高并发编程</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mount"></span><span class="title">深入了解Java虚拟机</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-view"></span><span class="title">GOF23种设计模式</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tag"></span><span class="title">技术要点业务篇</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->第 01 章_Linux下MySQL的安装与使用</h1><div class="page-info"><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category4 clickable" role="navigation">mysql</span></li></ul><meta property="articleSection" content="mysql"></span><span aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag4 clickable" role="navigation">mysql</span></li><li><span class="tag tag3 clickable" role="navigation">SQL</span></li><li><span class="tag tag0 clickable" role="navigation">关系型数据库</span></li></ul><meta property="keywords" content="mysql,SQL,关系型数据库"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 29 分钟</span><meta property="timeRequired" content="PT29M"></span><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/Ragnarokoo/" target="_blank" rel="noopener noreferrer">Ragnarok</a></span><span property="author" content="Ragnarok"></span></span><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-05-31T09:16:41.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-安装前说明" class="router-link-active router-link-exact-active toc-link level2">1. 安装前说明</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-1-linux系统及工具的准备" class="router-link-active router-link-exact-active toc-link level3">1. 1 Linux系统及工具的准备</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-2-查看是否安装过mysql" class="router-link-active router-link-exact-active toc-link level3">1. 2 查看是否安装过MySQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_1-3-mysql的卸载" class="router-link-active router-link-exact-active toc-link level3">1. 3 MySQL的卸载</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-mysql的linux版安装" class="router-link-active router-link-exact-active toc-link level2">2. MySQL的Linux版安装</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-1-mysql的-4-大版本" class="router-link-active router-link-exact-active toc-link level3">2. 1 MySQL的 4 大版本</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-2-下载mysql指定版本" class="router-link-active router-link-exact-active toc-link level3">2. 2 下载MySQL指定版本</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-3-centos7下检查mysql依赖" class="router-link-active router-link-exact-active toc-link level3">2.3 CentOS7下检查MySQL依赖</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_2-4-centos7下mysql安装过程" class="router-link-active router-link-exact-active toc-link level3">2.4 CentOS7下MySQL安装过程</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-mysql登录" class="router-link-active router-link-exact-active toc-link level2">3. MySQL登录</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-1-首次登录" class="router-link-active router-link-exact-active toc-link level3">3. 1 首次登录</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-2-修改密码" class="router-link-active router-link-exact-active toc-link level3">3. 2 修改密码</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_3-3-设置远程登录" class="router-link-active router-link-exact-active toc-link level3">3. 3 设置远程登录</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-mysql-8-的密码强度评估-了解" class="router-link-active router-link-exact-active toc-link level2">4. MySQL 8 的密码强度评估（了解）</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-1-mysql不同版本设置密码-可能出现" class="router-link-active router-link-exact-active toc-link level3">4. 1 MySQL不同版本设置密码(可能出现)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-2-mysql-8-之前的安全策略" class="router-link-active router-link-exact-active toc-link level3">4. 2 MySQL 8 之前的安全策略</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-3-mysql-8-的安全策略" class="router-link-active router-link-exact-active toc-link level3">4. 3 MySQL 8 的安全策略</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_4-4-卸载插件、组件-了解" class="router-link-active router-link-exact-active toc-link level3">4. 4 卸载插件、组件(了解)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-字符集的相关操作" class="router-link-active router-link-exact-active toc-link level2">5. 字符集的相关操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-1-修改mysql-5-7-字符集" class="router-link-active router-link-exact-active toc-link level3">5. 1 修改MySQL 5. 7 字符集</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-2-各级别的字符集" class="router-link-active router-link-exact-active toc-link level3">5. 2 各级别的字符集</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-3-字符集与比较规则-了解" class="router-link-active router-link-exact-active toc-link level3">5. 3 字符集与比较规则(了解)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_5-4-请求到响应过程中字符集的变化" class="router-link-active router-link-exact-active toc-link level3">5. 4 请求到响应过程中字符集的变化</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-sql大小写规范" class="router-link-active router-link-exact-active toc-link level2">6. SQL大小写规范</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-1-windows和linux平台区别" class="router-link-active router-link-exact-active toc-link level3">6. 1 Windows和Linux平台区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-2-linux下大小写规则设置" class="router-link-active router-link-exact-active toc-link level3">6. 2 Linux下大小写规则设置</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_6-3-sql编写建议" class="router-link-active router-link-exact-active toc-link level3">6.3 SQL编写建议</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-sql-mode的合理设置" class="router-link-active router-link-exact-active toc-link level2">7. sql_mode的合理设置</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-1-宽松模式-vs-严格模式" class="router-link-active router-link-exact-active toc-link level3">7.1 宽松模式 vs 严格模式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-2-宽松模式再举例" class="router-link-active router-link-exact-active toc-link level3">7. 2 宽松模式再举例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/db/mysql_pro/%E7%AC%AC01%E7%AB%A0_Linux%E4%B8%8BMySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8.html#_7-3-模式查看和设置" class="router-link-active router-link-exact-active toc-link level3">7. 3 模式查看和设置</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="第-01-章-linux下mysql的安装与使用" tabindex="-1"><a class="header-anchor" href="#第-01-章-linux下mysql的安装与使用" aria-hidden="true">#</a> 第 01 章_Linux下MySQL的安装与使用</h1><p><img src="/assets/image-20221204174702222.5df4da3c.png" alt="image-20221204174702222"></p><h2 id="_1-安装前说明" tabindex="-1"><a class="header-anchor" href="#_1-安装前说明" aria-hidden="true">#</a> 1. 安装前说明</h2><h3 id="_1-1-linux系统及工具的准备" tabindex="-1"><a class="header-anchor" href="#_1-1-linux系统及工具的准备" aria-hidden="true">#</a> 1. 1 Linux系统及工具的准备</h3><ul><li>安装并启动好两台虚拟机：CentOS 7 <ul><li>掌握克隆虚拟机的操作 <ul><li>mac地址</li><li>主机名</li><li>ip地址</li><li>UUID</li></ul></li></ul></li><li>安装有Xshell 和Xftp等访问CentOS系统的工具</li><li>CentOS6和CentOS7在MySQL的使用中的区别</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>防火墙：6是iptables，7是firewalld

启动服务的命令：6是service，7是systemctl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-查看是否安装过mysql" tabindex="-1"><a class="header-anchor" href="#_1-2-查看是否安装过mysql" aria-hidden="true">#</a> 1. 2 查看是否安装过MySQL</h3><ul><li>如果你是用rpm安装, 检查一下RPM PACKAGE：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql  <span class="token comment"># 忽略大小写</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>检查mysql service：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl status mysqld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>如果存在mysql-libs的旧版本包，显示如下：</li></ul><p><img src="/assets/image-20221214173525019.f0071860.png" alt="image-20221214173525019"></p><ul><li>如果不存在mysql-lib的版本，显示如下：</li></ul><p><img src="/assets/image-20221214173600895.4e3ae95c.png" alt="image-20221214173600895"></p><h3 id="_1-3-mysql的卸载" tabindex="-1"><a class="header-anchor" href="#_1-3-mysql的卸载" aria-hidden="true">#</a> 1. 3 MySQL的卸载</h3><p><strong>1. 关闭 mysql 服务</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl stop mysqld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>2. 查看当前 mysql 安装状况</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql

<span class="token comment"># 或</span>

yum list installed <span class="token operator">|</span> <span class="token function">grep</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3.卸载上述命令查询出的已安装程序</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum remove mysql-xxx mysql-xxx mysql-xxx mysqk-xxxx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>务必卸载干净，反复执行rpm -qa | grep -i mysql确认是否有卸载残留</p><p><strong>4. 删除 mysql 相关文件</strong></p><ul><li>查找相关文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">find</span> / <span class="token parameter variable">-name</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>删除上述命令查找出的相关文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> xxx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>5 .删除 my.cnf</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/my.cnf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-mysql的linux版安装" tabindex="-1"><a class="header-anchor" href="#_2-mysql的linux版安装" aria-hidden="true">#</a> 2. MySQL的Linux版安装</h2><h3 id="_2-1-mysql的-4-大版本" tabindex="-1"><a class="header-anchor" href="#_2-1-mysql的-4-大版本" aria-hidden="true">#</a> 2. 1 MySQL的 4 大版本</h3><blockquote><p>MySQL Community Server 社区版本 ，开源免费，自由下载，但不提供官方技术支持，适用于 大多数普通用户。</p><p>MySQL Enterprise Edition 企业版本 ，需付费，不能在线下载，可以试用 30 天。提供了更多的功能和更完备的技术支持，更适合于对数据库的功能和可靠性要求较高的企业客户。</p><p>MySQL Cluster 集群版 ，开源免费。用于架设集群服务器，可将几个MySQL Server封装成一个 Server。需要在社区版或企业版的基础上使用。</p><p>MySQL Cluster CGE 高级集群版 ，需付费。</p></blockquote><ul><li>截止目前，官方最新版本为8.0.27。此前，8.0.0 在 2016.9.12日就发布了。</li><li>本课程中主要使用8.0.25版本。同时为了更好的说明MySQL8.0新特性，还会安装MySQL5.7版本，作为对比。</li></ul><p>此外，官方还提供了MySQL Workbench（GUITOOL）一款专为MySQL设计的ER/数据库建模工具。它是著名的数据库设计工具DBDesigner4的继任者。MySQLWorkbench又分为两个版本，分别是社区版（MySQL Workbench OSS）、商用版（MySQL WorkbenchSE）。</p><h3 id="_2-2-下载mysql指定版本" tabindex="-1"><a class="header-anchor" href="#_2-2-下载mysql指定版本" aria-hidden="true">#</a> 2. 2 下载MySQL指定版本</h3><p><strong>1.下载地址</strong></p><p>官网： <strong><a href="https://www.mysql.com" target="_blank" rel="noopener noreferrer">https://www.mysql.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><p><strong>2. 打开官网，点击DOWNLOADS</strong></p><p><code>然后，点击MySQL Community(GPL) Downloads</code></p><p><img src="/assets/image-20221214174518596.f251d98b.png" alt="image-20221214174518596"></p><p><strong>3. 点击 MySQL Community Server</strong></p><p><img src="/assets/image-20221214174619042.b9dadaba.png" alt="image-20221214174619042"></p><p><strong>4. 在General Availability(GA) Releases中选择适合的版本</strong></p><ul><li>如果安装Windows 系统下MySQL ，推荐下载MSI安装程序；点击Go to Download Page进行下载即可，如果安装mac系统下的MYSQL，推荐使用</li></ul><p><img src="/assets/image-20221214174648844.bd72815e.png" alt="image-20221214174648844"></p><p><img src="/assets/image-20221214174848109.5d5afa9e.png" alt="image-20221214174848109"></p><ul><li>Windows下的MySQL安装有两种安装程序 <ul><li>mysql-installer-web-community-8.0.25.0.msi 下载程序大小： 2. 4 M；安装时需要联网安装组件。</li><li>mysql-installer-community-8.0.25.0.msi 下载程序大小： 435. 7 M；安装时离线安装即 可。 推荐。</li></ul></li></ul><p><strong>5. Linux系统下安装MySQL的几种方式</strong></p><p><strong>5.1 Linux系统下安装软件的常用三种方式：</strong></p><p><strong>方式 1 ：rpm命令</strong></p><p>使用rpm命令安装扩展名为&quot;.rpm&quot;的软件包。</p><p>.rpm包的一般格式：</p><p><img src="/assets/image-20221214175154412.3c520a56.png" alt="image-20221214175154412"></p><p><strong>方式 2 ：yum命令</strong></p><p>需联网，从<code>互联网</code>获取的yum源，直接使用yum命令安装。</p><p><strong>方式 3 ：编译安装源码包</strong></p><p>针对tar.gz这样的压缩格式，要用tar命令来解压；如果是其它压缩格式，就使用其它命令。</p><p><strong>5. 2 Linux系统下安装MySQL，官方给出多种安装方式</strong></p><table><thead><tr><th>安装方式</th><th>特点</th></tr></thead><tbody><tr><td>rpm</td><td>安装简单，灵活性差，无法灵活选择版本、升级</td></tr><tr><td>rpm repository</td><td>安装包极小，版本安装简单灵活，升级方便，需要联网安装</td></tr><tr><td>通用二进制包</td><td>安装比较复杂，灵活性高，平台通用性好</td></tr><tr><td>源码包</td><td>安装最复杂，时间长，参数设置灵活，性能好</td></tr></tbody></table><ul><li>这里不能直接选择CentOS 7系统的版本，所以选择与之对应的<code>Red Hat Enterprise Linux</code></li><li><a href="https://downloads.mysql.com/archives/community/%E7%9B%B4%E6%8E%A5%E7%82%B9Download%E4%B8%8B%E8%BD%BDRPM" target="_blank" rel="noopener noreferrer">https://downloads.mysql.com/archives/community/直接点Download下载RPM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Bundle全量 包。包括了所有下面的组件。不需要一个一个下载了。</li></ul><img src="/assets/image-20221214175533390.d4d54a7a.png" alt="image-20221214175533390" style="zoom:50%;"><p><strong>6. 下载的tar包，用压缩工具打开</strong></p><img src="/assets/image-20221214175621816.c30872a3.png" alt="image-20221214175621816" style="zoom:50%;"><ul><li>解压后rpm安装包 （红框为抽取出来的安装包）</li></ul><img src="/assets/image-20221214175646422.0a1935e7.png" alt="image-20221214175646422" style="zoom:50%;"><h3 id="_2-3-centos7下检查mysql依赖" tabindex="-1"><a class="header-anchor" href="#_2-3-centos7下检查mysql依赖" aria-hidden="true">#</a> 2.3 CentOS7下检查MySQL依赖</h3><p><strong>1.检查/tmp临时目录权限（必不可少）</strong></p><p>由于mysql安装过程中，会通过mysql用户在/tmp目录下新建tmp_db文件，所以请给/tmp较大的权限。执行 ：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /tmp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214175820485.77f8592d.png" alt="image-20221214175820485"></p><h4 id="_2-安装前-检查依赖" tabindex="-1"><a class="header-anchor" href="#_2-安装前-检查依赖" aria-hidden="true">#</a> 2. 安装前，检查依赖</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> libaio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>如果存在libaio包如下：</li></ul><p><img src="/assets/image-20221214175943099.b2247317.png" alt="image-20221214175943099"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> net-tools
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>如果存在net-tools包如下：</li></ul><p><img src="/assets/image-20221214180045636.9d39011e.png" alt="image-20221214180045636"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> net-tools
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>如果不存在需要到centos安装盘里进行rpm安装。安装linux如果带图形化界面，这些都是安装好的。</li></ul><h3 id="_2-4-centos7下mysql安装过程" tabindex="-1"><a class="header-anchor" href="#_2-4-centos7下mysql安装过程" aria-hidden="true">#</a> 2.4 CentOS7下MySQL安装过程</h3><h4 id="_1-将安装程序拷贝到-opt目录下" tabindex="-1"><a class="header-anchor" href="#_1-将安装程序拷贝到-opt目录下" aria-hidden="true">#</a> 1. 将安装程序拷贝到/opt目录下</h4><p>在mysql的安装文件目录下执行：（必须按照顺序执行）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-common-8.0.25-1.el7.x86_64.rpm

<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-client-plugins-8.0.25-1.el7.x86_64.rpm

<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-libs-8.0.25-1.el7.x86_64.rpm

<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-client-8.0.25-1.el7.x86_64.rpm

<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-server-8.0.25-1.el7.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>注意: 如在检查工作时，没有检查mysql依赖环境在安装mysql-community-server会报错</p></li><li><p><code>rpm</code> 是<code>Redhat Package Manage</code>缩写，通过RPM的管理，用户可以把源代码包装成以rpm为扩展名的文件形式，易于安装。</p></li><li><p><code>-i</code>, --install 安装软件包</p></li><li><p><code>-v</code>, --verbose 提供更多的详细信息输出</p></li><li><p><code>-h</code>, --hash 软件包安装的时候列出哈希标记 (和 -v 一起使用效果更好)，展示进度条</p></li></ul><img src="/assets/image-20221214180451446.c3a83891.png" alt="image-20221214180451446" style="zoom:50%;"><h4 id="_2-安装过程截图" tabindex="-1"><a class="header-anchor" href="#_2-安装过程截图" aria-hidden="true">#</a> 2. 安装过程截图</h4><p><img src="/assets/image-20221214180527393.9c0883c4.png" alt="image-20221214180527393"></p><p>安装过程中可能的报错信息：</p><p><img src="/assets/image-20221214180610131.16b515e9.png" alt="image-20221214180610131"></p><blockquote><p>一个命令：<code> yum remove mysql-libs</code> 解决，清除之前安装过的依赖即可</p></blockquote><h4 id="_3-查看mysql版本" tabindex="-1"><a class="header-anchor" href="#_3-查看mysql版本" aria-hidden="true">#</a> 3. 查看MySQL版本</h4><p>执行如下命令，如果成功表示安装mysql成功。类似java -version如果打出版本等信息</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql <span class="token parameter variable">--version</span>
<span class="token comment">#或</span>
mysqladmin <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/image-20221214180734872.cef4cdfd.png" alt="image-20221214180734872"></p><p>执行如下命令，查看是否安装成功。需要增加 -i 不用去区分大小写，否则搜索不到。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214180810452.00bb741b.png" alt="image-20221214180810452"></p><h4 id="_4-服务的初始化" tabindex="-1"><a class="header-anchor" href="#_4-服务的初始化" aria-hidden="true">#</a> 4. 服务的初始化</h4><p>为了保证数据库目录与文件的所有者为 mysql 登录用户，如果你是以 root 身份运行 mysql 服务，需要执行下面的命令初始化：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysqld <span class="token parameter variable">--initialize</span> <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>说明： --initialize 选项默认以“安全”模式来初始化，则会为 root 用户生成一个密码并将<code>该密码标记为过期</code>，登录后你需要设置一个新的密码。生成的临时密码会往日志中记录一份。</p><p>查看密码：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /var/log/mysqld.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214180940083.7ce241e9.png" alt="image-20221214180940083"></p><p>root@localhost: 后面就是初始化的密码</p><h4 id="_5-启动mysql-查看状态" tabindex="-1"><a class="header-anchor" href="#_5-启动mysql-查看状态" aria-hidden="true">#</a> 5. 启动MySQL，查看状态</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#加不加.service后缀都可以</span>

启动：systemctl start mysqld.service

关闭：systemctl stop mysqld.service

重启：systemctl restart mysqld.service

查看状态：systemctl status mysqld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>mysqld</code>这个可执行文件就代表着<code>MySQL</code>服务器程序，运行这个可执行文件就可以直接启动一个服务器进程。</p></blockquote><p><img src="/assets/image-20221214181110630.ab3c3d32.png" alt="image-20221214181110630"></p><p>查看进程：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214181147105.9be34e54.png" alt="image-20221214181147105"></p><h4 id="_6-查看mysql服务是否自启动" tabindex="-1"><a class="header-anchor" href="#_6-查看mysql服务是否自启动" aria-hidden="true">#</a> 6. 查看MySQL服务是否自启动</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl list-unit-files<span class="token operator">|</span><span class="token function">grep</span> mysqld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>默认是enabled。</p><ul><li><p>如不是enabled可以运行如下命令设置自启动</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> mysqld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214181341318.ae6de6eb.png" alt="image-20221214181341318"></p></li><li><p>如果希望不进行自启动，运行如下命令设置</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl disable mysqld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="/assets/image-20221214181454494.0e1df9ab.png" alt="image-20221214181454494" style="zoom:50%;"></li></ul><h2 id="_3-mysql登录" tabindex="-1"><a class="header-anchor" href="#_3-mysql登录" aria-hidden="true">#</a> 3. MySQL登录</h2><h3 id="_3-1-首次登录" tabindex="-1"><a class="header-anchor" href="#_3-1-首次登录" aria-hidden="true">#</a> 3. 1 首次登录</h3><p>通过 <code>mysql -hlocalhost -P3306 -uroot -p</code>进行登录，在Enter password：录入初始化密码</p><p><img src="/assets/image-20221214181600642.90723330.png" alt="image-20221214181600642"></p><h3 id="_3-2-修改密码" tabindex="-1"><a class="header-anchor" href="#_3-2-修改密码" aria-hidden="true">#</a> 3. 2 修改密码</h3><ul><li><p>因为初始化密码默认是过期的，所以查看数据库会报错</p></li><li><p>修改密码：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ALTER <span class="token environment constant">USER</span> <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> IDENTIFIED BY <span class="token string">&#39;new_password&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>5.7版本之后（不含5.7），mysql加入了全新的密码安全机制。设置新密码太简单会报错。</p></li></ul><p><img src="/assets/image-20221214181729540.651f0e54.png" alt="image-20221214181729540"></p><ul><li>改为更复杂的密码规则之后，设置成功，可以正常使用数据库了</li></ul><p><img src="/assets/image-20221214181813926.82f2d5b0.png" alt="image-20221214181813926"></p><h3 id="_3-3-设置远程登录" tabindex="-1"><a class="header-anchor" href="#_3-3-设置远程登录" aria-hidden="true">#</a> 3. 3 设置远程登录</h3><h4 id="_1-当前问题" tabindex="-1"><a class="header-anchor" href="#_1-当前问题" aria-hidden="true">#</a> 1. 当前问题</h4><p>在用SQLyog或Navicat中配置远程连接Mysql数据库时遇到如下报错信息，这是由于Mysql配置了不支持远程连接引起的。</p><p><img src="/assets/image-20221214181858971.bda0bee0.png" alt="image-20221214181858971"></p><h4 id="_2-确认网络" tabindex="-1"><a class="header-anchor" href="#_2-确认网络" aria-hidden="true">#</a> 2. 确认网络</h4><p>1.在远程机器上使用ping ip地址保证网络畅通</p><p>2.在远程机器上使用telnet命令保证端口号开放访问</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>telnet ip地址 端口号
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>拓展：<code>telnet命令开启</code>:</p><p><img src="/assets/image-20221214182029194.dc29fed9.png" alt="image-20221214182029194"></p><p><img src="/assets/image-20221214182048647.11050b3a.png" alt="image-20221214182048647"></p><h4 id="_3-关闭防火墙或开放端口" tabindex="-1"><a class="header-anchor" href="#_3-关闭防火墙或开放端口" aria-hidden="true">#</a> 3. 关闭防火墙或开放端口</h4><p><strong>方式一：关闭防火墙</strong></p><ul><li>CentOS6 ：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">service</span> iptables stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>CentOS7：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl start firewalld.service

systemctl status firewalld.service

systemctl stop firewalld.service

<span class="token comment">#设置开机启用防火墙</span>
systemctl <span class="token builtin class-name">enable</span> firewalld.service

<span class="token comment">#设置开机禁用防火墙</span>
systemctl disable firewalld.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>方式二：开放端口</strong></p><ul><li>查看开放的端口号</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd --list-all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>设置开放的端口号</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd --add-service<span class="token operator">=</span>http <span class="token parameter variable">--permanent</span>

firewall-cmd --add-port<span class="token operator">=</span> <span class="token number">3306</span> /tcp <span class="token parameter variable">--permanent</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>重启防火墙</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-linux下修改配置" tabindex="-1"><a class="header-anchor" href="#_4-linux下修改配置" aria-hidden="true">#</a> 4. Linux下修改配置</h4><p>在Linux系统MySQL下测试：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>use mysql;

select Host,User from user;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/image-20221214182515317.ccb69a7f.png" alt="image-20221214182515317"></p><p>可以看到root用户的当前主机配置信息为localhost。</p><ul><li><strong>修改Host为通配符%</strong></li></ul><p>Host列指定了允许用户登录所使用的IP，比如user=root Host=192.168.1.1。这里的意思就是说root用户只能通过192.168.1.1的客户端去访问。 user=root Host=localhost，表示只能通过本机客户端去访问。而%是个通配符，如果Host=192.168.1.%，那么就表示只要是IP地址前缀为“192.168.1.”的客户端都可以连接。如果Host=%，表示所有IP都有连接权限。</p><p>注意：在生产环境下不能为了省事将host设置为%，这样做会存在安全问题，具体的设置可以根据生产环境的IP进行设置。</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>update user set host = &#39;%&#39; where user =&#39;root&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Host设置了“%”后便可以允许远程访问。</p><p><img src="/assets/image-20221214182605342.8015cdf6.png" alt="image-20221214182605342"></p><p>Host修改完成后记得执行flush privileges使配置立即生效：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>flush privileges;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_5-测试" tabindex="-1"><a class="header-anchor" href="#_5-测试" aria-hidden="true">#</a> 5. 测试</h4><ul><li>如果是 MySQL5.7 版本，接下来就可以使用SQLyog或者Navicat成功连接至MySQL了。</li><li>如果是 MySQL8 版本，连接时还会出现如下问题：</li></ul><p><img src="/assets/image-20221214182715668.b6ad83d2.png" alt="image-20221214182715668"></p><p>配置新连接报错：错误号码 2058 ，分析是 mysql 密码加密方法变了。</p><p><strong>解决方法：</strong> Linux下 mysql -u root -p 登录你的 mysql 数据库，然后 执行这条SQL：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ALTER <span class="token environment constant">USER</span> <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> IDENTIFIED WITH mysql_native_password BY <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后在重新配置SQLyog的连接，则可连接成功了，OK。</p><h2 id="_4-mysql-8-的密码强度评估-了解" tabindex="-1"><a class="header-anchor" href="#_4-mysql-8-的密码强度评估-了解" aria-hidden="true">#</a> 4. MySQL 8 的密码强度评估（了解）</h2><h3 id="_4-1-mysql不同版本设置密码-可能出现" tabindex="-1"><a class="header-anchor" href="#_4-1-mysql不同版本设置密码-可能出现" aria-hidden="true">#</a> 4. 1 MySQL不同版本设置密码(可能出现)</h3><ul><li>MySQL5.7中：成功</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; alter user &#39;root&#39; identified by &#39;abcd1234&#39;;
Query OK, 0 rows affected (0.00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>MySQL8.0中：失败</li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; alter user &#39;root&#39; identified by &#39;abcd1234&#39;; # HelloWorld_
ERROR 1819 (HY000): Your password does not satisfy the current policy requirements
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-mysql-8-之前的安全策略" tabindex="-1"><a class="header-anchor" href="#_4-2-mysql-8-之前的安全策略" aria-hidden="true">#</a> 4. 2 MySQL 8 之前的安全策略</h3><p>在MySQL 8.0之前，MySQL使用的是validate_password插件检测、验证账号密码强度，保障账号的安全 性。</p><p><strong>安装/启用插件方式 1 ：在参数文件my.cnf中添加参数</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>[mysqld]

plugin-load-add=validate_password.so

\#ON/OFF/FORCE/FORCE_PLUS_PERMANENT: 是否使用该插件(及强制/永久强制使用)

validate-password=FORCE_PLUS_PERMANENT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>说明 1 ： plugin library中的validate_password文件名的后缀名根据平台不同有所差异。 对于Unix和Unix-like系统而言，<a href="http://xn--5nqx7jca847ek4m52ac05ftgo.so" target="_blank" rel="noopener noreferrer">它的文件后缀名是.so<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，对于Windows系统而言，它的文件后缀名是.dll。</p><p>说明 2 ： 修改参数后必须重启MySQL服务才能生效。 说明 3 ： 参数FORCE_PLUS_PERMANENT是为了防止插件在MySQL运行时的时候被卸载。当你卸载插件时就会报错。如下所示。</p></blockquote><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; SELECT PLUGIN_NAME, PLUGIN_LIBRARY, PLUGIN_STATUS, LOAD_OPTION
-&gt; FROM INFORMATION_SCHEMA.PLUGINS
-&gt; WHERE PLUGIN_NAME = &#39;validate_password&#39;;
+-------------------+----------------------+---------------+----------------------+
| PLUGIN_NAME | PLUGIN_LIBRARY | PLUGIN_STATUS | LOAD_OPTION |
+-------------------+----------------------+---------------+----------------------+
| validate_password | validate_password.so | ACTIVE | FORCE_PLUS_PERMANENT |
+-------------------+----------------------+---------------+----------------------+
1 row in set (0.00 sec)

mysql&gt;  UNINSTALL PLUGIN validate_password;
ERROR 1702 (HY000): Plugin &#39;validate_password&#39; is force_plus_permanent and can not be
unloaded
mysql&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>安装/启用插件方式 2 ：运行时命令安装</code></strong> （推荐）</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; INSTALL PLUGIN validate_password SONAME &#39;validate_password.so&#39;;
Query OK, 0 rows affected, 1 warning (0.11 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>此方法也会注册到元数据，也就是mysql.plugin表中，所以不用担心MySQL重启后插件会失效。</p><h3 id="_4-3-mysql-8-的安全策略" tabindex="-1"><a class="header-anchor" href="#_4-3-mysql-8-的安全策略" aria-hidden="true">#</a> 4. 3 MySQL 8 的安全策略</h3><p><strong>1. validate_password说明</strong></p><p>MySQL 8.0，引入了服务器组件（Components）这个特性，validate_password插件已用服务器组件重新实现。8.0.25版本的数据库中，默认自动安装validate_password组件。</p><p><code>未安装插件前，执行如下两个指令</code>，执行效果：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; show variables like &#39;validate_password%&#39;;
Empty set (0.04 sec)

mysql&gt; SELECT * FROM mysql.component;
ERROR 1146 ( 42 S02): Table &#39;mysql.component&#39; doesn&#39;t exist
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>安装插件后，执行如下两个指令</code>，执行效果：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; SELECT * FROM mysql.component;
+--------------+--------------------+------------------------------------+
| component_id | component_group_id | component_urn |
+--------------+--------------------+------------------------------------+
| 1 | 1 | file://component_validate_password |
+--------------+--------------------+------------------------------------+
1 row in set (0.00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mysql&gt; show variables like &#39;validate_password%&#39;;
+--------------------------------------+--------+
| Variable_name | Value |
+--------------------------------------+--------+
| validate_password.check_user_name | ON |
| validate_password.dictionary_file | |
| validate_password.length | 8 |
| validate_password.mixed_case_count | 1 |
| validate_password.number_count | 1 |
| validate_password.policy | MEDIUM |
| validate_password.special_char_count | 1 |
+--------------------------------------+--------+
7 rows in set (0.01 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于validate_password组件对应的系统变量说明：</p><table><thead><tr><th>选项</th><th>默认值</th><th>参数描述</th></tr></thead><tbody><tr><td>validate_password_check_user_name</td><td>ON</td><td>设置为ON的时候表示能将密码设置成当前用户名。</td></tr><tr><td>validate_password_dictionary_file</td><td></td><td>用于检查密码的字典文件的路径名，默认为空</td></tr><tr><td><code>validate_password_length</code></td><td>8</td><td>密码的最小长度，也就是说密码长度必须大于或等于 8</td></tr><tr><td>validate_password_mixed_case_count</td><td>1</td><td>如果密码策略是中等或更强的，validate_password要求密码具有的小写和大写字符的最小数量。对于给定的这个值密码必须有那么多小写字符和那么多大写字符。</td></tr><tr><td>validate_password_number_count</td><td>1</td><td>密码必须包含的数字个数</td></tr><tr><td>validate_password_policy</td><td>MEDIUM</td><td>密码强度检验等级，可以使用数值 0 、 1 、 2或相应的符号值LOW、MEDIUM、STRONG来指定。0/LOW：只检查长度。1/MEDIUM：检查长度、数字、大小写、特殊字符。2/STRONG：检查长度、数字、大小写、特殊字符、字典文件。</td></tr><tr><td>validate_password_special_char_count</td><td>1</td><td>密码必须包含的特殊字符个数</td></tr></tbody></table><blockquote><p>提示：</p><p>组件和插件的默认值可能有所不同。例如，MySQL 5.7. validate_password_check_user_name的默认值为OFF。</p></blockquote><p><strong>2. 修改安全策略</strong></p><p>修改密码验证安全强度</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SET GLOBAL validate_password_policy=LOW;

SET GLOBAL validate_password_policy=MEDIUM;

SET GLOBAL validate_password_policy=STRONG;

SET GLOBAL validate_password_policy= 0 ;  # For LOW

SET GLOBAL validate_password_policy= 1 ;  # For MEDIUM

SET GLOBAL validate_password_policy= 2 ;  # For HIGH

#注意，如果是插件的话,SQL为set global validate_password_policy=LOW
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此外，还可以修改密码中字符的长度</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>set global validate_password_length= 1 ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>3.密码强度测试</strong></p><p>如果你创建密码是遇到“Your password does not satisfy the current policy requirements”，可以通过函数组件去检测密码是否满足条件： 0-100。当评估在 100 时就是说明使用上了最基本的规则：大写+小写+特殊字符+数字组成的 8 位以上密码</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt;  SELECT VALIDATE_PASSWORD_STRENGTH(&#39;medium&#39;);
+--------------------------------------+
| VALIDATE_PASSWORD_STRENGTH(&#39;medium&#39;) |
+--------------------------------------+
| 25 |
+--------------------------------------+
1 row in set (0.00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; SELECT VALIDATE_PASSWORD_STRENGTH(&#39;K354*45jKd5&#39;);
+-------------------------------------------+
| VALIDATE_PASSWORD_STRENGTH(&#39;K354*45jKd5&#39;) |
+-------------------------------------------+
| 100 |
+-------------------------------------------+
1 row in set (0.00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：如果没有安装validate_password组件或插件的话，那么这个函数永远都返回 0 。 关于密码复杂度对应的密码复杂度策略。如下表格所示：</p><table><thead><tr><th>Password Test</th><th>Return Value</th></tr></thead><tbody><tr><td>Length &lt; 4</td><td>0</td></tr><tr><td>Length ≥ 4 and &lt; validate_password.length</td><td>25</td></tr><tr><td>Satisfies policy 1 (LOW)</td><td>50</td></tr><tr><td>Satisfies policy 2 (MEDIUM)</td><td>75</td></tr><tr><td>Satisfies policy 3 (STRONG)</td><td>100</td></tr></tbody></table><h3 id="_4-4-卸载插件、组件-了解" tabindex="-1"><a class="header-anchor" href="#_4-4-卸载插件、组件-了解" aria-hidden="true">#</a> 4. 4 卸载插件、组件(了解)</h3><p><strong>卸载插件</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; UNINSTALL PLUGIN validate_password;
Query OK, 0 rows affected, 1 warning (0.01 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>卸载组件</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; UNINSTALL COMPONENT &#39;file://component_validate_password&#39;;
Query OK, 0 rows affected (0.02 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-字符集的相关操作" tabindex="-1"><a class="header-anchor" href="#_5-字符集的相关操作" aria-hidden="true">#</a> 5. 字符集的相关操作</h2><h3 id="_5-1-修改mysql-5-7-字符集" tabindex="-1"><a class="header-anchor" href="#_5-1-修改mysql-5-7-字符集" aria-hidden="true">#</a> 5. 1 修改MySQL 5. 7 字符集</h3><h4 id="_1-修改步骤" tabindex="-1"><a class="header-anchor" href="#_1-修改步骤" aria-hidden="true">#</a> 1. 修改步骤</h4><p>在MySQL 8. 0 版本之前，默认字符集为latin1，utf 8 字符集指向的是utf8mb3。网站开发人员在数据库设计的时候往往会将编码修改为utf 8 字符集。如果遗忘修改默认的编码，就会出现乱码的问题。从MySQL8.0 开始，数据库的默认编码将改为utf8mb4，从而避免上述乱码的问题。</p><p><strong>操作 1 ：查看默认使用的字符集</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>show variables like &#39;character%&#39;;

# 或者

show variables like &#39;%char%&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>MySQL 8. 0 中执行：</li></ul><img src="/assets/image-20221214201247837.b1bf8900.png" alt="image-20221214201247837" style="zoom:50%;"><ul><li>MySQL 5. 7 中执行：</li></ul><p>MySQL 5. 7 默认的客户端和服务器都用了latin1，不支持中文，保存中文会报错。MySQL 5. 7 截图如下：</p><p><img src="/assets/image-20221214201357496.36bf828e.png" alt="image-20221214201357496"></p><p>在MySQL 5. 7 中添加中文数据时，报错：</p><p><img src="/assets/image-20221214201419360.a40c8830.png" alt="image-20221214201419360"></p><p>因为默认情况下，创建表使用的是latin1。如下：</p><p><img src="/assets/image-20221214201452748.d9e7091d.png" alt="image-20221214201452748"></p><p><strong>操作 2 ：修改字符集</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/my.cnf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在MySQL 5. 7 或之前的版本中，在文件最后加上中文字符集配置：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>character_set_server=utf8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214201611487.99aaeec2.png" alt="image-20221214201611487"></p><p><strong>操作 3 ：重新启动MySQL服务</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>但是原库、原表的设定不会发生变化，参数修改只对新建的数据库生效。</p></blockquote><h4 id="_2-已有库-表字符集的变更" tabindex="-1"><a class="header-anchor" href="#_2-已有库-表字符集的变更" aria-hidden="true">#</a> 2. 已有库&amp;表字符集的变更</h4><p>MySQL 5. 7 版本中，以前创建的库，创建的表字符集还是latin 1 。</p><p><img src="/assets/image-20221214201700809.dd2ad64d.png" alt="image-20221214201700809"></p><p>修改已创建数据库的字符集</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>alter database dbtest1 character set &#39;utf8&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改已创建数据表的字符集</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>alter table t_emp convert to character set &#39;utf8&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214201835012.a4de0852.png" alt="image-20221214201835012"></p><blockquote><p>注意：但是原有的数据如果是用非&#39;utf 8 &#39;编码的话，数据本身编码不会发生改变。已有数据需要导出或删除，然后重新插入。</p></blockquote><h3 id="_5-2-各级别的字符集" tabindex="-1"><a class="header-anchor" href="#_5-2-各级别的字符集" aria-hidden="true">#</a> 5. 2 各级别的字符集</h3><p>MySQL有 4 个级别的字符集和比较规则，分别是：</p><ul><li>服务器级别</li><li>数据库级别</li><li>表级别</li><li>列级别</li></ul><p>执行如下SQL语句：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>show variables like &#39;character%&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/image-20221214201924932.bc1930a1.png" alt="image-20221214201924932"></p><ul><li>character_set_server：服务器级别的字符集</li><li>character_set_database：当前数据库的字符集</li><li>character_set_client：服务器解码请求时使用的字符集</li><li>character_set_connection：服务器处理请求时会把请求字符串从character_set_client转为</li><li>character_set_connection</li><li>character_set_results：服务器向客户端返回数据时使用的字符集</li></ul><h4 id="_1-服务器级别" tabindex="-1"><a class="header-anchor" href="#_1-服务器级别" aria-hidden="true">#</a> 1. 服务器级别</h4><ul><li><code>character_set_server</code>：服务器级别的字符集。</li></ul><p>我们可以在启动服务器程序时通过启动选项或者在服务器程序运行过程中使用SET语句修改这两个变量的值。比如我们可以在配置文件中这样写：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>[server]
character_set_server=gbk  # 默认字符集
collation_server=gbk_chinese_ci  #对应的默认的比较规则
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当服务器启动的时候读取这个配置文件后这两个系统变量的值便修改了。</p><h4 id="_2-数据库级别" tabindex="-1"><a class="header-anchor" href="#_2-数据库级别" aria-hidden="true">#</a> 2. 数据库级别</h4><ul><li><code>character_set_database</code>：当前数据库的字符集</li></ul><p>我们在创建和修改数据库的时候可以指定该数据库的字符集和比较规则，具体语法如下：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>CREATE DATABASE 数据库名
[[DEFAULT] CHARACTER SET 字符集名称]
[[DEFAULT] COLLATE 比较规则名称];
ALTER DATABASE 数据库名
[[DEFAULT] CHARACTER SET 字符集名称]
[[DEFAULT] COLLATE 比较规则名称];
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-表级别" tabindex="-1"><a class="header-anchor" href="#_3-表级别" aria-hidden="true">#</a> 3. 表级别</h4><p>我们也可以在创建和修改表的时候指定表的字符集和比较规则，语法如下：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>CREATE TABLE 表名 (列的信息)
[[DEFAULT] CHARACTER SET 字符集名称]
[COLLATE 比较规则名称]]
ALTER TABLE 表名
[[DEFAULT] CHARACTER SET 字符集名称]
[COLLATE 比较规则名称]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>如果创建和修改表的语句中没有指明字符集和比较规则，将使用该表所在数据库的字符集和比较规则作为该表的字符集和比较规则。</strong></p><h4 id="_4-列级别" tabindex="-1"><a class="header-anchor" href="#_4-列级别" aria-hidden="true">#</a> 4. 列级别</h4><p>对于存储字符串的列，同一个表中的不同的列也可以有不同的字符集和比较规则。我们在创建和修改列定义的时候可以指定该列的字符集和比较规则，语法如下：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>CREATE TABLE 表名(
列名 字符串类型 [CHARACTER SET 字符集名称] [COLLATE 比较规则名称],
其他列...
);

ALTER TABLE 表名 MODIFY 列名 字符串类型 [CHARACTER SET 字符集名称] [COLLATE 比较规则名称];
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>对于某个列来说，如果在创建和修改的语句中没有指明字符集和比较规则，将使用该列所在表的字符集和比较规则作为该列的字符集和比较规则。</strong></p><blockquote><p>提示</p><p>在转换列的字符集时需要注意，如果转换前列中存储的数据不能用转换后的字符集进行表示会发生错误。比方说原先列使用的字符集是utf 8 ，列中存储了一些汉字，现在把列的字符集转换为ascii的话就会出错，因为ascii字符集并不能表示汉字字符。</p></blockquote><h4 id="_5-小结" tabindex="-1"><a class="header-anchor" href="#_5-小结" aria-hidden="true">#</a> 5. 小结</h4><p>我们介绍的这 4 个级别字符集和比较规则的联系如下：</p><ul><li>如果创建或修改列时没有显式的指定字符集和比较规则，则该列默认用表的字符集和比较规则</li><li>如果创建表时没有显式的指定字符集和比较规则，则该表默认用数据库的字符集和比较规则</li><li>如果创建数据库时没有显式的指定字符集和比较规则，则该数据库默认用服务器的字符集和比较规则</li></ul><p>知道了这些规则之后，对于给定的表，我们应该知道它的各个列的字符集和比较规则是什么，从而根据这个列的类型来确定存储数据时每个列的实际数据占用的存储空间大小了。比方说我们向表t中插入一条记录：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; INSERT INTO t(col) VALUES(&#39;我们&#39;);
Query OK, 1 row affected (0.00 sec)

mysql&gt; SELECT * FROM t;
+--------+
| s |
+--------+
| 我们 |
+--------+
1 row in set (0.00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先列<code>col</code>使用的字符集是<code>gbk</code>，一个字符&#39;<code>我</code>&#39;在<code>gbk</code>中的编码为<code>0xCED2</code>，占用两个字节，两个字符的实际数据就占用 4 个字节。如果把该列的字符集修改为<code>utf8</code>的话，这两个字符就实际占用 6 个字节</p><h3 id="_5-3-字符集与比较规则-了解" tabindex="-1"><a class="header-anchor" href="#_5-3-字符集与比较规则-了解" aria-hidden="true">#</a> 5. 3 字符集与比较规则(了解)</h3><h4 id="_1-utf-8-与-utf-8-mb-4" tabindex="-1"><a class="header-anchor" href="#_1-utf-8-与-utf-8-mb-4" aria-hidden="true">#</a> 1. utf 8 与 utf 8 mb 4</h4><p><code>utf8</code>字符集表示一个字符需要使用 1 ～ 4 个字节，但是我们常用的一些字符使用 1 ～ 3 个字节就可以表示了。而字符集表示一个字符所用的最大字节长度，在某些方面会影响系统的存储和性能，所以设计MySQL的设计者偷偷的定义了两个概念：</p><ul><li><code>utf8mb3</code>：阉割过的<code>utf8</code>字符集，只使用 1 ～ 3 个字节表示字符。</li><li><code>utf8mb4</code>：正宗的<code>utf8</code>字符集，使用 1 ～ 4 个字节表示字符。</li></ul><h4 id="_2-比较规则" tabindex="-1"><a class="header-anchor" href="#_2-比较规则" aria-hidden="true">#</a> 2. 比较规则</h4><p>上表中，MySQL版本一共支持 41 种字符集，其中的<code>Default collation</code>列表示这种字符集中一种默认的比较规则，里面包含着该比较规则主要作用于哪种语言，比如<code>utf8_polish_ci</code>表示以波兰语的规则比较，<code>utf8_spanish_ci</code>是以西班牙语的规则比较，<code>utf8_general_ci</code>是一种通用的比较规则。</p><p>后缀表示该比较规则是否区分语言中的重音、大小写。具体如下：</p><table><thead><tr><th>后缀</th><th>英文释义</th><th>描述</th></tr></thead><tbody><tr><td><code>_ai</code></td><td><code>accent insensitive</code></td><td>不区分重音</td></tr><tr><td><code>_as</code></td><td><code>accent sensitive</code></td><td>区分重音</td></tr><tr><td><code>_ci</code></td><td><code>case insensitive</code></td><td>不区分大小写</td></tr><tr><td><code>_cs</code></td><td><code>case sensitive</code></td><td>区分大小写</td></tr><tr><td><code>_bin</code></td><td><code>binary</code></td><td>以二进制方式比较</td></tr></tbody></table><p>最后一列<code>Maxlen</code>，它代表该种字符集表示一个字符最多需要几个字节。</p><p><strong>常用操作 1 ：</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#查看GBK字符集的比较规则
SHOW COLLATION LIKE &#39;gbk%&#39;;

#查看UTF-8字符集的比较规则
SHOW COLLATION LIKE &#39;utf8%&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常用操作 2 ：</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#查看服务器的字符集和比较规则
SHOW VARIABLES LIKE &#39;%_server&#39;;

#查看数据库的字符集和比较规则
SHOW VARIABLES LIKE &#39;%_database&#39;;

#查看具体数据库的字符集
SHOW CREATE DATABASE dbtest1;

#修改具体数据库的字符集
ALTER DATABASE dbtest1 DEFAULT CHARACTER SET &#39;utf8&#39; COLLATE &#39;utf8_general_ci&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常用操作 3 ：</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#查看表的字符集
show create table employees;

#查看表的比较规则
show table status from atguigudb like &#39;employees&#39;;

#修改表的字符集和比较规则
ALTER TABLE emp1 DEFAULT CHARACTER SET &#39;utf8&#39; COLLATE &#39;utf8_general_ci&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-请求到响应过程中字符集的变化" tabindex="-1"><a class="header-anchor" href="#_5-4-请求到响应过程中字符集的变化" aria-hidden="true">#</a> 5. 4 请求到响应过程中字符集的变化</h3><table><thead><tr><th>系统变量</th><th>描述</th></tr></thead><tbody><tr><td><code>character_set_client</code></td><td>服务器解码请求时使用的字符集</td></tr><tr><td><code>character_set_connection</code></td><td>服务器处理请求时会把请求字符串从character_set_client转为character_set_connection</td></tr><tr><td><code>character_set_results</code></td><td>服务器向客户端返回数据时使用的字符集</td></tr></tbody></table><p>这几个系统变量在我的计算机上的默认值如下（不同操作系统的默认值可能不同）：</p><p><img src="/assets/image-20221214233040431.66f0b6ba.png" alt="image-20221214233040431"></p><p>为了体现出字符集在请求处理过程中的变化，我们这里特意修改一个系统变量的值：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>mysql&gt; set character_set_connection = gbk;
Query OK, 0 rows affected (0.00 sec)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>现在假设我们客户端发送的请求是下边这个字符串：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SELECT * FROM t WHERE s = &#39;我&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>为了方便大家理解这个过程，我们只分析字符&#39;我&#39;在这个过程中字符集的转换。</p><p>现在看一下在请求从发送到结果返回过程中字符集的变化：</p><ol><li><p>客户端发送请求所使用的字符集</p><p>一般情况下客户端所使用的字符集和当前操作系统一致，不同操作系统使用的字符集可能不一样，如下：</p><ul><li>类<code>Unix</code>系统使用的是<code>utf8</code></li><li><code>Windows</code>使用的是<code>gbk</code></li></ul><p>当客户端使用的是utf8字符集，字符&#39;<code>我</code>&#39;在发送给服务器的请求中的字节形式就是： <code>0xE68891</code></p></li></ol><blockquote><p>提示</p><p>如果你使用的是可视化工具，比如navicat之类的，这些工具可能会使用自定义的字符集来编码发送到服务器的字符串，而不采用操作系统默认的字符集（所以在学习的时候还是尽量用命令行窗口）。</p></blockquote><ol start="2"><li><p>服务器接收到客户端发送来的请求其实是一串二进制的字节，它会认为这串字节采用的字符集是<code>character_set_client</code>，然后把这串字节转换为<code>character_set_connection</code>字符集编码的字符。</p><p>由于我的计算机上<code>character_set_client</code>的值是<code>utf8</code>，首先会按照<code>utf8</code>字符集对字节串<code>0xE68891</code>进行解码，得到的字符串就是&#39;<code>我</code>&#39;，然后按照<code>character_set_connection</code>代表的字符集，也就是<code>gbk</code>进行编码，得到的结果就是字节串<code>0xCED2</code>。</p></li><li><p>因为表<code>t</code>的列<code>col</code>采用的是<code>gbk</code>字符集，与<code>character_set_connection</code>一致，所以直接到列中找字节值为<code>0xCED2</code>的记录，最后找到了一条记录。</p></li></ol><blockquote><p>提示</p><p>如果某个列使用的字符集和character_set_connection代表的字符集不一致的话，还需要进行一次字符集转换。</p></blockquote><ol start="4"><li>上一步骤找到的记录中的<code>col</code>列其实是一个字节串<code>0xCED2</code>，<code>col</code>列是采用<code>gbk</code>进行编码的，所以首先会将这个字节串使用<code>gbk</code>进行解码，得到字符串&#39;<code>我</code>&#39;，然后再把这个字符串使用<code>character_set_results</code>代表的字符集，也就是<code>utf8</code>进行编码，得到了新的字节串：<code>0xE68891</code>，然后发送给客户端。</li><li>由于客户端是用的字符集是<code>utf8</code>，所以可以顺利的将<code>0xE68891</code>解释成字符<code>我</code>，从而显示到我们的显示器上，所以我们人类也读懂了返回的结果。</li></ol><p>总结图示如下：</p><p><img src="/assets/image-20221215020932180.6821e3b5.png" alt="image-20221215020932180"></p><h2 id="_6-sql大小写规范" tabindex="-1"><a class="header-anchor" href="#_6-sql大小写规范" aria-hidden="true">#</a> 6. SQL大小写规范</h2><h3 id="_6-1-windows和linux平台区别" tabindex="-1"><a class="header-anchor" href="#_6-1-windows和linux平台区别" aria-hidden="true">#</a> 6. 1 Windows和Linux平台区别</h3><p>在 SQL 中，关键字和函数名是不用区分字母大小写的，比如 SELECT、WHERE、ORDER、GROUP BY 等关键字，以及 ABS、MOD、ROUND、MAX 等函数名。</p><p>不过在 SQL 中，你还是要确定大小写的规范，因为在 Linux 和 Windows 环境下，你可能会遇到不同的大小写问题。<code>windows系统默认大小写不敏感</code>，但是<code>linux系统是大小写敏感的</code>。</p><p>通过如下命令查看：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SHOW VARIABLES LIKE &#39;%lower_case_table_names%&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>Windows系统下：</li></ul><p><img src="/assets/image-20221215021050909.82364c09.png" alt="image-20221215021050909"></p><ul><li>Linux系统下：</li></ul><p><img src="/assets/image-20221215021107377.6f8fb147.png" alt="image-20221215021107377"></p><ul><li>lower_case_table_names参数值的设置： <ul><li>默认为 0 ，大小写敏感。</li><li>设置 1 ，大小写不敏感。创建的表，数据库都是以小写形式存放在磁盘上，对于sql语句都是转换为小写对表和数据库进行查找。</li><li>设置 2 ，创建的表和数据库依据语句上格式存放，凡是查找都是转换为小写进行。</li></ul></li><li>两个平台上SQL大小写的区别具体来说：</li></ul><blockquote><p>MySQL在Linux下数据库名、表名、列名、别名大小写规则是这样的：</p><p>1 、数据库名、表名、表的别名、变量名是严格区分大小写的；</p><p>2 、关键字、函数名称在 SQL 中不区分大小写；</p><p>3 、列名（或字段名）与列的别名（或字段别名）在所有的情况下均是忽略大小写的；</p><p><strong><code>MySQL在Windows的环境下全部不区分大小写</code></strong></p></blockquote><h3 id="_6-2-linux下大小写规则设置" tabindex="-1"><a class="header-anchor" href="#_6-2-linux下大小写规则设置" aria-hidden="true">#</a> 6. 2 Linux下大小写规则设置</h3><p>当想设置为大小写不敏感时，要在my.cnf这个配置文件 [mysqld] 中加入</p><p>lower_case_table_names=1 ，然后重启服务器。</p><ul><li>但是要在重启数据库实例之前就需要将原来的数据库和表转换为小写，否则将找不到数据库名。</li><li>此参数适用于MySQL5.7。在MySQL 8下禁止在重新启动 MySQL 服务时将lower_case_table_names 设置成不同于初始化 MySQL 服务时设置的lower_case_table_names 值。如果非要将MySQL8设置为大小写不敏感，具体步骤为：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1</span> 、停止MySQL服务
<span class="token number">2</span> 、删除数据目录，即删除 /var/lib/mysql 目录
<span class="token number">3</span> 、在MySQL配置文件（ /etc/my.cnf ）中添加 <span class="token assign-left variable">lower_case_table_names</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token number">4</span> 、启动MySQL服务
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-sql编写建议" tabindex="-1"><a class="header-anchor" href="#_6-3-sql编写建议" aria-hidden="true">#</a> 6.3 SQL编写建议</h3><p>如果你的变量名命名规范没有统一，就可能产生错误。这里有一个有关命名规范的建议：</p><blockquote><p>1、关键字和函数名称全部大写；</p><p>2、数据库名、表名、表别名、字段名、字段别名等全部小写；</p><p>3、SQL 语句必须以分号结尾。</p></blockquote><p>数据库名、表名和字段名在 Linux MySQL 环境下是区分大小写的，因此建议你统一这些字段的命名规则，比如全部采用小写的方式。</p><p>虽然关键字和函数名称在 SQL 中不区分大小写，也就是如果小写的话同样可以执行。但是同时将关键词和函数名称全部大写，以便于区分数据库名、表名、字段名。</p><h2 id="_7-sql-mode的合理设置" tabindex="-1"><a class="header-anchor" href="#_7-sql-mode的合理设置" aria-hidden="true">#</a> 7. sql_mode的合理设置</h2><h3 id="_7-1-宽松模式-vs-严格模式" tabindex="-1"><a class="header-anchor" href="#_7-1-宽松模式-vs-严格模式" aria-hidden="true">#</a> 7.1 宽松模式 vs 严格模式</h3><p><strong>宽松模式：</strong></p><p>如果设置的是宽松模式，那么我们在插入数据的时候，即便是给了一个错误的数据，也可能会被接受，并且不报错。</p><p><code>举例</code>：我在创建一个表时，该表中有一个字段为name，给name设置的字段类型时<code>char(10)</code>，如果我在插入数据的时候，其中name这个字段对应的有一条数据的<code>长度超过了 10</code> ，例如&#39;1234567890abc&#39;，超过了设定的字段长度 10 ，那么不会报错，并且取前 10 个字符存上，也就是说你这个数据被存为了&#39;1234567890&#39;，而&#39;abc&#39;就没有了。但是，我们给的这条数据是错误的，因为超过了字段长度，但是并没有报错，并且mysql自行处理并接受了，这就是宽松模式的效果。</p><p><code>应用场景</code>：通过设置sql mode为宽松模式，来保证大多数sql符合标准的sql语法，这样应用在不同数据库之间进行<code>迁移</code>时，则不需要对业务sql 进行较大的修改。</p><p><strong>严格模式：</strong></p><p>出现上面宽松模式的错误，应该报错才对，所以MySQL5.7版本就将sql_mode默认值改为了严格模式。所以在<code>生产等环境</code>中，我们必须采用的是严格模式，进而<code>开发、测试环境</code>的数据库也必须要设置，这样在开发测试阶段就可以发现问题。并且我们即便是用的MySQL5.6，也应该自行将其改为严格模式。</p><p><code>开发经验</code>：MySQL等数据库总想把关于数据的所有操作都自己包揽下来，包括数据的校验，其实开发中，我们应该在自己<code>开发的项目程序级别将这些校验给做了</code>，虽然写项目的时候麻烦了一些步骤，但是这样做之后，我们在进行数据库迁移或者在项目的迁移时，就会方便很多。</p><p>改为严格模式后可能会存在的问题：</p><p>若设置模式中包含了<code>NO_ZERO_DATE</code>，那么MySQL数据库不允许插入零日期，插入零日期会抛出错误而不是警告。例如，表中含字段TIMESTAMP列（如果未声明为NULL或显示DEFAULT子句）将自动分配DEFAULT &#39;0000-00-00 00:00:00&#39;（零时间戳），这显然是不满足sql_mode中的NO_ZERO_DATE而报错。</p><h3 id="_7-2-宽松模式再举例" tabindex="-1"><a class="header-anchor" href="#_7-2-宽松模式再举例" aria-hidden="true">#</a> 7. 2 宽松模式再举例</h3><p><strong>宽松模式举例 1 ：</strong></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>select * from employees group by department_id limit 10 ;

set sql_mode = ONLY_FULL_GROUP_BY;

select * from employees group by department_id limit 10 ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/image-20221215021929376.19bac0a8.png" alt="image-20221215021929376"></p><p><strong>宽松模式举例 2 ：</strong></p><p><img src="/assets/image-20221215022013549.5ab89886.png" alt="image-20221215022013549"></p><p><img src="/assets/image-20221215022025999.74ac92a0.png" alt="image-20221215022025999"></p><p><img src="/assets/image-20221215022043722.418b5129.png" alt="image-20221215022043722"></p><p>设置 sql_mode 模式为 STRICT_TRANS_TABLES ，然后插入数据：</p><p><img src="/assets/image-20221215022104430.001aa53d.png" alt="image-20221215022104430"></p><h3 id="_7-3-模式查看和设置" tabindex="-1"><a class="header-anchor" href="#_7-3-模式查看和设置" aria-hidden="true">#</a> 7. 3 模式查看和设置</h3><ul><li><code>查看当前的sql_mode</code></li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>select @@session.sql_mode

select @@global.sql_mode

#或者

show variables like &#39;sql_mode&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/image-20221215022218551.034afc26.png" alt="image-20221215022218551"></p><p><img src="/assets/image-20221215022232849.bb2f8f37.png" alt="image-20221215022232849"></p><ul><li><code>临时设置方式：设置当前窗口中设置sql_mode</code></li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>SET GLOBAL sql_mode = &#39;modes...&#39;; #全局

SET SESSION sql_mode = &#39;modes...&#39;; #当前会话
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>举例：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#改为严格模式。此方法只在当前会话中生效，关闭当前会话就不生效了。
set SESSION sql_mode=&#39;STRICT_TRANS_TABLES&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>#改为严格模式。此方法在当前服务中生效，重启MySQL服务后失效。
set GLOBAL sql_mode=&#39;STRICT_TRANS_TABLES&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>永久设置方式：在/etc/my.cnf中配置sql_mode</code></li></ul><p>在<code>my.cnf</code>文件(windows系统是<code>my.ini</code>文件)，新增：</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>[mysqld]
sql_mode=ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后<code>重启MySQL</code>。</p><p>当然生产环境上是禁止重启MySQL服务的，所以采用<code>临时设置方式 + 永久设置方式</code>来解决线上的问题，那么即便是有一天真的重启了MySQL服务，也会永久生效了。</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ragnarokoo/LearningNotes/edit/master/src/notes/db/mysql_pro/第01章_Linux下MySQL的安装与使用.md" rel="noopener noreferrer" target="_blank" aria-label="在【Github】上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在【Github】上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><!----></footer><nav class="page-nav"><!----><a href="/notes/db/mysql_pro/%E7%AC%AC%2002%20%E7%AB%A0_MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95.html" class="nav-link next" aria-label="第 02 章_MySQL的数据目录"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">第 02 章_MySQL的数据目录<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.9b10ba0a.js" defer></script>
  </body>
</html>
