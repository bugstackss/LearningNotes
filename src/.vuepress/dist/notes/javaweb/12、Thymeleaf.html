<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://Ragnarokoo.github.io/LearningNotes/notes/javaweb/12%E3%80%81Thymeleaf.html"><meta property="og:site_name" content="📚全栈开发学习指南"><meta property="og:title" content="12、Thymeleaf"><meta property="og:description" content="官网：https://www.thymeleaf.org/ github：https://github.com/thymeleaf/ 中文文档：https://fanlychie.github.io/post/thymeleaf.html 参考文章：https://www.cnblogs.com/msi-chen/p/10974009.html 一、M..."><meta property="og:type" content="article"><meta property="og:image" content="https://Ragnarokoo.github.io/LearningNotes/"><meta property="og:updated_time" content="2023-05-31T09:16:41.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="12、Thymeleaf"><meta property="article:tag" content="javaweb"><meta property="article:tag" content="java"><meta property="article:tag" content="thymeleaf"><meta property="article:modified_time" content="2023-05-31T09:16:41.000Z"><link rel="icon" href="/site_logo.svg"><title>12、Thymeleaf | 📚全栈开发学习指南</title><meta name="description" content="官网：https://www.thymeleaf.org/ github：https://github.com/thymeleaf/ 中文文档：https://fanlychie.github.io/post/thymeleaf.html 参考文章：https://www.cnblogs.com/msi-chen/p/10974009.html 一、M...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.bc8b6d7c.css" as="style" /><link rel="stylesheet" href="/assets/style.bc8b6d7c.css" />
    <link rel="modulepreload" href="/assets/app.9b10ba0a.js"><link rel="modulepreload" href="/assets/12、Thymeleaf.html.5d277bc5.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/12、Thymeleaf.html.99b8d278.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/site_logo.svg" alt="📚全栈开发学习指南"><!----><span class="site-name hide-in-pad">📚全栈开发学习指南</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/quicknav/" class="nav-link" aria-label="快速导航"><span class="icon iconfont icon-navigation"></span>快速导航<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" aria-label="博客主页"><span class="icon iconfont icon-blog"></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/notes/" class="nav-link active" aria-label="Java学习教程"><span class="icon iconfont icon-java"></span>Java学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/web/" class="nav-link" aria-label="web学习教程"><span class="icon iconfont icon-note"></span>web学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/springcloud/" class="nav-link" aria-label="SpringCloud学习教程"><span class="icon iconfont icon-cache"></span>SpringCloud学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/distributed/" class="nav-link" aria-label="分布式微服务架构"><span class="icon iconfont icon-read"></span>分布式微服务架构<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="资源宝库"><span class="title"><span class="icon iconfont icon-advance"></span>资源宝库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/resources/books/" class="nav-link" aria-label="书籍资源"><span class="icon iconfont icon-animation"></span>书籍资源<!----></a></li><li class="dropdown-item"><a href="/resources/videos/" class="nav-link" aria-label="影音资源"><span class="icon iconfont icon-play"></span>影音资源<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Ragnarokoo/LearningNotes" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索本站" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-java"></span><span class="title">Java Language专栏</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-IO"></span><span class="title">Java网络编程NIO</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-community"></span><span class="title">JDBC数据库连接技术</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-categoryselected"></span><span class="title">JavaWeb</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/notes/javaweb/01%E3%80%81Web%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E7%AE%80%E4%BB%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="01、Web基础概念简介"><span class="icon iconfont icon-java"></span>01、Web基础概念简介<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/02%E3%80%81%E6%8B%9C%E6%89%98%E4%BA%86%E5%A4%A7%E8%84%91%20%20.html" class="nav-link sidebar-link sidebar-page" aria-label="02、拜托了大脑"><span class="icon iconfont icon-card"></span>02、拜托了大脑<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/03%E3%80%81%E5%8D%95%E4%B8%80%E6%9E%B6%E6%9E%84%E5%9B%9E%E9%A1%BE.html" class="nav-link sidebar-link sidebar-page" aria-label="03、单一架构回顾"><span class="icon iconfont icon-java"></span>03、单一架构回顾<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/04%E3%80%81HTML&amp;CSS.html" class="nav-link sidebar-link sidebar-page" aria-label="04、HTML&amp;CSS"><span class="icon iconfont icon-html"></span>04、HTML&amp;CSS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/05%E3%80%81JavaScript.html" class="nav-link sidebar-link sidebar-page" aria-label="05、JavaScript"><span class="icon iconfont icon-javascript"></span>05、JavaScript<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/06%E3%80%81Vue.js.html" class="nav-link sidebar-link sidebar-page" aria-label="06、Vue.js"><span class="icon iconfont icon-vue"></span>06、Vue.js<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/07%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="07、书城项目第一阶段"><span class="icon iconfont icon-folder"></span>07、书城项目第一阶段<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/08%E3%80%81Tomcat.html" class="nav-link sidebar-link sidebar-page" aria-label="08、Tomcat"><span class="icon iconfont icon-customize"></span>08、Tomcat<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/09%E3%80%81HTTP%E5%8D%8F%E8%AE%AE.html" class="nav-link sidebar-link sidebar-page" aria-label="09、HTTP协议"><span class="icon iconfont icon-java"></span>09、HTTP协议<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/10%E3%80%81Servlet.html" class="nav-link sidebar-link sidebar-page" aria-label="10、Servlet"><span class="icon iconfont icon-java"></span>10、Servlet<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/11%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="11、书城项目第二阶段"><span class="icon iconfont icon-folder"></span>11、书城项目第二阶段<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="12、Thymeleaf"><span class="icon iconfont icon-java"></span>12、Thymeleaf<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#一、mvc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一、MVC"><!---->一、MVC<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、提出问题" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、提出问题"><!---->1、提出问题<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、从三层结构到mvc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、从三层结构到MVC"><!---->2、从三层结构到MVC<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、前后端工程师对接方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、前后端工程师对接方式"><!---->3、前后端工程师对接方式<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#二、thymeleaf简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="二、Thymeleaf简介"><!---->二、Thymeleaf简介<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、thymeleaf的同行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、Thymeleaf的同行"><!---->1、Thymeleaf的同行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、thymeleaf官方文档中的介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、Thymeleaf官方文档中的介绍"><!---->2、Thymeleaf官方文档中的介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、thymeleaf优势" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、Thymeleaf优势"><!---->3、Thymeleaf优势<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、物理视图和逻辑视图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4、物理视图和逻辑视图"><!---->4、物理视图和逻辑视图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#三、在服务器端引入thymeleaf环境" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="三、在服务器端引入Thymeleaf环境"><!---->三、在服务器端引入Thymeleaf环境<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、加入jar包" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、加入jar包"><!---->1、加入jar包<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、配置上下文参数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、配置上下文参数"><!---->2、配置上下文参数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、创建servlet基类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、创建Servlet基类"><!---->3、创建Servlet基类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、helloworld" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4、HelloWorld"><!---->4、HelloWorld<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#在index-html编写超链接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="在index.html编写超链接"><!---->在index.html编写超链接<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#四、基本语法-th名称空间" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="四、基本语法：th名称空间"><!---->四、基本语法：th名称空间<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#五、基本语法-表达式语法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="五、基本语法：表达式语法"><!---->五、基本语法：表达式语法<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、修改标签文本值" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、修改标签文本值"><!---->1、修改标签文本值<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、修改指定属性值" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、修改指定属性值"><!---->2、修改指定属性值<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、解析url地址" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、解析URL地址"><!---->3、解析URL地址<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、直接执行表达式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4、直接执行表达式"><!---->4、直接执行表达式<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#六、基本语法-访问域对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="六、基本语法：访问域对象"><!---->六、基本语法：访问域对象<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、域对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、域对象"><!---->1、域对象<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、在servlet中将数据存入属性域" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、在Servlet中将数据存入属性域"><!---->2、在Servlet中将数据存入属性域<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#七、基本语法-获取请求参数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="七、基本语法：获取请求参数"><!---->七、基本语法：获取请求参数<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、一个名字一个值" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、一个名字一个值"><!---->1、一个名字一个值<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、一个名字多个值" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、一个名字多个值"><!---->2、一个名字多个值<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#八、基本语法-内置对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="八、基本语法：内置对象"><!---->八、基本语法：内置对象<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、概念" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、概念"><!---->1、概念<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、基本内置对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、基本内置对象"><!---->2、基本内置对象<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、公共内置对象" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、公共内置对象"><!---->3、公共内置对象<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#九、基本语法-中的表达式本质是ognl" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="九、基本语法：${}中的表达式本质是OGNL"><!---->九、基本语法：${}中的表达式本质是OGNL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、ognl" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、OGNL"><!---->1、OGNL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、对象图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、对象图"><!---->2、对象图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、ognl语法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、OGNL语法"><!---->3、OGNL语法<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#十、基本语法-分支与迭代" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="十、基本语法：分支与迭代"><!---->十、基本语法：分支与迭代<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、分支" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、分支"><!---->1、分支<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#if和unless" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="if和unless"><!---->if和unless<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、迭代" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、迭代"><!---->2、迭代<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#十一、基本语法-包含其他模板文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="十一、基本语法：包含其他模板文件"><!---->十一、基本语法：包含其他模板文件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、应用场景" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、应用场景"><!---->1、应用场景<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、创建页面的代码片段" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、创建页面的代码片段"><!---->2、创建页面的代码片段<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、包含到有需要的页面" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、包含到有需要的页面"><!---->3、包含到有需要的页面<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#加餐-最凝练的crud" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="加餐 最凝练的CRUD"><!---->加餐 最凝练的CRUD<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、建模" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、建模"><!---->1、建模<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、总体架构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、总体架构"><!---->2、总体架构<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、搭建持久化层所需环境" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、搭建持久化层所需环境"><!---->3、搭建持久化层所需环境<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#创建jdbcutils工具类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建JDBCUtils工具类"><!---->创建JDBCUtils工具类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、搭建表述层所需环境" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4、搭建表述层所需环境"><!---->4、搭建表述层所需环境<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_5、功能清单" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5、功能清单"><!---->5、功能清单<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_6、显示首页" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6、显示首页"><!---->6、显示首页<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_7、显示列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7、显示列表"><!---->7、显示列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_8、删除功能" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8、删除功能"><!---->8、删除功能<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_9、前往新增信息的表单页面" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9、前往新增信息的表单页面"><!---->9、前往新增信息的表单页面<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_10、执行保存" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="10、执行保存"><!---->10、执行保存<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_11、前往修改信息的表单页面" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="11、前往修改信息的表单页面"><!---->11、前往修改信息的表单页面<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_12、执行更新" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="12、执行更新"><!---->12、执行更新<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_13、请求字符集设置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="13、请求字符集设置"><!---->13、请求字符集设置<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/13%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="13、书城项目第三阶段"><span class="icon iconfont icon-folder"></span>13、书城项目第三阶段<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/14%E3%80%81%E4%BC%9A%E8%AF%9D%E6%8E%A7%E5%88%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="14、会话控制"><span class="icon iconfont icon-java"></span>14、会话控制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/15%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="15、书城项目第四阶段"><span class="icon iconfont icon-folder"></span>15、书城项目第四阶段<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/16%E3%80%81%E8%BF%87%E6%BB%A4%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="16、过滤器"><span class="icon iconfont icon-java"></span>16、过滤器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/17%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%BA%94%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="17、书城项目第五阶段"><span class="icon iconfont icon-folder"></span>17、书城项目第五阶段<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/18%E3%80%81Listener%20%E7%9B%91%E5%90%AC%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="18、Listener 监听器"><span class="icon iconfont icon-java"></span>18、Listener 监听器<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/19%E3%80%81Axios%20Ajax.html" class="nav-link sidebar-link sidebar-page" aria-label="19、Axios Ajax"><span class="icon iconfont icon-java"></span>19、Axios Ajax<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/javaweb/20%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E5%85%AD%E9%98%B6%E6%AE%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="20、书城项目第六阶段"><span class="icon iconfont icon-folder"></span>20、书城项目第六阶段<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-array"></span><span class="title">SSM Framework</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-geometry"></span><span class="title">SpringData</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-type"></span><span class="title">SpringBoot</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-module"></span><span class="title">mybatisplus</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-operate"></span><span class="title">构建工具&amp;云原生Devops</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mysql"></span><span class="title">数据库以及调优策略</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-quote"></span><span class="title">消息中间件</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tool"></span><span class="title">软件以及环境配置</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-ability"></span><span class="title">Linux操作系统</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-rank"></span><span class="title">JUC高并发编程</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mount"></span><span class="title">深入了解Java虚拟机</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-view"></span><span class="title">GOF23种设计模式</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tag"></span><span class="title">技术要点业务篇</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-java"></span>12、Thymeleaf</h1><div class="page-info"><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category3 clickable" role="navigation">thymeleaf</span></li><li><span class="category category0 clickable" role="navigation">javaweb</span></li><li><span class="category category6 clickable" role="navigation">java</span></li></ul><meta property="articleSection" content="thymeleaf,javaweb,java"></span><span aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag0 clickable" role="navigation">javaweb</span></li><li><span class="tag tag6 clickable" role="navigation">java</span></li><li><span class="tag tag3 clickable" role="navigation">thymeleaf</span></li></ul><meta property="keywords" content="javaweb,java,thymeleaf"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 23 分钟</span><meta property="timeRequired" content="PT23M"></span><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/Ragnarokoo/" target="_blank" rel="noopener noreferrer">Ragnarok</a></span><span property="author" content="Ragnarok"></span></span><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-05-31T09:16:41.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#一、mvc" class="router-link-active router-link-exact-active toc-link level2">一、MVC</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、提出问题" class="router-link-active router-link-exact-active toc-link level3">1、提出问题</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、从三层结构到mvc" class="router-link-active router-link-exact-active toc-link level3">2、从三层结构到MVC</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、前后端工程师对接方式" class="router-link-active router-link-exact-active toc-link level3">3、前后端工程师对接方式</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#二、thymeleaf简介" class="router-link-active router-link-exact-active toc-link level2">二、Thymeleaf简介</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、thymeleaf的同行" class="router-link-active router-link-exact-active toc-link level3">1、Thymeleaf的同行</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、thymeleaf官方文档中的介绍" class="router-link-active router-link-exact-active toc-link level3">2、Thymeleaf官方文档中的介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、thymeleaf优势" class="router-link-active router-link-exact-active toc-link level3">3、Thymeleaf优势</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、物理视图和逻辑视图" class="router-link-active router-link-exact-active toc-link level3">4、物理视图和逻辑视图</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#三、在服务器端引入thymeleaf环境" class="router-link-active router-link-exact-active toc-link level2">三、在服务器端引入Thymeleaf环境</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、加入jar包" class="router-link-active router-link-exact-active toc-link level3">1、加入jar包</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、配置上下文参数" class="router-link-active router-link-exact-active toc-link level3">2、配置上下文参数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、创建servlet基类" class="router-link-active router-link-exact-active toc-link level3">3、创建Servlet基类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、helloworld" class="router-link-active router-link-exact-active toc-link level3">4、HelloWorld</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#在index-html编写超链接" class="router-link-active router-link-exact-active toc-link level3">在index.html编写超链接</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#四、基本语法-th名称空间" class="router-link-active router-link-exact-active toc-link level2">四、基本语法：th名称空间</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#五、基本语法-表达式语法" class="router-link-active router-link-exact-active toc-link level2">五、基本语法：表达式语法</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、修改标签文本值" class="router-link-active router-link-exact-active toc-link level3">1、修改标签文本值</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、修改指定属性值" class="router-link-active router-link-exact-active toc-link level3">2、修改指定属性值</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、解析url地址" class="router-link-active router-link-exact-active toc-link level3">3、解析URL地址</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、直接执行表达式" class="router-link-active router-link-exact-active toc-link level3">4、直接执行表达式</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#六、基本语法-访问域对象" class="router-link-active router-link-exact-active toc-link level2">六、基本语法：访问域对象</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、域对象" class="router-link-active router-link-exact-active toc-link level3">1、域对象</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、在servlet中将数据存入属性域" class="router-link-active router-link-exact-active toc-link level3">2、在Servlet中将数据存入属性域</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#七、基本语法-获取请求参数" class="router-link-active router-link-exact-active toc-link level2">七、基本语法：获取请求参数</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、一个名字一个值" class="router-link-active router-link-exact-active toc-link level3">1、一个名字一个值</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、一个名字多个值" class="router-link-active router-link-exact-active toc-link level3">2、一个名字多个值</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#八、基本语法-内置对象" class="router-link-active router-link-exact-active toc-link level2">八、基本语法：内置对象</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、概念" class="router-link-active router-link-exact-active toc-link level3">1、概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、基本内置对象" class="router-link-active router-link-exact-active toc-link level3">2、基本内置对象</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、公共内置对象" class="router-link-active router-link-exact-active toc-link level3">3、公共内置对象</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#九、基本语法-中的表达式本质是ognl" class="router-link-active router-link-exact-active toc-link level2">九、基本语法：${}中的表达式本质是OGNL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、ognl" class="router-link-active router-link-exact-active toc-link level3">1、OGNL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、对象图" class="router-link-active router-link-exact-active toc-link level3">2、对象图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、ognl语法" class="router-link-active router-link-exact-active toc-link level3">3、OGNL语法</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#十、基本语法-分支与迭代" class="router-link-active router-link-exact-active toc-link level2">十、基本语法：分支与迭代</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、分支" class="router-link-active router-link-exact-active toc-link level3">1、分支</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#if和unless" class="router-link-active router-link-exact-active toc-link level3">if和unless</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、迭代" class="router-link-active router-link-exact-active toc-link level3">2、迭代</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#十一、基本语法-包含其他模板文件" class="router-link-active router-link-exact-active toc-link level2">十一、基本语法：包含其他模板文件</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、应用场景" class="router-link-active router-link-exact-active toc-link level3">1、应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、创建页面的代码片段" class="router-link-active router-link-exact-active toc-link level3">2、创建页面的代码片段</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、包含到有需要的页面" class="router-link-active router-link-exact-active toc-link level3">3、包含到有需要的页面</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#加餐-最凝练的crud" class="router-link-active router-link-exact-active toc-link level2">加餐 最凝练的CRUD</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_1、建模" class="router-link-active router-link-exact-active toc-link level3">1、建模</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_2、总体架构" class="router-link-active router-link-exact-active toc-link level3">2、总体架构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_3、搭建持久化层所需环境" class="router-link-active router-link-exact-active toc-link level3">3、搭建持久化层所需环境</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#创建jdbcutils工具类" class="router-link-active router-link-exact-active toc-link level3">创建JDBCUtils工具类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_4、搭建表述层所需环境" class="router-link-active router-link-exact-active toc-link level3">4、搭建表述层所需环境</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_5、功能清单" class="router-link-active router-link-exact-active toc-link level3">5、功能清单</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_6、显示首页" class="router-link-active router-link-exact-active toc-link level3">6、显示首页</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_7、显示列表" class="router-link-active router-link-exact-active toc-link level3">7、显示列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_8、删除功能" class="router-link-active router-link-exact-active toc-link level3">8、删除功能</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_9、前往新增信息的表单页面" class="router-link-active router-link-exact-active toc-link level3">9、前往新增信息的表单页面</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_10、执行保存" class="router-link-active router-link-exact-active toc-link level3">10、执行保存</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_11、前往修改信息的表单页面" class="router-link-active router-link-exact-active toc-link level3">11、前往修改信息的表单页面</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_12、执行更新" class="router-link-active router-link-exact-active toc-link level3">12、执行更新</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/javaweb/12%E3%80%81Thymeleaf.html#_13、请求字符集设置" class="router-link-active router-link-exact-active toc-link level3">13、请求字符集设置</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="_12、thymeleaf" tabindex="-1"><a class="header-anchor" href="#_12、thymeleaf" aria-hidden="true">#</a> 12、Thymeleaf</h1><blockquote><p>官网：<a href="https://www.thymeleaf.org/" target="_blank" rel="noopener noreferrer">https://www.thymeleaf.org/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>github：<a href="https://github.com/thymeleaf/" target="_blank" rel="noopener noreferrer">https://github.com/thymeleaf/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>中文文档：<a href="https://fanlychie.github.io/post/thymeleaf.html" target="_blank" rel="noopener noreferrer">https://fanlychie.github.io/post/thymeleaf.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>参考文章：<a href="https://www.cnblogs.com/msi-chen/p/10974009.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/msi-chen/p/10974009.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><h2 id="一、mvc" tabindex="-1"><a class="header-anchor" href="#一、mvc" aria-hidden="true">#</a> 一、MVC</h2><h3 id="_1、提出问题" tabindex="-1"><a class="header-anchor" href="#_1、提出问题" aria-hidden="true">#</a> 1、提出问题</h3><p><img src="/assets/6385a748b7a94b96a5958e618a614662.fb1ad40c.png" alt="image.png"></p><p>我们对HTML的新的期待：既能够正常显示页面，又能在页面中包含动态数据部分。而动态数据单靠HTML本身是无法做到的，所以此时我们需要引入服务器端动态视图模板技术。</p><h3 id="_2、从三层结构到mvc" tabindex="-1"><a class="header-anchor" href="#_2、从三层结构到mvc" aria-hidden="true">#</a> 2、从三层结构到MVC</h3><h4 id="mvc概念" tabindex="-1"><a class="header-anchor" href="#mvc概念" aria-hidden="true">#</a> MVC概念</h4><p>M：Model模型</p><p>V：View视图</p><p>C：Controller控制器</p><p>MVC是在表述层开发中运用的一种设计理念。主张把<strong>封装数据的『模型』</strong>、<strong>显示用户界面的『视图』</strong>、**协调调度的『控制器』**分开。</p><p>好处：</p><ul><li>进一步实现各个组件之间的解耦</li><li>让各个组件可以单独维护</li><li>将视图分离出来以后，我们后端工程师和前端工程师的对接更方便</li></ul><h4 id="mvc和三层架构之间关系" tabindex="-1"><a class="header-anchor" href="#mvc和三层架构之间关系" aria-hidden="true">#</a> MVC和三层架构之间关系</h4><p><img src="/assets/dc732000c65d4e99a56007aed0d849f0.45807028.png" alt="image.png"></p><h3 id="_3、前后端工程师对接方式" tabindex="-1"><a class="header-anchor" href="#_3、前后端工程师对接方式" aria-hidden="true">#</a> 3、前后端工程师对接方式</h3><ul><li>服务器端渲染：前端工程师把前端页面一整套做好交给后端工程师</li><li>前后端分离：开会商量JSON格式，然后分头开发。在后端程序尚不可用时，前端工程师会使用Mock.js生成假数据使用，在后端程序可用后再连接实际后端程序获取真实数据。</li></ul><p><a href="http://heavy_code_industry.gitee.io/code_heavy_industry/pro000-dev-story/chapter05/content.html" target="_blank" rel="noopener noreferrer">查看详细内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="/assets/0704272832cc448cad7862be915980da.70891ab9.png" alt="image.png"></p><p><img src="/assets/0704272832cc448cad7862be915980da.70891ab9.png" alt="image.png"></p><h2 id="二、thymeleaf简介" tabindex="-1"><a class="header-anchor" href="#二、thymeleaf简介" aria-hidden="true">#</a> 二、Thymeleaf简介</h2><h3 id="_1、thymeleaf的同行" tabindex="-1"><a class="header-anchor" href="#_1、thymeleaf的同行" aria-hidden="true">#</a> 1、Thymeleaf的同行</h3><p>JSP、Freemarker、Velocity等等，它们有一个共同的名字：<strong>服务器端模板技术</strong>。</p><h3 id="_2、thymeleaf官方文档中的介绍" tabindex="-1"><a class="header-anchor" href="#_2、thymeleaf官方文档中的介绍" aria-hidden="true">#</a> 2、Thymeleaf官方文档中的介绍</h3><p><a href="https://www.thymeleaf.org/" target="_blank" rel="noopener noreferrer">官网地址(opens new window)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://heavy_code_industry.gitee.io/code_heavy_industry/pro001-javaweb/lecture/chapter08/Thymeleaf-3.0.11.pdf" target="_blank" rel="noopener noreferrer">官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>Thymeleaf is a modern server-side Java template engine for both web and standalone environments, capable of processing HTML, XML, JavaScript, CSS and even plain text. The main goal of Thymeleaf is to provide an elegant and highly-maintainable way of creating templates. To achieve this, it builds on the concept of Natural Templates to inject its logic into template files in a way that doesn’t affect the template from being used as a design prototype. This improves communication of design and bridges the gap between design and development teams. Thymeleaf has also been designed from the beginning with Web Standards in mind – especially HTML5 – allowing you to create fully validating templates if that is a need for you.</p></blockquote><h3 id="_3、thymeleaf优势" tabindex="-1"><a class="header-anchor" href="#_3、thymeleaf优势" aria-hidden="true">#</a> 3、Thymeleaf优势</h3><ul><li>SpringBoot官方推荐使用的视图模板技术，和SpringBoot完美整合。</li><li>不经过服务器运算仍然可以直接查看原始值，对前端工程师更友好。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${hello}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Original Value<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、物理视图和逻辑视图" tabindex="-1"><a class="header-anchor" href="#_4、物理视图和逻辑视图" aria-hidden="true">#</a> 4、物理视图和逻辑视图</h3><h4 id="物理视图" tabindex="-1"><a class="header-anchor" href="#物理视图" aria-hidden="true">#</a> 物理视图</h4><p>在Servlet中，将请求转发到一个HTML页面文件时，使用的完整的转发路径就是<strong>物理视图</strong>。</p><p><img src="/assets/2612b75a3af54b07a2b7a4c890523078.905f2822.png" alt="image.png"></p><blockquote><p>/pages/user/login_success.html</p></blockquote><p>如果我们把所有的HTML页面都放在某个统一的目录下，那么转发地址就会呈现出明显的规律：</p><blockquote><p>/pages/user/login.html /pages/user/login_success.html /pages/user/regist.html /pages/user/regist_success.html</p><p>……</p></blockquote><p>路径的开头都是：/pages/user/</p><p>路径的结尾都是：.html</p><p>所以，路径开头的部分我们称之为<strong>视图前缀</strong>，路径结尾的部分我们称之为<strong>视图后缀</strong>。</p><h4 id="逻辑视图" tabindex="-1"><a class="header-anchor" href="#逻辑视图" aria-hidden="true">#</a> 逻辑视图</h4><p>物理视图=视图前缀+逻辑视图+视图后缀</p><p>上面的例子中：</p><table><thead><tr><th>视图前缀</th><th>逻辑视图</th><th>视图后缀</th><th>物理视图</th></tr></thead><tbody><tr><td>/pages/user/</td><td>login</td><td>.html</td><td>/pages/user/login.html</td></tr><tr><td>/pages/user/</td><td>login_success</td><td>.html</td><td>/pages/user/login_success.html</td></tr></tbody></table><h2 id="三、在服务器端引入thymeleaf环境" tabindex="-1"><a class="header-anchor" href="#三、在服务器端引入thymeleaf环境" aria-hidden="true">#</a> 三、在服务器端引入Thymeleaf环境</h2><h3 id="_1、加入jar包" tabindex="-1"><a class="header-anchor" href="#_1、加入jar包" aria-hidden="true">#</a> 1、加入jar包</h3><p><img src="/assets/54e30d476b4a40a1b68b13a73ed66296.59c0fefc.png" alt="image.png"></p><h3 id="_2、配置上下文参数" tabindex="-1"><a class="header-anchor" href="#_2、配置上下文参数" aria-hidden="true">#</a> 2、配置上下文参数</h3><p><img src="/assets/19ff40e451314d308377c57ed540e535.fdf2c035.png" alt="image.png"></p><p>物理视图=视图前缀+逻辑视图+视图后缀</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 在上下文参数中配置视图前缀和视图后缀 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>view-prefix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>/WEB-INF/view/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>view-suffix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>说明：param-value中设置的前缀、后缀的值不是必须叫这个名字，可以根据实际情况和需求进行修改。</p><blockquote><p>为什么要放在WEB-INF目录下？</p><p>原因：WEB-INF目录不允许浏览器直接访问，所以我们的视图模板文件放在这个目录下，是一种保护。以免外界可以随意访问视图模板文件。</p><p>访问WEB-INF目录下的页面，都必须通过Servlet转发过来，简单说就是：不经过Servlet访问不了。</p><p>这样就方便我们在Servlet中检查当前用户是否有权限访问。</p><p>那放在WEB-INF目录下之后，重定向进不去怎么办？</p><p>重定向到Servlet，再通过Servlet转发到WEB-INF下。</p></blockquote><h3 id="_3、创建servlet基类" tabindex="-1"><a class="header-anchor" href="#_3、创建servlet基类" aria-hidden="true">#</a> 3、创建Servlet基类</h3><p>这个类大家直接<strong>复制粘贴</strong>即可，将来使用框架后，这些代码都将被取代。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span></span><span class="token class-name">TemplateEngine</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">WebContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>templatemode<span class="token punctuation">.</span></span><span class="token class-name">TemplateMode</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>templateresolver<span class="token punctuation">.</span></span><span class="token class-name">ServletContextTemplateResolver</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViewBaseServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">TemplateEngine</span> templateEngine<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.获取ServletContext对象</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.创建Thymeleaf解析器对象</span>
        <span class="token class-name">ServletContextTemplateResolver</span> templateResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.给解析器对象设置参数</span>
        <span class="token comment">// ①HTML是默认模式，明确设置是为了代码更容易理解</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateMode</span><span class="token punctuation">(</span><span class="token class-name">TemplateMode</span><span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ②设置前缀</span>
        <span class="token class-name">String</span> viewPrefix <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;view-prefix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        templateResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span>viewPrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ③设置后缀</span>
        <span class="token class-name">String</span> viewSuffix <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;view-suffix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        templateResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span>viewSuffix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ④设置缓存过期时间（毫秒）</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheTTLMs</span><span class="token punctuation">(</span><span class="token number">60000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ⑤设置是否缓存</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ⑥设置服务器端编码方式</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.创建模板引擎对象</span>
        templateEngine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5.给模板引擎对象设置模板解析器</span>
        templateEngine<span class="token punctuation">.</span><span class="token function">setTemplateResolver</span><span class="token punctuation">(</span>templateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token class-name">String</span> templateName<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.设置响应体内容类型和字符集</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.创建WebContext对象</span>
        <span class="token class-name">WebContext</span> webContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">,</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.处理模板数据</span>
        templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>templateName<span class="token punctuation">,</span> webContext<span class="token punctuation">,</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、helloworld" tabindex="-1"><a class="header-anchor" href="#_4、helloworld" aria-hidden="true">#</a> 4、HelloWorld</h3><h4 id="创建index-html" tabindex="-1"><a class="header-anchor" href="#创建index-html" aria-hidden="true">#</a> 创建index.html</h4><p><img src="/assets/1b1aa1d6bf0847e4a5c600dabf6a3ccd.0bb31614.png" alt="image.png"></p><h3 id="在index-html编写超链接" tabindex="-1"><a class="header-anchor" href="#在index-html编写超链接" aria-hidden="true">#</a> 在index.html编写超链接</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/view/TestThymeleafServlet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>初步测试Thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="创建servlet" tabindex="-1"><a class="header-anchor" href="#创建servlet" aria-hidden="true">#</a> 创建Servlet</h4><p><img src="/assets/56c769ecb2ed41dcb39cd8fd849a11fa.8a23ac24.png" alt="image.png"></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>TestThymeleafServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.thymeleaf.servlet.TestThymeleafServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>TestThymeleafServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/TestThymeleafServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="修改servlet继承的父类" tabindex="-1"><a class="header-anchor" href="#修改servlet继承的父类" aria-hidden="true">#</a> 修改Servlet继承的父类</h4><p><img src="/assets/126e054fde664bf8b94e00b3cedf01a5.aa7ece6e.png" alt="image.png"></p><h4 id="在doget-方法中跳转到thymeleaf页面" tabindex="-1"><a class="header-anchor" href="#在doget-方法中跳转到thymeleaf页面" aria-hidden="true">#</a> 在doGet()方法中跳转到Thymeleaf页面</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.声明当前请求要前往的视图名称</span>
    <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.调用ViewBaseServlet父类中的解析视图模板的方法</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="thymeleaf页面" tabindex="-1"><a class="header-anchor" href="#thymeleaf页面" aria-hidden="true">#</a> Thymeleaf页面</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 在html标签内加入Thymeleaf名称空间的声明 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 在p标签的基础上，使用Thymeleaf的表达式，解析了一个URL地址 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{&#39;/aaa/bbb/ccc&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Thymeleaf将在这里显示一个解析出来的URL地址<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、基本语法-th名称空间" tabindex="-1"><a class="header-anchor" href="#四、基本语法-th名称空间" aria-hidden="true">#</a> 四、基本语法：th名称空间</h2><p><img src="/assets/9f3734965b8d4ed79d807b0819ddaa65.28802299.png" alt="image.png"></p><h2 id="五、基本语法-表达式语法" tabindex="-1"><a class="header-anchor" href="#五、基本语法-表达式语法" aria-hidden="true">#</a> 五、基本语法：表达式语法</h2><h3 id="_1、修改标签文本值" tabindex="-1"><a class="header-anchor" href="#_1、修改标签文本值" aria-hidden="true">#</a> 1、修改标签文本值</h3><p>代码示例：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>标签体新值<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>标签体原始值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="th-text作用" tabindex="-1"><a class="header-anchor" href="#th-text作用" aria-hidden="true">#</a> th:text作用</h4><ul><li>不经过服务器解析，直接用浏览器打开HTML文件，看到的是『标签体原始值』</li><li>经过服务器解析，Thymeleaf引擎根据th:text属性指定的『标签体新值』去<strong>替换</strong>『标签体原始值』</li></ul><h4 id="字面量" tabindex="-1"><a class="header-anchor" href="#字面量" aria-hidden="true">#</a> 字面量</h4><p>『字面量』是一个经常会遇到的概念，我们可以对照『变量』来理解它的含义。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// a是变量，100是字面量</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;a = &quot;</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>变量：变量名字符串本身不是它的值，它指向的才是它的值</li><li>字面量：它就是字面上的含义，我们从『字面』上看到的直接就是它的值</li></ul><p>现在我们在th:text属性中使用的就是『字面量』，它<strong>不指代任何其他值</strong>。</p><h3 id="_2、修改指定属性值" tabindex="-1"><a class="header-anchor" href="#_2、修改指定属性值" aria-hidden="true">#</a> 2、修改指定属性值</h3><p>代码示例：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文本框新值<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>文本框旧值<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>语法：任何HTML标签原有的属性，前面加上『th:』就都可以通过Thymeleaf来设定新值。</p><h3 id="_3、解析url地址" tabindex="-1"><a class="header-anchor" href="#_3、解析url地址" aria-hidden="true">#</a> 3、解析URL地址</h3><h4 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法" aria-hidden="true">#</a> 基本语法</h4><p>代码示例：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/aaa/bbb/ccc}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>标签体原始值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>经过解析后得到：</p><blockquote><p>/view/aaa/bbb/ccc</p></blockquote><p>所以@{}的作用是<strong>在字符串前附加『上下文路径』</strong></p><blockquote><p>这个语法的好处是：实际开发过程中，项目在不同环境部署时，Web应用的名字有可能发生变化。所以上下文路径不能写死。而通过@{}动态获取上下文路径后，不管怎么变都不怕啦！</p></blockquote><h4 id="首页使用url地址解析" tabindex="-1"><a class="header-anchor" href="#首页使用url地址解析" aria-hidden="true">#</a> 首页使用URL地址解析</h4><p><img src="/assets/bb93280b928244ef9ec066714815b8c4.abebbc92.png" alt="image.png"></p><p>如果我们直接访问index.html本身，那么index.html是不需要通过Servlet，当然也不经过模板引擎，所以index.html上的Thymeleaf的任何表达式都不会被解析。</p><p>解决办法：通过Servlet访问index.html，这样就可以让模板引擎渲染页面了：</p><p><img src="/assets/ab0d0d3e6cd14f0b843773b507380870.8e7cdf81.png" alt="image.png"></p><p>进一步的好处：</p><p>通过上面的例子我们看到，所有和业务功能相关的请求都能够确保它们通过Servlet来处理，这样就方便我们统一对这些请求进行特定规则的限定。</p><h4 id="给url地址后面附加请求参数" tabindex="-1"><a class="header-anchor" href="#给url地址后面附加请求参数" aria-hidden="true">#</a> 给URL地址后面附加请求参数</h4><p>参照官方文档说明：</p><p><img src="/assets/d91715b7d95b4f1db28892b598feca63.b399d09e.png" alt="image.png"></p><h3 id="_4、直接执行表达式" tabindex="-1"><a class="header-anchor" href="#_4、直接执行表达式" aria-hidden="true">#</a> 4、直接执行表达式</h3><p>Servlet代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;reqAttrName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;span&gt;hello-value&lt;/span&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>页面代码：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>有转义效果：[[${reqAttrName}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>无转义效果：[(${reqAttrName})]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>执行效果：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>有转义效果：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>hello-value<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>无转义效果：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>hello-value<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="六、基本语法-访问域对象" tabindex="-1"><a class="header-anchor" href="#六、基本语法-访问域对象" aria-hidden="true">#</a> 六、基本语法：访问域对象</h2><h3 id="_1、域对象" tabindex="-1"><a class="header-anchor" href="#_1、域对象" aria-hidden="true">#</a> 1、域对象</h3><h4 id="请求域" tabindex="-1"><a class="header-anchor" href="#请求域" aria-hidden="true">#</a> 请求域</h4><p>在请求转发的场景下，我们可以借助HttpServletRequest对象内部给我们提供的存储空间，帮助我们携带数据，把数据发送给转发的目标资源。</p><p>请求域：HttpServletRequest对象内部给我们提供的存储空间</p><p><img src="/assets/8ec12a06462c497683ffdb2717a44630.6abac8c4.png" alt="image.png"></p><h4 id="会话域" tabindex="-1"><a class="header-anchor" href="#会话域" aria-hidden="true">#</a> 会话域</h4><p><img src="/assets/09a93cc7fc9c482fa46b5f5ec8139686.49d2a4ab.png" alt="image.png"></p><h4 id="应用域" tabindex="-1"><a class="header-anchor" href="#应用域" aria-hidden="true">#</a> 应用域</h4><p><img src="/assets/5afb3476f4e34eb5b016daeb72d061f7.9705ed14.png" alt="image.png"></p><blockquote><p>PS：在我们使用的视图是JSP的时候，域对象有4个</p><ul><li>pageContext</li><li>request：请求域</li><li>session：会话域</li><li>application：应用域</li></ul><p>所以在JSP的使用背景下，我们可以说域对象有4个，现在使用Thymeleaf了，没有pageContext。</p></blockquote><h3 id="_2、在servlet中将数据存入属性域" tabindex="-1"><a class="header-anchor" href="#_2、在servlet中将数据存入属性域" aria-hidden="true">#</a> 2、在Servlet中将数据存入属性域</h3><h4 id="操作请求域" tabindex="-1"><a class="header-anchor" href="#操作请求域" aria-hidden="true">#</a> 操作请求域</h4><p>Servlet中代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> requestAttrName <span class="token operator">=</span> <span class="token string">&quot;helloRequestAttr&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> requestAttrValue <span class="token operator">=</span> <span class="token string">&quot;helloRequestAttr-VALUE&quot;</span><span class="token punctuation">;</span>

request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>requestAttrName<span class="token punctuation">,</span> requestAttrValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Thymeleaf表达式：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${helloRequestAttr}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>request field value<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="作会话域" tabindex="-1"><a class="header-anchor" href="#作会话域" aria-hidden="true">#</a> 作会话域</h4><p>Servlet中代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ①通过request对象获取session对象</span>
<span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ②存入数据</span>
session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;helloSessionAttr&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;helloSessionAttr-VALUE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Thymeleaf表达式：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${session.helloSessionAttr}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里显示会话域数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="操作应用域" tabindex="-1"><a class="header-anchor" href="#操作应用域" aria-hidden="true">#</a> 操作应用域</h4><p>Servlet中代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ①通过调用父类的方法获取ServletContext对象</span>
<span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ②存入数据</span>
servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;helloAppAttr&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;helloAppAttr-VALUE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Thymeleaf表达式：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${application.helloAppAttr}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里显示应用域数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="七、基本语法-获取请求参数" tabindex="-1"><a class="header-anchor" href="#七、基本语法-获取请求参数" aria-hidden="true">#</a> 七、基本语法：获取请求参数</h2><p>具体来说，我们这里探讨的是在页面上（模板页面）获取请求参数。底层机制是：</p><p><img src="/assets/c0d76205524a4cee8ff2a031932a9e90.ae19b868.png" alt="image.png"></p><h3 id="_1、一个名字一个值" tabindex="-1"><a class="header-anchor" href="#_1、一个名字一个值" aria-hidden="true">#</a> 1、一个名字一个值</h3><p>页面代码：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${param.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里替换为请求参数的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>页面显示效果：</p><p><img src="/assets/c73b45894220462b9f5fcb5de09a4683.eb7dce83.png" alt="image.png"></p><h3 id="_2、一个名字多个值" tabindex="-1"><a class="header-anchor" href="#_2、一个名字多个值" aria-hidden="true">#</a> 2、一个名字多个值</h3><p>页面代码：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${param.team}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里替换为请求参数的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>页面显示效果：</p><p><img src="/assets/eb3ecc558a3f4188aaffdc164e0e1ff8.6eabf742.png" alt="image.png"></p><p>如果想要精确获取某一个值，可以使用数组下标。页面代码：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${param.team[0]}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里替换为请求参数的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${param.team[1]}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里替换为请求参数的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>页面显示效果：</p><p><img src="/assets/753a45b747f341c1acc063ff572ef2e2.70a1dd7e.png" alt="image.png"></p><h2 id="八、基本语法-内置对象" tabindex="-1"><a class="header-anchor" href="#八、基本语法-内置对象" aria-hidden="true">#</a> 八、基本语法：内置对象</h2><h3 id="_1、概念" tabindex="-1"><a class="header-anchor" href="#_1、概念" aria-hidden="true">#</a> 1、概念</h3><p>所谓内置对象其实就是在表达式中<strong>可以直接使用</strong>的对象。</p><h3 id="_2、基本内置对象" tabindex="-1"><a class="header-anchor" href="#_2、基本内置对象" aria-hidden="true">#</a> 2、基本内置对象</h3><p><img src="/assets/1551ea6ba3dc43908b63be863dd06a7c.16b42518.png" alt="image.png"></p><p>用法举例：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>表达式的基本内置对象<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#request.getClass().getName()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>这里显示#request对象的全类名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#request.getContextPath()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>调用#request对象的getContextPath()方法<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#request.getAttribute(&#39;helloRequestAttr&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>调用#request对象的getAttribute()方法，读取属性域<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>基本思路：</p><ul><li>如果不清楚这个对象有哪些方法可以使用，那么就通过getClass().getName()获取全类名，再回到Java环境查看这个对象有哪些方法</li><li>内置对象的方法可以直接调用</li><li>调用方法时需要传参的也可以直接传入参数</li></ul><h3 id="_3、公共内置对象" tabindex="-1"><a class="header-anchor" href="#_3、公共内置对象" aria-hidden="true">#</a> 3、公共内置对象</h3><p><img src="/assets/55216f629d9b4407b3a75170f2b287a9.b118e66d.png" alt="image.png"></p><p>Servlet中将List集合数据存入请求域：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;aNotEmptyList&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ccc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;anEmptyList&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>页面代码：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>#list对象isEmpty方法判断集合整体是否为空aNotEmptyList：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#lists.isEmpty(aNotEmptyList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>测试#lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>#list对象isEmpty方法判断集合整体是否为空anEmptyList：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#lists.isEmpty(anEmptyList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>测试#lists<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>公共内置对象对应的源码位置：</p><p><img src="/assets/ec15ce5d093843539ed9c194e1243de6.9e3df07e.png" alt="image.png"></p><h2 id="九、基本语法-中的表达式本质是ognl" tabindex="-1"><a class="header-anchor" href="#九、基本语法-中的表达式本质是ognl" aria-hidden="true">#</a> 九、基本语法：${}中的表达式本质是OGNL</h2><h3 id="_1、ognl" tabindex="-1"><a class="header-anchor" href="#_1、ognl" aria-hidden="true">#</a> 1、OGNL</h3><p>OGNL：Object-Graph Navigation Language对象-图 导航语言</p><h3 id="_2、对象图" tabindex="-1"><a class="header-anchor" href="#_2、对象图" aria-hidden="true">#</a> 2、对象图</h3><p>从根对象触发，通过特定的语法，逐层访问对象的各种属性。</p><p><img src="/assets/a5debea1f60e4f8a8f5f6c20cbaf1bfc.5ab4e512.png" alt="image.png"></p><h3 id="_3、ognl语法" tabindex="-1"><a class="header-anchor" href="#_3、ognl语法" aria-hidden="true">#</a> 3、OGNL语法</h3><h4 id="起点" tabindex="-1"><a class="header-anchor" href="#起点" aria-hidden="true">#</a> 起点</h4><p>在Thymeleaf环境下，${}中的表达式可以从下列元素开始：</p><ul><li>访问属性域的起点 <ul><li>请求域属性名</li><li>session</li><li>application</li></ul></li><li>param</li><li>内置对象 <ul><li>#request</li><li>#session</li><li>#lists</li><li>#strings</li></ul></li></ul><h4 id="属性访问语法" tabindex="-1"><a class="header-anchor" href="#属性访问语法" aria-hidden="true">#</a> 属性访问语法</h4><ul><li>访问对象属性：使用getXxx()、setXxx()方法定义的属性 <ul><li>对象.属性名</li></ul></li><li>访问List集合或数组 <ul><li>集合或数组[下标]</li></ul></li><li>访问Map集合 <ul><li>Map集合.key</li><li>Map集合[&#39;key&#39;]</li></ul></li></ul><h2 id="十、基本语法-分支与迭代" tabindex="-1"><a class="header-anchor" href="#十、基本语法-分支与迭代" aria-hidden="true">#</a> 十、基本语法：分支与迭代</h2><h3 id="_1、分支" tabindex="-1"><a class="header-anchor" href="#_1、分支" aria-hidden="true">#</a> 1、分支</h3><h3 id="if和unless" tabindex="-1"><a class="header-anchor" href="#if和unless" aria-hidden="true">#</a> if和unless</h3><p>让标记了th:if、th:unless的标签根据条件决定是否显示。</p><p>示例的实体类：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> empId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> empName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> empSalary<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例的Servlet代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.创建ArrayList对象并填充</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employeeList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    employeeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">500.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    employeeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span> <span class="token number">600.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    employeeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;harry&quot;</span><span class="token punctuation">,</span> <span class="token number">700.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.将集合数据存入请求域</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;employeeList&quot;</span><span class="token punctuation">,</span> employeeList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.调用父类方法渲染视图</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例的HTML代码：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工编号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工工资<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>抱歉！没有查询到你搜索的数据！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${not #lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>有数据！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>有数据！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>if配合not关键词和unless配合原表达式效果是一样的，看自己的喜好。</p><h4 id="switch" tabindex="-1"><a class="header-anchor" href="#switch" aria-hidden="true">#</a> switch</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>测试switch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>switch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${user.memberLevel}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>level-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>银牌会员<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>level-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>金牌会员<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>level-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>白金会员<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>level-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>钻石会员<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、迭代" tabindex="-1"><a class="header-anchor" href="#_2、迭代" aria-hidden="true">#</a> 2、迭代</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>测试each<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工编号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工工资<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>抱歉！没有查询到你搜索的数据！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${not #lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 遍历出来的每一个元素的名字 : ${要遍历的集合} --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee : ${employeeList}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${employee.empId}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>empId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${employee.empName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>empName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${employee.empSalary}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>empSalary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在迭代过程中，可以参考下面的说明使用迭代状态：</p><p><img src="/assets/ca7e217a9c3e4e98a79eb57834623972.db6895f0.png" alt="image.png"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>测试each<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工编号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>员工工资<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>迭代状态<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>抱歉！没有查询到你搜索的数据！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${not #lists.isEmpty(employeeList)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 遍历出来的每一个元素的名字 : ${要遍历的集合} --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee,empStatus : ${employeeList}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${employee.empId}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>empId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${employee.empName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>empName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${employee.empSalary}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>empSalary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${empStatus.count}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="十一、基本语法-包含其他模板文件" tabindex="-1"><a class="header-anchor" href="#十一、基本语法-包含其他模板文件" aria-hidden="true">#</a> 十一、基本语法：包含其他模板文件</h2><h3 id="_1、应用场景" tabindex="-1"><a class="header-anchor" href="#_1、应用场景" aria-hidden="true">#</a> 1、应用场景</h3><p>抽取各个页面的公共部分：</p><p><img src="/assets/88d4c1a6ce334fdfbb4670eedb173642.853d58e1.png" alt="image.png"></p><h3 id="_2、创建页面的代码片段" tabindex="-1"><a class="header-anchor" href="#_2、创建页面的代码片段" aria-hidden="true">#</a> 2、创建页面的代码片段</h3><p>使用th:fragment来给这个片段命名：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>被抽取出来的头部内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、包含到有需要的页面" tabindex="-1"><a class="header-anchor" href="#_3、包含到有需要的页面" aria-hidden="true">#</a> 3、包含到有需要的页面</h3><table><thead><tr><th>语法</th><th>效果</th></tr></thead><tbody><tr><td>th:insert</td><td>把目标的代码片段整个插入到当前标签内部</td></tr><tr><td>th:replace</td><td>用目标的代码替换当前标签</td></tr><tr><td>th:include</td><td>把目标的代码片段去除最外层标签，然后再插入到当前标签内部</td></tr></tbody></table><p>页面代码举例：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- 代码片段所在页面的逻辑视图 :: 代码片段的名称 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>badBoy<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment :: header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    div标签的原始内容
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>worseBoy<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment :: header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    div标签的原始内容
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>worstBoy<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment :: header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    div标签的原始内容
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="加餐-最凝练的crud" tabindex="-1"><a class="header-anchor" href="#加餐-最凝练的crud" aria-hidden="true">#</a> 加餐 最凝练的CRUD</h2><h3 id="_1、建模" tabindex="-1"><a class="header-anchor" href="#_1、建模" aria-hidden="true">#</a> 1、建模</h3><h4 id="物理建模" tabindex="-1"><a class="header-anchor" href="#物理建模" aria-hidden="true">#</a> 物理建模</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">`</span>view-demo<span class="token punctuation">`</span></span><span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8<span class="token punctuation">;</span>
<span class="token keyword">USE</span> <span class="token identifier"><span class="token punctuation">`</span>view-demo<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_soldier<span class="token punctuation">(</span>
    soldier_id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
    soldier_name <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    soldier_weapon <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="逻辑建模" tabindex="-1"><a class="header-anchor" href="#逻辑建模" aria-hidden="true">#</a> 逻辑建模</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Soldier</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> soldierId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> soldierName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> soldierWeapon<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、总体架构" tabindex="-1"><a class="header-anchor" href="#_2、总体架构" aria-hidden="true">#</a> 2、总体架构</h3><p><img src="/assets/b55d0044eb01443eb268a56444cc9533.bd4d1fc3.png" alt="image.png"></p><h3 id="_3、搭建持久化层所需环境" tabindex="-1"><a class="header-anchor" href="#_3、搭建持久化层所需环境" aria-hidden="true">#</a> 3、搭建持久化层所需环境</h3><h4 id="导入jar包" tabindex="-1"><a class="header-anchor" href="#导入jar包" aria-hidden="true">#</a> 导入jar包</h4><blockquote><p>commons-dbutils-1.6.jar druid-1.1.9.jar hamcrest-core-1.3.jar junit-4.12.jar mysql-connector-java-5.1.37-bin.jar</p></blockquote><h4 id="创建jdbc-properties" tabindex="-1"><a class="header-anchor" href="#创建jdbc-properties" aria-hidden="true">#</a> 创建jdbc.properties</h4><p>维护基本连接信息</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://127.0.0.1:3306/view-demo</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">123456</span>
<span class="token key attr-name">initialSize</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token key attr-name">maxActive</span><span class="token punctuation">=</span><span class="token value attr-value">20</span>
<span class="token key attr-name">maxWait</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建jdbcutils工具类" tabindex="-1"><a class="header-anchor" href="#创建jdbcutils工具类" aria-hidden="true">#</a> 创建JDBCUtils工具类</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtil</span> <span class="token punctuation">{</span>

    <span class="token comment">// 将数据源对象设置为静态属性，保证大对象的单一实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.创建一个用于存储外部属性文件信息的Properties对象</span>
        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.使用当前类的类加载器加载外部属性文件：jdbc.properties</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>

            <span class="token comment">// 3.将外部属性文件jdbc.properties中的数据加载到properties对象中</span>
            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 4.创建数据源对象</span>
            dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 从数据源中获取数据库连接
     * <span class="token keyword">@return</span> 数据库连接对象
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> connection<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 释放数据库连接
     * <span class="token keyword">@param</span> <span class="token parameter">connection</span> 要执行释放操作的连接对象
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> connection<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试能否正常连接数据库：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;connection = &quot;</span> <span class="token operator">+</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="basedao" tabindex="-1"><a class="header-anchor" href="#basedao" aria-hidden="true">#</a> BaseDao</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">QueryRunner</span> queryRunner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * 通用的增删改方法
     * <span class="token keyword">@param</span> <span class="token parameter">sql</span>
     * <span class="token keyword">@param</span> <span class="token parameter">param</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            count <span class="token operator">=</span> queryRunner<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

            <span class="token comment">// 关闭数据库连接</span>
            <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 查询单个对象的通用方法
     * <span class="token keyword">@param</span> <span class="token parameter">clazz</span>
     * <span class="token keyword">@param</span> <span class="token parameter">sql</span>
     * <span class="token keyword">@param</span> <span class="token parameter">param</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">T</span> bean <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            bean <span class="token operator">=</span> queryRunner<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

            <span class="token comment">// 关闭数据库连接</span>
            <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 查询集合对象的通用方法
     * <span class="token keyword">@param</span> <span class="token parameter">clazz</span>
     * <span class="token keyword">@param</span> <span class="token parameter">sql</span>
     * <span class="token keyword">@param</span> <span class="token parameter">param</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getBeanList</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> beanList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            beanList <span class="token operator">=</span> queryRunner<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanListHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

            <span class="token comment">// 关闭数据库连接</span>
            <span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> beanList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、搭建表述层所需环境" tabindex="-1"><a class="header-anchor" href="#_4、搭建表述层所需环境" aria-hidden="true">#</a> 4、搭建表述层所需环境</h3><p>本质上就是Thymeleaf所需要的环境</p><h4 id="导入jar包-1" tabindex="-1"><a class="header-anchor" href="#导入jar包-1" aria-hidden="true">#</a> 导入jar包</h4><blockquote><p>attoparser-2.0.5.RELEASE.jar javassist-3.20.0-GA.jar log4j-1.2.15.jar ognl-3.1.26.jar slf4j-api-1.7.25.jar slf4j-log4j12-1.7.25.jar thymeleaf-3.0.12.RELEASE.jar unbescape-1.1.6.RELEASE.jar</p></blockquote><h4 id="创建viewbaseservlet" tabindex="-1"><a class="header-anchor" href="#创建viewbaseservlet" aria-hidden="true">#</a> 创建ViewBaseServlet</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span></span><span class="token class-name">TemplateEngine</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">WebContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>templatemode<span class="token punctuation">.</span></span><span class="token class-name">TemplateMode</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>templateresolver<span class="token punctuation">.</span></span><span class="token class-name">ServletContextTemplateResolver</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViewBaseServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">TemplateEngine</span> templateEngine<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.获取ServletContext对象</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.创建Thymeleaf解析器对象</span>
        <span class="token class-name">ServletContextTemplateResolver</span> templateResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.给解析器对象设置参数</span>
        <span class="token comment">// ①HTML是默认模式，明确设置是为了代码更容易理解</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateMode</span><span class="token punctuation">(</span><span class="token class-name">TemplateMode</span><span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ②设置前缀</span>
        <span class="token class-name">String</span> viewPrefix <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;view-prefix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        templateResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span>viewPrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ③设置后缀</span>
        <span class="token class-name">String</span> viewSuffix <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;view-suffix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        templateResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span>viewSuffix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ④设置缓存过期时间（毫秒）</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheTTLMs</span><span class="token punctuation">(</span><span class="token number">60000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ⑤设置是否缓存</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ⑥设置服务器端编码方式</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.创建模板引擎对象</span>
        templateEngine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5.给模板引擎对象设置模板解析器</span>
        templateEngine<span class="token punctuation">.</span><span class="token function">setTemplateResolver</span><span class="token punctuation">(</span>templateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token class-name">String</span> templateName<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.设置响应体内容类型和字符集</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.创建WebContext对象</span>
        <span class="token class-name">WebContext</span> webContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">,</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.处理模板数据</span>
        templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>templateName<span class="token punctuation">,</span> webContext<span class="token punctuation">,</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置web-xml" tabindex="-1"><a class="header-anchor" href="#配置web-xml" aria-hidden="true">#</a> 配置web.xml</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 在上下文参数中配置视图前缀和视图后缀 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>view-prefix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>/WEB-INF/view/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>view-suffix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="创建view目录" tabindex="-1"><a class="header-anchor" href="#创建view目录" aria-hidden="true">#</a> 创建view目录</h4><p><img src="/assets/5e0b69b67211422e807009d1aa8fcbe7.3d5e9940.png" alt="image.png"></p><h3 id="_5、功能清单" tabindex="-1"><a class="header-anchor" href="#_5、功能清单" aria-hidden="true">#</a> 5、功能清单</h3><ul><li>显示首页：浏览器通过index.html访问首页Servlet，然后再解析对应的模板视图</li><li>显示列表：在首页点击超链接，跳转到目标页面把所有士兵的信息列表显示出来</li><li>删除信息：在列表上点击删除超链接，执行信息的删除操作</li><li>新增信息： <ul><li>在列表页面点击超链接跳转到新增士兵信息的表单页面</li><li>在新增信息的表单页面点击提交按钮执行保存</li></ul></li><li>更新信息： <ul><li>在列表上点击更新超链接，跳转到更新士兵信息的表单页面：表单回显</li><li>在更新信息的表单页面点击提交按钮执行更新</li></ul></li></ul><h3 id="_6、显示首页" tabindex="-1"><a class="header-anchor" href="#_6、显示首页" aria-hidden="true">#</a> 6、显示首页</h3><h4 id="目标" tabindex="-1"><a class="header-anchor" href="#目标" aria-hidden="true">#</a> 目标</h4><p>浏览器访问index.html，通过首页Servlet，渲染视图，显示首页。</p><h4 id="思路" tabindex="-1"><a class="header-anchor" href="#思路" aria-hidden="true">#</a> 思路</h4><p><img src="/assets/785960679125492590625b6818031508.b096a4ab.png" alt="image.png"></p><h4 id="代码" tabindex="-1"><a class="header-anchor" href="#代码" aria-hidden="true">#</a> 代码</h4><h5 id="_1-创建portalservlet" tabindex="-1"><a class="header-anchor" href="#_1-创建portalservlet" aria-hidden="true">#</a> [1]创建PortalServlet</h5><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>PortalServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.demo.servlet.PortalServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>PortalServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Servlet代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PortalServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ViewBaseServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> viewName <span class="token operator">=</span> <span class="token string">&quot;portal&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">processTemplate</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-创建portal-html" tabindex="-1"><a class="header-anchor" href="#_2-创建portal-html" aria-hidden="true">#</a> [2]创建portal.html</h5><p><img src="/assets/f647563ef49f463294af041460a601f6.556985b0.png" alt="image.png"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>士兵信息管理系统<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/SoldierServlet?method=showList}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示士兵信息列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7、显示列表" tabindex="-1"><a class="header-anchor" href="#_7、显示列表" aria-hidden="true">#</a> 7、显示列表</h3><h4 id="目标-1" tabindex="-1"><a class="header-anchor" href="#目标-1" aria-hidden="true">#</a> 目标</h4><p>在目标页面显示所有士兵信息，士兵信息是从数据库查询出来的</p><h4 id="思路-1" tabindex="-1"><a class="header-anchor" href="#思路-1" aria-hidden="true">#</a> 思路</h4><p><img src="/assets/43d329d6913d455ba5dffe02249fbf70.273971f4.png" alt="image.png"></p><h4 id="代码-1" tabindex="-1"><a class="header-anchor" href="#代码-1" aria-hidden="true">#</a> 代码</h4><h5 id="_1-modelbaseservlet" tabindex="-1"><a class="header-anchor" href="#_1-modelbaseservlet" aria-hidden="true">#</a> [1]ModelBaseServlet</h5><p>创建这个基类的原因是：我们希望每一个模块能够对应同一个Servlet，这个模块所需要调用的所有方法都集中在同一个Servlet中。如果没有这个ModelBaseServlet基类，我们doGet()、doPost()方法可以用来处理请求，这样一来，每一个方法都需要专门创建一个Servlet（就好比咱们之前的LoginServlet、RegisterServlet其实都应该合并为UserServlet）。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ModelBaseServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ViewBaseServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 在doGet()方法中调用doPost()方法，这样就可以在doPost()方法中集中处理所有请求</span>
        <span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.从请求参数中获取method对应的数据</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.通过反射调用method对应的方法</span>
        <span class="token comment">// ①获取Class对象</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ModelBaseServlet</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// ②获取method对应的Method对象</span>
            <span class="token class-name">Method</span> methodObject <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ③打开访问权限</span>
            methodObject<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ④通过Method对象调用目标方法</span>
            methodObject<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-soldierdao-selectsoldierlist" tabindex="-1"><a class="header-anchor" href="#_2-soldierdao-selectsoldierlist" aria-hidden="true">#</a> [2]SoldierDao.selectSoldierList()</h5><p><img src="/assets/be01226998d44cdcaee32cb2e37e1de3.8b7fdede.png" alt="image.png"></p><p>接口方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SoldierDao</span> <span class="token punctuation">{</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectSoldierList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实现类方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SoldierDaoImpl</span> <span class="token keyword">extends</span> <span class="token class-name">BaseDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">SoldierDao</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectSoldierList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select soldier_id soldierId,soldier_name soldierName,soldier_weapon soldierWeapon from t_soldier&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">getBeanList</span><span class="token punctuation">(</span><span class="token class-name">Soldier</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-soldierservice-getsoldierlist" tabindex="-1"><a class="header-anchor" href="#_3-soldierservice-getsoldierlist" aria-hidden="true">#</a> [3]SoldierService.getSoldierList()</h5><p><img src="/assets/7e53262fdd05404fa75298145c9ef370.f7eede03.png" alt="image.png"></p><p>接口方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SoldierService</span> <span class="token punctuation">{</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSoldierList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实现类方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SoldierServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SoldierService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">SoldierDao</span> soldierDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SoldierDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSoldierList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> soldierList <span class="token operator">=</span> soldierDao<span class="token punctuation">.</span><span class="token function">selectSoldierList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> soldierList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-soldierservlet-showlist" tabindex="-1"><a class="header-anchor" href="#_4-soldierservlet-showlist" aria-hidden="true">#</a> [4]SoldierServlet.showList()</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">showList</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.调用Service方法获取集合数据</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Soldier</span><span class="token punctuation">&gt;</span></span> soldierList <span class="token operator">=</span> soldierService<span class="token punctuation">.</span><span class="token function">getSoldierList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.将集合数据存入请求域</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;soldierList&quot;</span><span class="token punctuation">,</span> soldierList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.渲染视图（在渲染的过程中，已经包含了转发）</span>
    <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8、删除功能" tabindex="-1"><a class="header-anchor" href="#_8、删除功能" aria-hidden="true">#</a> 8、删除功能</h3><h4 id="目标-2" tabindex="-1"><a class="header-anchor" href="#目标-2" aria-hidden="true">#</a> 目标</h4><p>点击页面上的超链接，把数据库表中的记录删除。</p><h4 id="思路-2" tabindex="-1"><a class="header-anchor" href="#思路-2" aria-hidden="true">#</a> 思路</h4><h5 id="_1-先不考虑后续" tabindex="-1"><a class="header-anchor" href="#_1-先不考虑后续" aria-hidden="true">#</a> [1]先不考虑后续</h5><p><img src="/assets/83e34e284e8849eb8e5d8987fa194409.df39bc6a.png" alt="image.png"></p><h5 id="_2-加上后续返回响应页面" tabindex="-1"><a class="header-anchor" href="#_2-加上后续返回响应页面" aria-hidden="true">#</a> [2]加上后续返回响应页面</h5><p><img src="/assets/779ff518108e46aeb743b56beef0fb8d.1631107a.png" alt="image.png"></p><h4 id="代码-2" tabindex="-1"><a class="header-anchor" href="#代码-2" aria-hidden="true">#</a> 代码</h4><h5 id="_1-完成删除超链接" tabindex="-1"><a class="header-anchor" href="#_1-完成删除超链接" aria-hidden="true">#</a> [1]完成删除超链接</h5><p><img src="/assets/a617f901079b4b5784210b1ed2f8fef7.dc3edda6.png" alt="image.png"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/SoldierServlet(soldierId=${soldier.soldierId},method=&#39;remove&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>删除<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>&gt; 关于@{地址}附加请求参数的语法格式：
&gt; 只有一个请求参数：@{地址(请求参数名=普通字符串)}或@{地址(请求参数名=${需要解析的表达式})}
&gt; 多个请求参数：@{地址(名=值,名=值)}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>官方文档中的说明如下：</p><p><img src="/assets/d91715b7d95b4f1db28892b598feca63.b399d09e.png" alt="image.png"></p><h5 id="_2-servlet方法" tabindex="-1"><a class="header-anchor" href="#_2-servlet方法" aria-hidden="true">#</a> [2]Servlet方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.从请求参数中获取士兵信息的id值</span>
    <span class="token class-name">String</span> soldierId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.调用Service方法执行删除操作</span>
    soldierService<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>soldierId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.后续……</span>
    <span class="token comment">// 方案一：还是直接前往list.html，需要重新查询soldierList数据，代码重复</span>
    <span class="token comment">// 1.调用Service方法获取集合数据</span>
    <span class="token comment">// List&lt;Soldier&gt; soldierList = soldierService.getSoldierList();</span>

    <span class="token comment">// 2.将集合数据存入请求域</span>
    <span class="token comment">// request.setAttribute(&quot;soldierList&quot;, soldierList);</span>

    <span class="token comment">// processTemplate(&quot;list&quot;, request, response);</span>

    <span class="token comment">// 方案二：直接调用隔壁的showList()</span>
    <span class="token comment">// 也能实现需求，但是总感觉这样调用方法破坏了程序的结构</span>
    <span class="token comment">// showList(request, response);</span>

    <span class="token comment">// 方案三：通过请求转发的方式间接调用showList()方法</span>
    <span class="token comment">// request.getRequestDispatcher(&quot;/SoldierServlet?method=showList&quot;).forward(request, response);</span>

    <span class="token comment">// 方案四：通过请求重定向的方式间接调用showList()方法</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/SoldierServlet?method=showList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-service方法" tabindex="-1"><a class="header-anchor" href="#_3-service方法" aria-hidden="true">#</a> [3]Service方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">String</span> soldierId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        soldierDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>soldierId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-dao方法" tabindex="-1"><a class="header-anchor" href="#_4-dao方法" aria-hidden="true">#</a> [4]Dao方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">String</span> soldierId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;delete from t_soldier where soldier_id=?&quot;</span><span class="token punctuation">;</span>

        <span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> soldierId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9、前往新增信息的表单页面" tabindex="-1"><a class="header-anchor" href="#_9、前往新增信息的表单页面" aria-hidden="true">#</a> 9、前往新增信息的表单页面</h3><h4 id="创建超链接" tabindex="-1"><a class="header-anchor" href="#创建超链接" aria-hidden="true">#</a> 创建超链接</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/SoldierServlet?method=toAddPage}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>前往新增页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="servlet" tabindex="-1"><a class="header-anchor" href="#servlet" aria-hidden="true">#</a> Servlet</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">toAddPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;add-page&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="创建表单页面" tabindex="-1"><a class="header-anchor" href="#创建表单页面" aria-hidden="true">#</a> 创建表单页面</h4><p><img src="/assets/1bdb896e824741c88c8351af2685e6a4.6e1c8139.png" alt="image.png"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/SoldierServlet}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>saveSoldier<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    士兵姓名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>soldierName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    士兵武器：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>soldierWeapon<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>保存<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10、执行保存" tabindex="-1"><a class="header-anchor" href="#_10、执行保存" aria-hidden="true">#</a> 10、执行保存</h3><h4 id="目标-3" tabindex="-1"><a class="header-anchor" href="#目标-3" aria-hidden="true">#</a> 目标</h4><p>提交表单后，将表单数据封装为Soldier对象，然后将Soldier对象保存到数据库。</p><h4 id="思路-3" tabindex="-1"><a class="header-anchor" href="#思路-3" aria-hidden="true">#</a> 思路</h4><p><img src="/assets/f13612532c3c411eba152b1633cbea90.cd485b1c.png" alt="image.png"></p><h4 id="代码-3" tabindex="-1"><a class="header-anchor" href="#代码-3" aria-hidden="true">#</a> 代码</h4><h5 id="_1-servlet方法" tabindex="-1"><a class="header-anchor" href="#_1-servlet方法" aria-hidden="true">#</a> [1]Servlet方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">saveSoldier</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.获取请求参数</span>
    <span class="token class-name">String</span> soldierName <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> soldierWeapon <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierWeapon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.创建Soldier对象</span>
    <span class="token class-name">Soldier</span> soldier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Soldier</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> soldierName<span class="token punctuation">,</span> soldierWeapon<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.调用Service方法</span>
    soldierService<span class="token punctuation">.</span><span class="token function">saveSoldier</span><span class="token punctuation">(</span>soldier<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4.重定向请求</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/SoldierServlet?method=showList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-service方法" tabindex="-1"><a class="header-anchor" href="#_2-service方法" aria-hidden="true">#</a> [2]Service方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveSoldier</span><span class="token punctuation">(</span><span class="token class-name">Soldier</span> soldier<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        soldierDao<span class="token punctuation">.</span><span class="token function">insertSoldier</span><span class="token punctuation">(</span>soldier<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-dao方法" tabindex="-1"><a class="header-anchor" href="#_3-dao方法" aria-hidden="true">#</a> [3]Dao方法</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insertSoldier</span><span class="token punctuation">(</span><span class="token class-name">Soldier</span> soldier<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_soldier(soldier_name,soldier_weapon) values(?,?)&quot;</span><span class="token punctuation">;</span>

        <span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> soldier<span class="token punctuation">.</span><span class="token function">getSoldierName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> soldier<span class="token punctuation">.</span><span class="token function">getSoldierWeapon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11、前往修改信息的表单页面" tabindex="-1"><a class="header-anchor" href="#_11、前往修改信息的表单页面" aria-hidden="true">#</a> 11、前往修改信息的表单页面</h3><p><img src="/assets/d6127127eae643eaac6d7fba41d61127.8bfcf3a1.png" alt="image.png"></p><h4 id="创建超链接-1" tabindex="-1"><a class="header-anchor" href="#创建超链接-1" aria-hidden="true">#</a> 创建超链接</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/SoldierServlet(soldierId=${soldier.soldierId},method=toEditPage)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>编辑<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="servlet方法" tabindex="-1"><a class="header-anchor" href="#servlet方法" aria-hidden="true">#</a> Servlet方法</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">toEditPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.从请求参数获取soldierId</span>
    <span class="token class-name">String</span> soldierId <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.根据soldierId查询Soldier对象</span>
    <span class="token class-name">Soldier</span> soldier <span class="token operator">=</span> soldierService<span class="token punctuation">.</span><span class="token function">getSoldierById</span><span class="token punctuation">(</span>soldierId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.将Soldier对象存入请求域</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;soldier&quot;</span><span class="token punctuation">,</span> soldier<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4.前往更新的表单页面</span>
    <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;edit-page&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service方法" tabindex="-1"><a class="header-anchor" href="#service方法" aria-hidden="true">#</a> Service方法</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Soldier</span> <span class="token function">getSoldierById</span><span class="token punctuation">(</span><span class="token class-name">String</span> soldierId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> soldierDao<span class="token punctuation">.</span><span class="token function">selectSoldierByPrimaryKey</span><span class="token punctuation">(</span>soldierId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dao方法" tabindex="-1"><a class="header-anchor" href="#dao方法" aria-hidden="true">#</a> Dao方法</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Soldier</span> <span class="token function">selectSoldierByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> soldierId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select soldier_id soldierId,soldier_name soldierName,soldier_weapon soldierWeapon from t_soldier where soldier_id=?&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Soldier</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> sql<span class="token punctuation">,</span> soldierId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="表单页面" tabindex="-1"><a class="header-anchor" href="#表单页面" aria-hidden="true">#</a> 表单页面</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/SoldierServlet}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateSoldier<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>soldierId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${soldier.soldierId}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    士兵姓名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>soldierName<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${soldier.soldierName}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    士兵武器：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>soldierWeapon<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${soldier.soldierWeapon}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>更新<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12、执行更新" tabindex="-1"><a class="header-anchor" href="#_12、执行更新" aria-hidden="true">#</a> 12、执行更新</h3><p><img src="/assets/9756b1364d2241e0b7b11a115bc137be.ae565460.png" alt="image.png"></p><h4 id="servlet方法-1" tabindex="-1"><a class="header-anchor" href="#servlet方法-1" aria-hidden="true">#</a> Servlet方法</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">updateSoldier</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.获取请求参数</span>
    <span class="token class-name">String</span> soldierIdOrigin <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> soldierId <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>soldierIdOrigin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> soldierName <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> soldierWeapon <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;soldierWeapon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2.封装对象</span>
    <span class="token class-name">Soldier</span> soldier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Soldier</span><span class="token punctuation">(</span>soldierId<span class="token punctuation">,</span> soldierName<span class="token punctuation">,</span> soldierWeapon<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3.调用Service方法执行更新</span>
    soldierService<span class="token punctuation">.</span><span class="token function">updateSoldier</span><span class="token punctuation">(</span>soldier<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4.重定向请求</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/SoldierServlet?method=showList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="service方法-1" tabindex="-1"><a class="header-anchor" href="#service方法-1" aria-hidden="true">#</a> Service方法</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateSoldier</span><span class="token punctuation">(</span><span class="token class-name">Soldier</span> soldier<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        soldierDao<span class="token punctuation">.</span><span class="token function">updateSoldier</span><span class="token punctuation">(</span>soldier<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="dao方法-1" tabindex="-1"><a class="header-anchor" href="#dao方法-1" aria-hidden="true">#</a> Dao方法</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateSoldier</span><span class="token punctuation">(</span><span class="token class-name">Soldier</span> soldier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update t_soldier set soldier_name=?,soldier_weapon=? where soldier_id=?&quot;</span><span class="token punctuation">;</span>
    <span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> soldier<span class="token punctuation">.</span><span class="token function">getSoldierName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> soldier<span class="token punctuation">.</span><span class="token function">getSoldierWeapon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> soldier<span class="token punctuation">.</span><span class="token function">getSoldierId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13、请求字符集设置" tabindex="-1"><a class="header-anchor" href="#_13、请求字符集设置" aria-hidden="true">#</a> 13、请求字符集设置</h3><ul><li>设置请求体字符集需要调用request.setCharacterEncoding(&quot;UTF-8&quot;);</li><li>request.setCharacterEncoding(&quot;UTF-8&quot;);要求在所有request.getParameter()前面</li><li>在执行子类Servlet方法时，其实都是先调用父类ModelBaseServlet的doPost()方法</li><li>doPost()方法中包含获取method请求参数的操作</li><li>所以最前面的request.getParameter()在doPost()方法中</li><li>所以request.setCharacterEncoding(&quot;UTF-8&quot;);要放在doPost()方法的request.getParameter()前面</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 0.在所有request.getParameter()前面设置解析请求体的字符集</span>
    request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1.从请求参数中获取method对应的数据</span>
    <span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ……</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ragnarokoo/LearningNotes/edit/master/src/notes/javaweb/12、Thymeleaf.md" rel="noopener noreferrer" target="_blank" aria-label="在【Github】上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在【Github】上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><!----></footer><nav class="page-nav"><a href="/notes/javaweb/11%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5.html" class="nav-link prev" aria-label="11、书城项目第二阶段"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><span class="icon iconfont icon-folder"></span>11、书城项目第二阶段</div></a><a href="/notes/javaweb/13%E3%80%81%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5.html" class="nav-link next" aria-label="13、书城项目第三阶段"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">13、书城项目第三阶段<span class="icon iconfont icon-folder"></span></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.9b10ba0a.js" defer></script>
  </body>
</html>
