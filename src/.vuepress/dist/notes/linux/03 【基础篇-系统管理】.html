<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://Ragnarokoo.github.io/LearningNotes/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html"><meta property="og:site_name" content="📚全栈开发学习指南"><meta property="og:title" content="三、基础篇-系统管理"><meta property="og:description" content="1.Linux 中的进程和服务 计算机中，一个正在执行的程序或命令，被叫做“进程”（process）。 启动之后一只存在、常驻内存的进程，一般被称作“服务”（service）。 详细操作后面说明 2.systemctl 服务管理 service 服务管理（CentOS 6 版本-了解） systemctl （CentOS 7 版本-重点掌握） Cent..."><meta property="og:type" content="article"><meta property="og:image" content="https://Ragnarokoo.github.io/LearningNotes/"><meta property="og:updated_time" content="2023-05-31T09:16:41.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="三、基础篇-系统管理"><meta property="article:tag" content="linux"><meta property="article:tag" content="centos"><meta property="article:modified_time" content="2023-05-31T09:16:41.000Z"><link rel="icon" href="/site_logo.svg"><title>三、基础篇-系统管理 | 📚全栈开发学习指南</title><meta name="description" content="1.Linux 中的进程和服务 计算机中，一个正在执行的程序或命令，被叫做“进程”（process）。 启动之后一只存在、常驻内存的进程，一般被称作“服务”（service）。 详细操作后面说明 2.systemctl 服务管理 service 服务管理（CentOS 6 版本-了解） systemctl （CentOS 7 版本-重点掌握） Cent...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.bc8b6d7c.css" as="style" /><link rel="stylesheet" href="/assets/style.bc8b6d7c.css" />
    <link rel="modulepreload" href="/assets/app.9b10ba0a.js"><link rel="modulepreload" href="/assets/03 【基础篇-系统管理】.html.d74e7ffc.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/03 【基础篇-系统管理】.html.230d887c.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/site_logo.svg" alt="📚全栈开发学习指南"><!----><span class="site-name hide-in-pad">📚全栈开发学习指南</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/quicknav/" class="nav-link" aria-label="快速导航"><span class="icon iconfont icon-navigation"></span>快速导航<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link" aria-label="博客主页"><span class="icon iconfont icon-blog"></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/notes/" class="nav-link active" aria-label="Java学习教程"><span class="icon iconfont icon-java"></span>Java学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/web/" class="nav-link" aria-label="web学习教程"><span class="icon iconfont icon-note"></span>web学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/springcloud/" class="nav-link" aria-label="SpringCloud学习教程"><span class="icon iconfont icon-cache"></span>SpringCloud学习教程<!----></a></div><div class="nav-item hide-in-mobile"><a href="/distributed/" class="nav-link" aria-label="分布式微服务架构"><span class="icon iconfont icon-read"></span>分布式微服务架构<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="资源宝库"><span class="title"><span class="icon iconfont icon-advance"></span>资源宝库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/resources/books/" class="nav-link" aria-label="书籍资源"><span class="icon iconfont icon-animation"></span>书籍资源<!----></a></li><li class="dropdown-item"><a href="/resources/videos/" class="nav-link" aria-label="影音资源"><span class="icon iconfont icon-play"></span>影音资源<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/Ragnarokoo/LearningNotes" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索本站" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-java"></span><span class="title">Java Language专栏</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-IO"></span><span class="title">Java网络编程NIO</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-community"></span><span class="title">JDBC数据库连接技术</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-categoryselected"></span><span class="title">JavaWeb</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-array"></span><span class="title">SSM Framework</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-geometry"></span><span class="title">SpringData</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-type"></span><span class="title">SpringBoot</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-module"></span><span class="title">mybatisplus</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-operate"></span><span class="title">构建工具&amp;云原生Devops</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mysql"></span><span class="title">数据库以及调优策略</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-quote"></span><span class="title">消息中间件</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tool"></span><span class="title">软件以及环境配置</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-ability"></span><span class="title">Linux操作系统</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/notes/linux/01%20%E3%80%90%E5%85%A5%E9%97%A8%E7%AF%87-%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%AE%89%E8%A3%85%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="一、入门篇-介绍和安装"><span class="icon iconfont icon-centos"></span>一、入门篇-介绍和安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/02%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-vim%E7%BC%96%E8%BE%91%E5%99%A8%20%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%20%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="二、基础篇-vim编辑器 网络配置 远程登录"><span class="icon iconfont icon-centos"></span>二、基础篇-vim编辑器 网络配置 远程登录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="三、基础篇-系统管理"><span class="icon iconfont icon-centos"></span>三、基础篇-系统管理<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_1-linux-中的进程和服务" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.Linux 中的进程和服务"><!---->1.Linux 中的进程和服务<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_2-systemctl-服务管理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.systemctl 服务管理"><!---->2.systemctl 服务管理<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_2-1-systemctl参数说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 systemctl参数说明"><!---->2.1 systemctl参数说明<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_2-2-systemctl使用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 systemctl使用示例"><!---->2.2 systemctl使用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_3-系统运行级别" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.系统运行级别"><!---->3.系统运行级别<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-关机重启命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.关机重启命令"><!---->4.关机重启命令<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-1-关机重启命令汇总" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 关机重启命令汇总"><!---->4.1 关机重启命令汇总<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-2-shutdown命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 shutdown命令"><!---->4.2 shutdown命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-3-sync命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.3 sync命令"><!---->4.3 sync命令<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/notes/linux/04%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%20%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="四、实操篇-帮助命令 文件目录管理基础知识"><span class="icon iconfont icon-centos"></span>四、实操篇-帮助命令 文件目录管理基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/05%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%B1%BB%E5%91%BD%E4%BB%A4%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="五、实操篇-文件目录类命令"><span class="icon iconfont icon-centos"></span>五、实操篇-文件目录类命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/06%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB%20%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="六、实操篇-时间日期类 用户和用户组管理"><span class="icon iconfont icon-centos"></span>六、实操篇-时间日期类 用户和用户组管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/07%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E5%92%8C%E6%90%9C%E7%B4%A2%E6%9F%A5%E6%89%BE%E7%B1%BB%E5%91%BD%E4%BB%A4%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="七、实操篇-文件权限和搜索查找类命令"><span class="icon iconfont icon-centos"></span>七、实操篇-文件权限和搜索查找类命令<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/08%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B%E7%B1%BB%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="八、实操篇-压缩和解压类"><span class="icon iconfont icon-centos"></span>八、实操篇-压缩和解压类<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/09%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E7%A3%81%E7%9B%98%E6%9F%A5%E7%9C%8B%E5%92%8C%E5%88%86%E5%8C%BA%E7%B1%BB%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="九、实操篇-磁盘查看和分区类"><span class="icon iconfont icon-centos"></span>九、实操篇-磁盘查看和分区类<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/10%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E7%B1%BB%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="十、实操篇-进程管理类"><span class="icon iconfont icon-centos"></span>十、实操篇-进程管理类<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/11%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%20%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%20%E5%85%8B%E9%9A%86%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%91.html" class="nav-link sidebar-link sidebar-page" aria-label="十一、实操篇-定时任务 软件安装 克隆虚拟机"><span class="icon iconfont icon-centos"></span>十一、实操篇-定时任务 软件安装 克隆虚拟机<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/linux/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BShell%E7%BC%96%E7%A8%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="快速上手Shell编程"><span class="icon iconfont icon-shell"></span>快速上手Shell编程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-rank"></span><span class="title">JUC高并发编程</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-mount"></span><span class="title">深入了解Java虚拟机</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-view"></span><span class="title">GOF23种设计模式</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-tag"></span><span class="title">技术要点业务篇</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-centos"></span>三、基础篇-系统管理</h1><div class="page-info"><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category6 clickable" role="navigation">linux</span></li></ul><meta property="articleSection" content="linux"></span><span aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag6 clickable" role="navigation">linux</span></li><li><span class="tag tag0 clickable" role="navigation">centos</span></li></ul><meta property="keywords" content="linux,centos"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 11 分钟</span><meta property="timeRequired" content="PT11M"></span><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/Ragnarokoo/" target="_blank" rel="noopener noreferrer">Ragnarok</a></span><span property="author" content="Ragnarok"></span></span><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-05-31T09:16:41.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_1-linux-中的进程和服务" class="router-link-active router-link-exact-active toc-link level2">1.Linux 中的进程和服务</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_2-systemctl-服务管理" class="router-link-active router-link-exact-active toc-link level2">2.systemctl 服务管理</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_2-1-systemctl参数说明" class="router-link-active router-link-exact-active toc-link level3">2.1 systemctl参数说明</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_2-2-systemctl使用示例" class="router-link-active router-link-exact-active toc-link level3">2.2 systemctl使用示例</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_3-系统运行级别" class="router-link-active router-link-exact-active toc-link level2">3.系统运行级别</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-关机重启命令" class="router-link-active router-link-exact-active toc-link level2">4.关机重启命令</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-1-关机重启命令汇总" class="router-link-active router-link-exact-active toc-link level3">4.1 关机重启命令汇总</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-2-shutdown命令" class="router-link-active router-link-exact-active toc-link level3">4.2 shutdown命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/linux/03%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E3%80%91.html#_4-3-sync命令" class="router-link-active router-link-exact-active toc-link level3">4.3 sync命令</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="_1-linux-中的进程和服务" tabindex="-1"><a class="header-anchor" href="#_1-linux-中的进程和服务" aria-hidden="true">#</a> 1.Linux 中的进程和服务</h2><p>计算机中，一个正在执行的程序或命令，被叫做“进程”（process）。</p><p>启动之后一只存在、常驻内存的进程，一般被称作“服务”（service）。</p><blockquote><p>详细操作后面说明</p></blockquote><h2 id="_2-systemctl-服务管理" tabindex="-1"><a class="header-anchor" href="#_2-systemctl-服务管理" aria-hidden="true">#</a> 2.systemctl 服务管理</h2><blockquote><p>service 服务管理（CentOS 6 版本-了解）</p><p>systemctl （CentOS 7 版本-重点掌握）</p></blockquote><p>CentOS 7使用Systemd管理守护进程。centos7采用 systemd管理，服务独立的运行在内存中，服务响应速度快，但占用更多内存。独立服务的服务启动脚本都在目录 /usr/lib/systemd/system里。Systend的新特性：</p><ul><li>系统引导时实现服务的并行启动；</li><li>按需激活进程；</li><li>系统实现快照；</li><li>基于依赖关系定义服务的控制逻辑；</li></ul><p>systemctl可用于内省和控制“systemd”系统和服务管理器的状态。centos7.x系统环境下我们经常使用此命令启停服务，实际上此命令除了其他独立服务还有很多其他用途。</p><h3 id="_2-1-systemctl参数说明" tabindex="-1"><a class="header-anchor" href="#_2-1-systemctl参数说明" aria-hidden="true">#</a> 2.1 systemctl参数说明</h3><blockquote><p>基本语法：<code>systemctl start | stop | restart | status | reload 服务名</code></p><p><code>systemctl</code> 指令管理的服务在 /<code>usr/lib/systemd/system</code></p><p>查看查看服务的方法：<code>pwd /usr/lib/systemd/system</code></p></blockquote><p><strong>1、使用语法</strong></p><p>用法：systemctl [OPTIONS…] {COMMAND} …</p><p><strong>2 、参数说明</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">参数说明</th></tr></thead><tbody><tr><td style="text-align:left;">start</td><td style="text-align:left;">立刻启动后面接的unit</td></tr><tr><td style="text-align:left;">stop</td><td style="text-align:left;">立刻关闭后面接的unit</td></tr><tr><td style="text-align:left;">restart</td><td style="text-align:left;">立刻关闭后启动后面接的unit，亦即执行stop再start的意思</td></tr><tr><td style="text-align:left;">reload</td><td style="text-align:left;">不关闭后面接的unit的情况下，重载配置文件，让设定生效</td></tr><tr><td style="text-align:left;">enable</td><td style="text-align:left;">设定下次开机时，后面接的unit会被启动</td></tr><tr><td style="text-align:left;">disable</td><td style="text-align:left;">设定下次开机时，后面接的unit 不会被启动</td></tr><tr><td style="text-align:left;">status</td><td style="text-align:left;">目前后面接的这个unit 的状态，会列出是否正在执行、是否开机启动等信息。</td></tr><tr><td style="text-align:left;">is-active</td><td style="text-align:left;">目前有没有正在运行中</td></tr><tr><td style="text-align:left;">is-enable</td><td style="text-align:left;">开机时有没有预设要启用这个unit</td></tr><tr><td style="text-align:left;">kill</td><td style="text-align:left;">不要被kill这个名字吓着了,它其实是向运行unit的进程发送信号</td></tr><tr><td style="text-align:left;">show</td><td style="text-align:left;">列出unit的配置。</td></tr><tr><td style="text-align:left;">mask</td><td style="text-align:left;">注销unit,注销后你就无法启动这个unit了</td></tr><tr><td style="text-align:left;">unmask</td><td style="text-align:left;">取消对unit的注销</td></tr><tr><td style="text-align:left;">list-units</td><td style="text-align:left;">依据unit列出目前有启动的unit。若加上–all才会列出没启动的。（等价于无参数）</td></tr><tr><td style="text-align:left;">list-unit-files</td><td style="text-align:left;">列出所有以安装unit以及他们的开机启动状态（enabled、disabled、static、mask）。</td></tr><tr><td style="text-align:left;">–type=TYPE</td><td style="text-align:left;">就是unit type，主要有service，socket，target等</td></tr><tr><td style="text-align:left;">get-default</td><td style="text-align:left;">取得目前的 target</td></tr><tr><td style="text-align:left;">set-default</td><td style="text-align:left;">设定后面接的 target 成为默认的操作模式</td></tr><tr><td style="text-align:left;">isolate</td><td style="text-align:left;">切换到后面接的模式</td></tr></tbody></table><p><strong>3、unit file结构</strong></p><p>文件通常由三部分组成：</p><ul><li><p>Unit: 定义与Unit类型无关的通用选项；用于提供unit的描述信息，unit行为及依赖关系等。</p></li><li><p>Service：与特定类型相关的专用选项；此处为Service类型。</p></li><li><p>Install：定义由&quot;systemctl enable&quot;及&quot;systemctl disable&quot;命令在实现服务启用或禁用时用到的一些选项。</p></li></ul><p><strong>4、Unit段的常用选项</strong></p><ul><li>Description：描述信息，意义性描述；</li><li>After：定义unit的启动次序；表示当前unit应晚于哪些unit启动；其功能与Before相反；</li><li>Requies：依赖到其它的units；强依赖，被依赖的units无法激活时，当前的unit即无法激活；</li><li>Wants：依赖到其它的units；弱依赖；</li><li>Confilcts：定义units 的冲突关系；</li></ul><p><strong>5、Service段的常用选项</strong></p><ul><li>Type：用于定义影响ExecStart及相关参数的功能的unit进程类型； 类型有：simple、forking、oneshot、dbus、notify、idle。</li><li>EnvironmentFile：环境配置文件；</li><li>ExecStart：指明启动unit要运行的命令或脚本；ExecStart, ExecStartPost</li><li>ExecStop：指明停止unit要运行的命令或脚本；</li><li>Restart:</li></ul><p><strong>6、Install段的常用配置：</strong></p><ul><li>Alias：</li><li>RequiredBy：被哪些unit所依赖；</li><li>WantBy：被哪些unit所依赖；</li></ul><p><strong>7、Unit文件样例</strong></p><blockquote><p>[root@s153 system]# cat chronyd.service</p><p>[Unit]</p><p>Description=NTP client/server</p><p>Documentation=man:chronyd(8) man:chrony.conf(5)</p><p>After=ntpdate.service sntp.service ntpd.service</p><p>Conflicts=ntpd.service systemd-timesyncd.service</p><p>ConditionCapability=CAP_SYS_TIME</p><p>[Service]</p><p>Type=forking</p><p>PIDFile=/var/run/chronyd.pid</p><p>EnvironmentFile=-/etc/sysconfig/chronyd</p><p>ExecStart=/usr/sbin/chronyd $OPTIONS</p><p>ExecStartPost=/usr/libexec/chrony-helper update-daemon</p><p>PrivateTmp=yes</p><p>ProtectHome=yes</p><p>ProtectSystem=full</p><p>[Install]</p><p>WantedBy=multi-user.target</p></blockquote><h3 id="_2-2-systemctl使用示例" tabindex="-1"><a class="header-anchor" href="#_2-2-systemctl使用示例" aria-hidden="true">#</a> 2.2 systemctl使用示例</h3><p>1.查看开机启动列表</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> systemctl list-unit-files <span class="token punctuation">[</span> <span class="token operator">|</span> <span class="token function">grep</span> 服务名<span class="token punctuation">]</span> <span class="token punctuation">(</span>查看服务开机启动状态, <span class="token function">grep</span> 可以进行过滤<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl list-unit-files</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl list-unit-files | grep firewalld</span>
firewalld.service                             disabled

<span class="token comment">#查看已启动的服务列表</span>
systemctl list-unit-files<span class="token operator">|</span><span class="token function">grep</span> enabled
<span class="token comment">#</span>
显示所有已启动的服务
systemctl list-units <span class="token parameter variable">--type</span><span class="token operator">=</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/8f3ccb6e4eb3773f018eafbcc5958c7f307c256d.bdcb3914.png" alt="image-20220816153223542"></p><blockquote><p>可以<strong>写一半</strong>再查看完整的服务名，一般也可以简写：<code>firewalld.service = firewall</code></p></blockquote><p><img src="/assets/d6f8f45c8d6d676c9037ae76599649939b44d19c.e58a0775.png" alt="image-20220816153519618"></p><p>说明防火墙是一个自启的状态，Linux系统启动的时候防火墙也会自启。</p><p>2.设置开机启动</p><blockquote><p>systemctl在enable、disable、mask子命令里面增加了–now选项，可以激活同时启动服务，激活同时停止服务等。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 设置开机启动并现在启动</span>
<span class="token comment">## 相当于同时执行了systemctl start 服务名</span>
systemctl <span class="token builtin class-name">enable</span> <span class="token parameter variable">--now</span> firewalld

<span class="token comment"># 查看服务启动状态</span>
root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl status firewalld</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>取消开机启动</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 取消开机启动并现在就停止服务</span>
systemctl disable <span class="token parameter variable">--now</span> firewalld
<span class="token comment">## 查看服务状态是否停止</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl status firewalld</span>
<span class="token comment"># 查看启动列表</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl list-unit-files |grep firewalld</span>
firewalld.service                             disabled
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 <code>systemctl disable firewalld</code>时，下次重启系统时防火墙还是处于关闭的状态</p><p><img src="/assets/d0a44045e2e5d9b285645fcc1b1acfdd484cac29.6b8e787b.png" alt="image-20220816153845865"></p><p>重新打开自启动防火墙：</p><p><img src="/assets/d7c296ec3443d9ab5ddc54905e7daf6ea7dec6da.1bd8102a.png" alt="image-20220816153905563"></p><ol><li><code>systemctl enable 服务名</code> (设置服务开机启动)，对 <code>3</code> （无界面）和 <code>5</code> （GUI）运行级别都生效</li><li><code>systemctl disable 服务名</code> (关闭服务开机启动)，对 <code>3</code> （无界面）和 <code>5</code> （GUI）运行级别都生效</li></ol><p>4.开启服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl start firewall
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>开启防火墙：</p><p><img src="/assets/f87769820ac96afcfb6482b5cfe93585251e0821.facaf37e.png" alt="image-20220816153707677"></p><p>5.关闭服务(但是下次开机还是会启动)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl stop firewall
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>关闭防火墙：</p><p><img src="/assets/ebacad6bc276ef0657f682f6fc16c3d429630be4.0393d8ee.png" alt="image-20220816153641546"></p><p>6.重启服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart 服务名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>7.重新加载配置</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl reload 服务名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>8.输出服务运行的状态</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl status 服务名
systemctl status firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查看防火墙的状态，现在是运行中：</p><p><img src="/assets/2ab17ff6081e34c5e95ab4371c18afbbb3dbf6fd.a457af41.png" alt="image-20220816153614211"></p><p>9.检查service是否在启动状态</p><blockquote><p>写脚本是判断服务器是否启动很管用</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># systemctl is-active 服务名</span>
systemctl is-active NetworkManager
<span class="token comment"># active</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>10.检测unit单元是否为自动启动</p><blockquote><p>写脚本时判断服务器是否开机自启很管用</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># systemctl is-enabled 服务名</span>
systemctl is-enabled firewalld
<span class="token comment"># enabled</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/71cc922dae47090936df0308581c83ee41d1e350.5b66314c.png" alt="image-20220816153416785"></p><p>11.注销一个服务(service)</p><blockquote><p>systemctl mask 是注销服务的意思。</p><p>注销服务意味着：</p><p>该服务在系统重启的时候不会启动</p><p>该服务无法进行做systemctl start/stop操作</p><p>该服务无法进行systemctl enable/disable操作</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl mask firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>12.取消注销服务(service)</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl unmask firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>13.显示单元的手册页（前提是由unit提供）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">help</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>14.当新增或修改service单元文件时，需要系统重新加载所有修改过的配置文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>15.查看systemd资源使用率</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemd-cgtop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>16.杀死服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@s153 system<span class="token punctuation">]</span><span class="token comment"># systemctl kill xinetd</span>
<span class="token punctuation">[</span>root@s153 system<span class="token punctuation">]</span><span class="token comment"># systemctl is-failed xinetd</span>
inactive
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-系统运行级别" tabindex="-1"><a class="header-anchor" href="#_3-系统运行级别" aria-hidden="true">#</a> 3.系统运行级别</h2><p>1）Linux 运行级别 CentOS 6</p><p><img src="/assets/9e03760af35f6c5a47222c2cba602d0b10b0f797.4fcf51a0.png" alt="image-20220816154334839"></p><p>Centos7的启动流程图</p><p><img src="/assets/42bd95859fd306d1d3182e5701374d77f733c980.281ca93c.png" alt=""></p><blockquote><p>CentOS7中我们的初始化进程变为了systemd。执行默认target配置文件/etc/systemd/system/default.target（这是一个软链接，与默认运行级别有关）。然后执行sysinit.target来初始化系统和basic.target来准备操作系统。接着启动multi-user.target下的本机与服务器服务，并检查/etc/rc.d/rc.local文件是否有用户自定义脚本需要启动。最后执行multi-user下的getty.target及登录服务，检查default.target是否有其他的服务需要启动。</p><p>注意：/etc/systemd/system/default.target指向了/lib/systemd/system/目录下的graphical.target或multiuser.target。而graphical.target依赖multiuser.target，multiuser.target依赖basic.target，basic.target依赖sysinit.target，所以倒过来执行。</p></blockquote><p>2）CentOS7 的运行级别简化为:</p><ul><li><p>multi-user.target 等价于原运行级别 3（多用户有网，无图形界面）</p></li><li><p>graphical.target 等价于原运行级别 5（多用户有网，有图形界面）</p></li></ul><p>3） 查看当前运行级别:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># systemctl get-default</span>
multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>4）修改当前运行级别</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># systemctl set-default graphical.target</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>centos7中取消了通过修改配置文件设置系统默认运行级别</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token punctuation">[</span>root@localhost etc<span class="token punctuation">]</span><span class="token comment"># cat /etc/inittab </span>
<span class="token comment"># inittab is no longer used when using systemd.</span>
<span class="token comment">#</span>
<span class="token comment"># ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span>
<span class="token comment">#</span>
<span class="token comment"># Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target</span>
<span class="token comment">#</span>
<span class="token comment"># systemd uses &#39;targets&#39; instead of runlevels. By default, there are two main targets:</span>
<span class="token comment">#</span>
<span class="token comment"># multi-user.target: analogous to runlevel 3    #类似运行级别3</span>
<span class="token comment"># graphical.target: analogous to runlevel 5     #类似运行级别5</span>
<span class="token comment">#</span>
<span class="token comment"># To view current default target, run:</span>
<span class="token comment"># systemctl get-default                    #查看系统运行级别</span>
<span class="token comment">#</span>
<span class="token comment"># To set a default target, run:</span>
<span class="token comment"># systemctl set-default TARGET.target      #修改系统默认运行级别</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_4-关机重启命令" tabindex="-1"><a class="header-anchor" href="#_4-关机重启命令" aria-hidden="true">#</a> 4.关机重启命令</h2><h3 id="_4-1-关机重启命令汇总" tabindex="-1"><a class="header-anchor" href="#_4-1-关机重启命令汇总" aria-hidden="true">#</a> 4.1 关机重启命令汇总</h3><table><thead><tr><th>halt</th><th><strong>关机</strong></th><th><strong>root用户</strong></th><th><strong>halt：只关闭系统，电源还在运行</strong><br><strong>halt -p：关闭系统，关闭电源（先执行halt，再执行poweroff）</strong></th></tr></thead><tbody><tr><td>poweroff</td><td>关机</td><td>root用户</td><td>poweroff会发送一个关闭电源的信号给acpi</td></tr><tr><td>reboot</td><td>重启</td><td>root用户</td><td></td></tr><tr><td>shutdown</td><td>-h：关机<br>-r：重启<br>-c：取消shutdown操作</td><td>root用户</td><td>shutdown实际上是调用init 0, init 0会cleanup一些工作然后调用halt或者poweroff<br>shutdown -r now：一分钟后重启<br>shutdown -r 05:30：最近的5:30重启<br>shutdown -r +10：十分钟后重启</td></tr><tr><td>init</td><td>init 0：关机<br>init 6：重启</td><td>root用户</td><td>init：切换系统的运行级别</td></tr><tr><td>systemctl</td><td>systemctl halt [-i]：关机 systemctl poweroff [-i]：关机 systemctl reboot [-i]：重启</td><td>普通用户 超级用户</td><td>普通用户需要加-i root用户不需要加-i</td></tr></tbody></table><blockquote><p>（1）sync （功能描述：将数据由内存同步到硬盘中）</p><p>（2）halt （功能描述：停机，关闭系统，但不断电）</p><p>（3）poweroff （功能描述：关机，断电）</p><p>（4）reboot （功能描述：就是重启，等同于 shutdown -r now）</p></blockquote><p>在关机或者重启之前，执行3至4次sync，将在内存中还未保存到硬盘的数据更新到硬盘中，否则会造成数据的丢失。执行sync时要以管理员的身份运行，因为管理员具有所有文件的权限，而普通用户只具有自己的部分文件的权限。</p><p>最经常使用的关机重启的命令是shutdown，因此下面详细学习的使用。</p><h3 id="_4-2-shutdown命令" tabindex="-1"><a class="header-anchor" href="#_4-2-shutdown命令" aria-hidden="true">#</a> 4.2 shutdown命令</h3><p>基本格式：shutdown [选项] [时间] [警告信息]</p><p><em>选项：</em></p><ol><li>-h：关机</li><li>-r：重启</li><li>-c：取消shutdown执行的关机或者重启命令</li><li>-k：不关机，发出警告</li></ol><p><em>时间：</em></p><ol><li>shutdown：一分钟后关机（默认）</li><li>shutdown now：立刻关机</li><li>shutdown 10：10分钟后关机</li><li>shutdown 05:00：5点关机</li></ol><p>示例：</p><p>shutdown -r now：系统立马重启（等同于 reboot</p><p>shutdown -r 05:30：最近的5:30重启</p><p>shutdown -r 10：十分钟后重启</p><p>shutdown -h now：立马关机（等同于 poweroff</p><p>shutdown -h 05:30：最近的5:30关机</p><p>shutdown -h +10：十分钟后关机</p><p>shutdown -c：取消上面的关机重启操作</p><p>shutdown -k +10 “I will shutdown in 10 minutes”：10分钟后并不会真的关机，但是会把警告信息发给所有的用户。</p><h3 id="_4-3-sync命令" tabindex="-1"><a class="header-anchor" href="#_4-3-sync命令" aria-hidden="true">#</a> 4.3 sync命令</h3><p>sync ：linux同步数据命令，<strong>将数据由内存同步到硬盘中</strong>，包含已修改的 i-node、已延迟的块 I/O 和读写映射文件。如果不去手动的输入sync命令来真正的去写磁盘，linux系统也会周期性的去sync数据。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@hadoop100 桌面<span class="token punctuation">]</span><span class="token comment">#sync </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用场景：</p><p>1.在 关机或者开机之前最好多执行这个几次，以确保数据写入硬盘。</p><p>2.挂载时，需要很长时间的操作动作（比如，cp 大文件，检测文件），在这个动作之后接sync。</p><p>3.卸载U盘或其他存储设备，需要很长时间，使用sync。</p><p><strong>经验技巧</strong></p><p>​ Linux 系统中为了提高磁盘的读写效率，对磁盘采取了 “预读迟写”操作方式。当用户 保存文件时，Linux 核心并不一定立即将保存数据写入物理磁盘中，而是将数据保存在缓 冲区中，等缓冲区满时再写入磁盘，这种方式可以极大的提高磁盘写入数据的效率。但是， 也带来了安全隐患，如果数据还未写入磁盘时，系统掉电或者其他严重问题出现，则将导 致数据丢失。使用 sync 指令可以立即将缓冲区的数据写入磁盘。</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Ragnarokoo/LearningNotes/edit/master/src/notes/linux/03 【基础篇-系统管理】.md" rel="noopener noreferrer" target="_blank" aria-label="在【Github】上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在【Github】上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><!----></footer><nav class="page-nav"><a href="/notes/linux/02%20%E3%80%90%E5%9F%BA%E7%A1%80%E7%AF%87-vim%E7%BC%96%E8%BE%91%E5%99%A8%20%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%20%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E3%80%91.html" class="nav-link prev" aria-label="二、基础篇-vim编辑器 网络配置 远程登录"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><span class="icon iconfont icon-centos"></span>二、基础篇-vim编辑器 网络配置 远程登录</div></a><a href="/notes/linux/04%20%E3%80%90%E5%AE%9E%E6%93%8D%E7%AF%87-%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%20%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E3%80%91.html" class="nav-link next" aria-label="四、实操篇-帮助命令 文件目录管理基础知识"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">四、实操篇-帮助命令 文件目录管理基础知识<span class="icon iconfont icon-centos"></span></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.9b10ba0a.js" defer></script>
  </body>
</html>
