import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as c,c as o,d as e,e as s,b as r,a as t,r as i}from"./app.9b10ba0a.js";const l="/assets/1590112842447_30f24407-c9c4-45b5-a263-f3bf81173f4f.d1277c8f.png",d="/assets/1590116355141_de4ee487-7b3a-4a4a-9d91-16be20cbb459.d49cba0e.png",p="/assets/1590114789789_b83629d7-d00c-4add-9d05-e8bfe3e604aa.69f89dcd.png",h="/assets/1590117038767_589141a6-b0bd-40cc-acb0-3cf9eadf2931.f9d46cba.png",g="/assets/1590114848900_97b7e88b-0dda-4f9b-8b8f-80445c99122e.f0824fc5.png",b="/assets/1590116267418_b10e6079-bba3-439c-b65b-7b2e5b453ea6.6d7cd250.png",_="/assets/1590117299525_caf82aa9-ec77-419b-93f3-4c414c6a0157.0f405623.png",u="/assets/1590117387289_b0c618de-df2e-4fe1-94e7-ed5636339600.f902a098.png",m="/assets/1590118180864_007e8ca9-c223-424b-a92d-ab4442003fc3.3f3f808f.png",f="/assets/1590118360140_6bfcfa93-ad46-4464-b86b-270a7365693c.1af8ad1b.png",v="/assets/1590118604397_7262662f-d09f-4d05-bc52-e83f1d6e510e.692728e6.png",w="/assets/1590118900997_8839c7c6-b7e2-457c-a168-53de10af4d65.1ac235e9.png",k="/assets/1590119082151_ad4879e6-f122-49dd-bd23-5c12b110b55b.80c94119.png",x={},E=t(`<h2 id="_1、homebrew" tabindex="-1"><a class="header-anchor" href="#_1、homebrew" aria-hidden="true">#</a> <strong>1、Homebrew</strong></h2><p>如果你已经安装过Homebrew了，那么你可以跳过这一步，直接进行Elasticsearch安装步骤；</p><p>Homebrew是一款MacOS平台下的软件包管理工具，拥有安装、卸载、更新、查看、搜索等很多实用的功能，强烈推荐安装。</p><p>请复制如下指令到命令行粘贴执行：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>ruby <span class="token operator">-</span>e &quot;$<span class="token punctuation">(</span>curl <span class="token operator">-</span>fsSL https:<span class="token comment">//raw.githubusercontent.com/Homebrew/install/master/install)”</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2、elasticsearch安装" tabindex="-1"><a class="header-anchor" href="#_2、elasticsearch安装" aria-hidden="true">#</a> <strong>2、Elasticsearch安装</strong></h2><p>执行命令：<code>brew install elasticsearch</code></p><p><img src="`+l+'" alt="img"></p>',8),q={href:"https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=1&tn=02003390_43_hao_pg&wd=brew%E6%8D%A2%E6%BA%90&oq=%E9%98%BF%E9%87%8C%E4%BA%91maven%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE&rsv_pq=eeef5052002b34fd&rsv_t=200bQA8JFEysxgnhigvfHN0qLaD%2B6YQNgSS%2F5ngmXxuiCIr9wZgp8zJvkI79lISrOFvRQ2QaFRPy&rqlang=cn&rsv_enter=1&rsv_dl=ts_0&rsv_btype=t&inputT=6026&rsv_sug3=31&rsv_sug1=10&rsv_sug7=100&rsv_sug2=0&prefixsug=brewhuan&rsp=0&rsv_sug4=6026",target:"_blank",rel:"noopener noreferrer"},B=e("strong",null,"浏览器输入",-1),S={href:"http://127.0.0.1:9200/",target:"_blank",rel:"noopener noreferrer"},C=e("strong",null,"查看",-1),H=t('<p><img src="'+d+`" alt="img"></p><h3 id="安装后的路径「可通过-brew-info-elasticsearch-查看-」" tabindex="-1"><a class="header-anchor" href="#安装后的路径「可通过-brew-info-elasticsearch-查看-」" aria-hidden="true">#</a> 安装后的路径「可通过 brew info elasticsearch 查看 」</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>elasticsearch:  /usr/local/Cellar/elasticsearch/5.5.0
Data:    /usr/local/var/elasticsearch/elasticsearch_xuchen/
Logs:    /usr/local/var/log/elasticsearch/elasticsearch_xuchen.log
Plugins: /usr/local/opt/elasticsearch/libexec/plugins/
Config:  /usr/local/etc/elasticsearch/
plugin script: /usr/local/opt/elasticsearch/libexec/bin/elasticsearch-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装报错的日记记录" tabindex="-1"><a class="header-anchor" href="#安装报错的日记记录" aria-hidden="true">#</a> 安装报错的日记记录</h3><p>一开始通过brew安装：brew install elasticsearch</p><p>提示报错：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>elasticsearch has been disabled because it is switching to an incompatible license. Check out <span class="token variable"><span class="token variable">\`</span>opensearch<span class="token variable">\`</span></span> instead<span class="token operator">!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>跑到官网查看内容：</p>`,8),I={href:"https://www.elastic.co/guide/en/elasticsearch/reference/7.17/brew.html",target:"_blank",rel:"noopener noreferrer"},y=t(`<p>首先需要点击 Elastic Homebrew 存储库</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew tap elastic/tap

brew <span class="token function">install</span> elastic/tap/elasticsearch-full
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这种下载方式（注意）：这里启动elasticsearch只能通过以下方式启动：</p><ul><li>elasticsearch</li><li>elasticsearch-full</li></ul></blockquote><h2 id="_3、elasticsearch相关指令" tabindex="-1"><a class="header-anchor" href="#_3、elasticsearch相关指令" aria-hidden="true">#</a> <strong>3、Elasticsearch相关指令</strong></h2><h3 id="_3-1-运行" tabindex="-1"><a class="header-anchor" href="#_3-1-运行" aria-hidden="true">#</a> 3.1 运行</h3><p>使用命令：<code>brew services start elasticsearch</code></p><p>or 直接在控制台使用：<code>elasticsearch</code></p><p><img src="`+p+'" alt="img"></p><h3 id="_3-2-关闭" tabindex="-1"><a class="header-anchor" href="#_3-2-关闭" aria-hidden="true">#</a> 3.2 关闭</h3><p>使用命令：<code>brew services stop elasticsearch</code></p><p><img src="'+h+'" alt="img"></p><blockquote><p>凡是用<code>start</code>开启，就可以替换为<code>stop</code>尝试关闭，依次类推：<code>restart</code>重启</p></blockquote><h3 id="_3-3-查看安装信息" tabindex="-1"><a class="header-anchor" href="#_3-3-查看安装信息" aria-hidden="true">#</a> 3.3 查看安装信息</h3><p>使用命令：<code>brew info elasticsearch</code></p><p><img src="'+g+'" alt="img"></p><h2 id="_4、安装kibana" tabindex="-1"><a class="header-anchor" href="#_4、安装kibana" aria-hidden="true">#</a> <strong>4、安装Kibana</strong></h2><p><strong>Kibana</strong> 是一个基于 <strong>Node.js</strong> 的 <strong>Elasticsearch</strong> 索引库数据统计工具，可以利用 <strong>Elasticsearch</strong> 的聚合功能，生成各种图表，如柱形图，线状图，饼图等。</p><p><strong>Kibana</strong> 还提供了操作 <strong>Elasticsearch</strong> 索引数据的控制台，并且提供了一定的<strong>API</strong>提示，非常有利于我们学习 <strong>Elasticsearch</strong> 的语法。</p><p>安装指令：<code>brew install kibana</code></p><p><img src="'+b+'" alt="img"></p><p>启动指令：<code>brew services start kibana</code></p><p><img src="'+_+'" alt="img"></p><p><strong>浏览器输入</strong>：<code>127.0.0.1:5601</code> 访问 kibana</p><p><img src="'+u+'" alt="img"></p><h2 id="_5、安装elasticsearch-head插件" tabindex="-1"><a class="header-anchor" href="#_5、安装elasticsearch-head插件" aria-hidden="true">#</a> <strong>5、安装elasticsearch-head插件</strong></h2><p><strong>elasticsearch-head</strong> 是用于监控 <strong>Elasticsearch</strong> 状态的客户端插件，包括数据可视化、执行增删改查操作等。<strong>elasticsearch-head</strong> 插件的安装在 <strong>Linux</strong> 和 <strong>Windows</strong> 没什么区别，安装之前确保当前系统已经安装 <strong>nodejs</strong> 即可。</p>',26),A=e("strong",null,"github地址",-1),N={href:"https://github.com/mobz/elasticsearch-head",target:"_blank",rel:"noopener noreferrer"},F=e("p",null,[e("img",{src:m,alt:"img"})],-1),L=e("strong",null,"浏览器访问",-1),D={href:"http://127.0.0.1:9100",target:"_blank",rel:"noopener noreferrer"},O=t('<p><img src="'+f+'" alt="img"></p><p>此时你会发现怎么都连不上 <strong>es 9200</strong>，因为我们需要修改<strong>es</strong>的配置文件允许<strong>head</strong>插件访问才可以。</p><p><strong>进入目录</strong>：<code>cd /usr/local/etc/elasticsearch/</code></p><p><strong>修改yml文件</strong>：<code>open -e elasticsearch.yml</code></p><p><img src="'+v+`" alt="img"></p><p>**参数如下：**加入跨域访问</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>http.cors.enabled: <span class="token boolean">true</span>                <span class="token comment"># elasticsearch中启用CORS</span>
http.cors.allow-origin: <span class="token string">&quot;*&quot;</span>         <span class="token comment"># 允许访问的IP地址段，* 为所有IP都</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>重启elasticsearch：</strong><code>brew services restart elasticsearch</code></p><p><img src="`+w+'" alt="img"></p><h2 id="_6、查看集群健康状态" tabindex="-1"><a class="header-anchor" href="#_6、查看集群健康状态" aria-hidden="true">#</a> <strong>6、查看集群健康状态</strong></h2><p><strong>浏览器输入网址：</strong><code>http://127.0.0.1:9200/_cat/health?v</code></p><p><img src="'+k+'" alt="img"></p><blockquote><p>注意看<code>status</code>字段,他有三个值含义分别如下</p></blockquote><ul><li>green:一切都很好（集群功能齐全）</li><li>yellow:所有数据都可用，但尚未分配一些副本（群集功能齐全）</li><li>Red:某些数据由于某种原因不可用（群集部分功能）</li></ul>',14);function P(Q,R){const a=i("ExternalLinkIcon");return c(),o("div",null,[E,e("p",null,[s("接下来就是漫长的等待时间了「"),e("a",q,[s("brew换源"),r(a)]),s("」")]),e("p",null,[B,s("："),e("a",S,[s("127.0.0.1:9200"),r(a)]),s(),C]),H,e("blockquote",null,[e("p",null,[s("附官网地址："),e("a",I,[s("https://www.elastic.co/guide/en/elasticsearch/reference/7.17/brew.html"),r(a)])])]),y,e("p",null,[A,s("："),e("a",N,[s("https://github.com/mobz/elasticsearch-head"),r(a)])]),F,e("p",null,[L,s("："),e("a",D,[s("http://127.0.0.1:9100"),r(a)])]),O])}const K=n(x,[["render",P],["__file","MacOS中Elasticsearch的安装「借助Homebrew」.html.vue"]]);export{K as default};
