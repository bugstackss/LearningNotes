import{_ as t}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as r,c as l,d as a,e,b as n,a as i,r as c}from"./app.9b10ba0a.js";const o="/assets/image.402esff13ek0.1153f2c4.webp",d="/assets/image.4lr4qyk601a0.457c68ad.webp",p="/assets/image.44zjpnbpbyo0.750ce9f8.webp",m="/assets/image.63s3aftotzs0.c31ae27b.webp",b="/assets/image.6smxk7gp2ig0.5f5f63fb.webp",u="/assets/image.1urtg7o1ntfk.fa93f1da.webp",v="/assets/image.mrtslwlzvg0.01360708.webp",h="/assets/image.1or3k1972l6o.e3e0069c.webp",g="/assets/image.3vmzww3gk2k0.32075641.webp",k="/assets/image.1irradyf2v28.e7389ec3.webp",_="/assets/image.4o5hgcxxknm0.ccad1bd1.webp",f={},q=i('<h2 id="_01、环境" tabindex="-1"><a class="header-anchor" href="#_01、环境" aria-hidden="true">#</a> 01、环境</h2><p>Linux 的 <code>CentOS 7.x</code> 版本。</p><p><code>Xftp</code> 传输安装包到 Linux。</p><p><code>Xshell</code> 连接 Linux，进行解压安装。</p><p>如果是MAC，推荐使用<code>Tabby</code>，进行操作！</p><h2 id="_02、下载" tabindex="-1"><a class="header-anchor" href="#_02、下载" aria-hidden="true">#</a> 02、下载</h2><p>首先我们需要2个 <code>rpm</code> 安装包，分别是 RabbitMQ 安装包和 Erlang 环境安装包，后者提供环境给前者运行。</p>',7),x={href:"https://www.rabbitmq.com/download.html",target:"_blank",rel:"noopener noreferrer"},w=a("h3",{id:"下载rabbitmq",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#下载rabbitmq","aria-hidden":"true"},"#"),e(" 下载RabbitMQ")],-1),E={href:"https://github.com/rabbitmq/rabbitmq-server/releases",target:"_blank",rel:"noopener noreferrer"},y=a("p",null,[e("选择以 "),a("code",null,"noarch.rpm"),e(" 结尾的安装包")],-1),R=a("p",null,[a("img",{src:o,alt:"image"})],-1),M=a("h3",{id:"下载erlang",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#下载erlang","aria-hidden":"true"},"#"),e(" 下载Erlang")],-1),S=a("p",null,"RabbitMQ 是采用 Erlang 语言开发的，所以系统环境必须提供 Erlang 环境，需要先安装 Erlang。",-1),Q=a("code",null,"Erlang",-1),L=a("code",null,"RabbitMQ",-1),A={href:"https://www.rabbitmq.com/which-erlang.html",target:"_blank",rel:"noopener noreferrer"},N=a("p",null,[a("img",{src:d,alt:"image"})],-1),O=a("p",null,"这里安装的是 3.8.8 版本的 RabbitMQ，需要的 Erlang 版本依然是21.3。",-1),T={href:"https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-21.3.8.16-1.el7.x86_64.rpm",target:"_blank",rel:"noopener noreferrer"},B=i('<p><img src="'+p+'" alt="image"></p><blockquote><p>版本选择</p><p>CentOs 7.x 版本需要e17。</p><p>CentOs 8.x 版本需要e18。包括 Red Hat 8,modern Fedora 版本。</p></blockquote><p>最终下载的两个安装包，如图：</p><p><img src="'+m+`" alt="image"></p><h2 id="_03、安装" tabindex="-1"><a class="header-anchor" href="#_03、安装" aria-hidden="true">#</a> 03、安装</h2><h3 id="传输" tabindex="-1"><a class="header-anchor" href="#传输" aria-hidden="true">#</a> 传输</h3><p>将在 Windows 或 Mac 下载好的安装包传输到 Linux 中。</p><p>首先在 Linux 的 <code>/usr/local</code> 目录下创建一个文件夹 <code>rabbitmq</code>。请根据需求自定义路径</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> /usr/local/rabbitmq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>利用 <code>xftp</code> 工具将两个 <code>.rpm</code> 文件传输到刚刚创建的文件夹里</p><p><img src="`+b+`" alt="image"></p><h3 id="安装erlang" tabindex="-1"><a class="header-anchor" href="#安装erlang" aria-hidden="true">#</a> 安装Erlang</h3><p>进入 <code>/usr/local/rabbitmq</code> 目录，解压安装 Erlang</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/rabbitmq
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> erlang-21.3-1.el7.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master rabbitmq<span class="token punctuation">]</span><span class="token comment"># rpm -ivh erlang-21.3-1.el7.x86_64.rpm</span>
警告：erlang-21.3-1.el7.x86_64.rpm: 头V4 RSA/SHA1 Signature, 密钥 ID 6026dfca: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:erlang-21.3-1.el7                <span class="token comment">################################# [100%]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完成后输入指令查看到版本号，代表成功</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>erl <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master rabbitmq<span class="token punctuation">]</span><span class="token comment"># erl -v</span>
Erlang/OTP <span class="token number">21</span> <span class="token punctuation">[</span>erts-10.3<span class="token punctuation">]</span> <span class="token punctuation">[</span>source<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">64</span>-bit<span class="token punctuation">]</span> <span class="token punctuation">[</span>smp:1:1<span class="token punctuation">]</span> <span class="token punctuation">[</span>ds:1:1:10<span class="token punctuation">]</span> <span class="token punctuation">[</span>async-threads:1<span class="token punctuation">]</span> <span class="token punctuation">[</span>hipe<span class="token punctuation">]</span>

Eshell V10.3  <span class="token punctuation">(</span>abort with ^G<span class="token punctuation">)</span>
<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>问题记录</strong></p><p>如果安装 Erlang 过程出现了如下问题：</p><p><img src="`+u+'" alt="image"></p><p>出现这个错误的主要原因是没有<code>libcrypto.so.10(OPENSSL_1.0.2)(64bit)</code>依赖，我们去下载一个就可以了</p>',22),V={href:"https://rpmfind.net/linux/rpm2html/search.php?query=libcrypto.so.10(OPENSSL_1.0.2)(64bit)&submit=Search",target:"_blank",rel:"noopener noreferrer"},I=i('<p>滑到最下面，下载最后一个</p><p><img src="'+v+`" alt="image"></p><p>下载到本地后通过 <code>Xftp</code> 上传到 Linux 中，传输目录一致。接着使用命令安装</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> openssl-libs-1.0.2k-19.el7.x86_64.rpm <span class="token parameter variable">--force</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装好这个后，再次安装 Erlang 即可成功</p><p><img src="`+h+`" alt="image"></p><h3 id="安装rabbitmq" tabindex="-1"><a class="header-anchor" href="#安装rabbitmq" aria-hidden="true">#</a> 安装RabbitMQ</h3><p>在 <code>RabiitMQ</code> 安装过程中需要依赖 <code>socat</code> 插件，首先安装该插件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> socat <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>解压 <code>RabbitMQ</code> 安装包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> rabbitmq-server-3.8.8-1.el7.noarch.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@master rabbitmq<span class="token punctuation">]</span><span class="token comment"># rpm -ivh rabbitmq-server-3.8.8-1.el7.noarch.rpm</span>
警告：rabbitmq-server-3.8.8-1.el7.noarch.rpm: 头V4 RSA/SHA256 Signature, 密钥 ID 6026dfca: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:rabbitmq-server-3.8.8-1.el7      <span class="token comment">################################# [100%]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>i</code> 代表 install</p><p><code>vh</code> 代表显示安装进度过程</p><h3 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 启动服务</span>
systemctl start rabbitmq-server
<span class="token comment"># 查看服务状态</span>
systemctl status rabbitmq-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动 <code>RabbitMQ</code> 服务后，查看该服务状态，显示绿色的 <code>active</code> 则表示服务安装并启动成功</p><p><img src="`+g+`" alt="image"></p><p>其他指令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 开机自启动</span>
systemctl <span class="token builtin class-name">enable</span> rabbitmq-server
<span class="token comment"># 停止服务</span>
systemctl stop rabbitmq-server
<span class="token comment"># 重启服务</span>
systemctl restart rabbitmq-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_04、管理界面及授权操作" tabindex="-1"><a class="header-anchor" href="#_04、管理界面及授权操作" aria-hidden="true">#</a> 04、管理界面及授权操作</h2><blockquote><p>默认端口</p><p>RabbitMQ 的默认访问端口是 15672</p><p>如果 Linux 有防火墙，记得开放 15672 端口，否则 Windows 无法访问</p></blockquote><p>默认情况下，RabbiMQ 没有安装 Web 端的客户端软件，需要安装才可以生效，这里安装时需要关闭<code>rabbitmq</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装完毕以后，重启服务</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart rabbitmq-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>通过 <code>http://ip:15672</code> 访问，ip 为 Linux 的 ip。<code>rabbitmq</code> 有一个默认的账号密码 <code>guest</code>，但是登录该账号密码会出现权限问题</p><p><img src="`+k+`" alt="image"></p><p>默认的账号密码仅限于本机 localhost 进行访问，所以需要添加一个远程登录的用户</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 创建账号和密码</span>
rabbitmqctl add_user 用户名 密码

<span class="token comment"># 设置用户角色</span>
rabbitmqctl set_user_tags 用户名 角色

<span class="token comment"># 为用户添加资源权限，添加配置、写、读权限</span>
<span class="token comment"># set_permissions [-p &lt;vhostpath&gt;] &lt;user&gt; &lt;conf&gt; &lt;write&gt; &lt;read&gt;</span>
rabbitmqctl set_permissions <span class="token parameter variable">-p</span> <span class="token string">&quot;/&quot;</span> 用户名 <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span> <span class="token string">&quot;.*&quot;</span>
// Make sure to <span class="token function">add</span> code blocks to your code group
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>角色固定有四种级别：</p><ul><li><code>administrator</code>：可以登录控制台、查看所有信息、并对rabbitmq进行管理</li><li><code>monToring</code>：监控者；登录控制台，查看所有信息</li><li><code>policymaker</code>：策略制定者；登录控制台指定策略</li><li><code>managment</code>：普通管理员；登录控制</li></ul><p>添加用户和权限后，再次访问 <code>http://ip:15672</code> 登录，输入添加好的用户名和密码，即可进入后台</p><p><img src="`+_+`" alt="image"></p><p>其他指令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 修改密码</span>
rabbitmqctl change_ password 用户名 新密码

<span class="token comment"># 删除用户</span>
rabbitmqctl delete_user 用户名

<span class="token comment"># 查看用户清单</span>
rabbitmqctl list_users
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_05、docker安装rabbitmq" tabindex="-1"><a class="header-anchor" href="#_05、docker安装rabbitmq" aria-hidden="true">#</a> 05、Docker安装RabbitMQ</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 安装启动 rabbitmq 容器</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> myRabbitMQ <span class="token parameter variable">-e</span> <span class="token assign-left variable">RABBITMQ_DEFAULT_USER</span><span class="token operator">=</span>用户名 <span class="token parameter variable">-e</span> <span class="token assign-left variable">RABBITMQ_DEFAULT_PASS</span><span class="token operator">=</span>密码 <span class="token parameter variable">-p</span> <span class="token number">15672</span>:15672 <span class="token parameter variable">-p</span> <span class="token number">5672</span>:5672 rabbitmq:3.8.14-management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,38);function P(C,D){const s=c("ExternalLinkIcon");return r(),l("div",null,[q,a("blockquote",null,[a("p",null,[e("官网地址："),a("a",x,[e("https://www.rabbitmq.com/download.html"),n(s)])])]),w,a("p",null,[a("a",E,[e("RabbitMQ最新版下载地址(opens new window)"),n(s)])]),y,R,M,S,a("p",null,[Q,e(" 和 "),L,e(" 版本对照："),a("a",A,[e("点击跳转"),n(s)])]),N,O,a("p",null,[a("a",T,[e("Erlang 21.3下载地址"),n(s)])]),B,a("p",null,[e("下载地址：[libcrypto.so.10(OPENSSL_1.0.2)(64bit)(opens new window)]("),a("a",V,[e("https://rpmfind.net/linux/rpm2html/search.php?query=libcrypto.so.10(OPENSSL_1.0.2)(64bit)&submit=Search"),n(s)]),e(" ...&system=&arch=)")]),I])}const H=t(f,[["render",P],["__file","三、RabbitMQ安装.html.vue"]]);export{H as default};
