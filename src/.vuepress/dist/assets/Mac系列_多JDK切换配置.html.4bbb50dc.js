import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as c,c as o,d as a,e as s,b as p,a as i,r as t}from"./app.9b10ba0a.js";const l="/assets/4fd94d567b3a43bc9583d29273cb3690~tplv-k3u1fbpfcp-zoom-in-crop-mark_4536_0_0_0.748c7361.jpeg",r="/assets/4515fbfe6ae94605961bc35846172a53~tplv-k3u1fbpfcp-zoom-in-crop-mark_4536_0_0_0.f9e3bd5a.jpeg",d="/assets/be57caf048454df29fe54bb7466de28b~tplv-k3u1fbpfcp-zoom-in-crop-mark_4536_0_0_0.29e06ba8.jpeg",m="/assets/1ec79040bc9141c5a081465777f16d35~tplv-k3u1fbpfcp-zoom-in-crop-mark_4536_0_0_0.897a8a3a.jpeg",b="/assets/7c6e07e7c6da4ad0939633730cc6c78b~tplv-k3u1fbpfcp-zoom-in-crop-mark_4536_0_0_0.807c2ed2.jpeg",v={},_=a("h2",{id:"下载安装",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#下载安装","aria-hidden":"true"},"#"),s(" 下载安装")],-1),u={href:"https://link.juejin.cn?target=https%3A%2F%2Fwww.oracle.com%2Fjava%2Ftechnologies%2Fdownloads%2F",target:"_blank",rel:"noopener noreferrer"},k=i('<p>由于之前工作一直都是使用的JDK8，现要转用JDK17，于是想在mac笔记本上同时安装jdk8和jdk17，方便跑以前的项目。</p><p>如图，通过官网地址选择Java 17，选择macOS,可以选择下载DMG安装程序，也可以选择tar.gz结尾的压缩包。</p><p><img src="'+l+'" alt="4fd94d567b3a43bc9583d29273cb3690~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0"></p><p>安装前执行<code>java -verison</code>显示版本是1.8.0_201。</p><p><img src="'+r+'" alt="4515fbfe6ae94605961bc35846172a53~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0"></p><p>选择DMG文件安装之后，没有做任何配置，再次执行<code>java -verison</code>显示版本是17.0.4。</p><p><img src="'+d+'" alt="be57caf048454df29fe54bb7466de28b~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0"></p><p>此时，我的笔记本上已经安装了两个JDK版本。</p><p>终端输入命令：<code>/usr/libexec/java_home -V</code>查看JDK安装目录。注意此处-V必须是大写。</p><p>执行后如下图： 两个红框内分别表示<code>当前Mac已安装jdk目录</code>和<code>Mac默认使用的jdk版本</code>；</p><p><img src="'+m+`" alt="1ec79040bc9141c5a081465777f16d35~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0"></p><p>拷贝文件目录备用:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>   <span class="token number">17.0</span>.4, x86_64:    <span class="token string">&quot;Java SE 17.0.4&quot;</span>    /Library/Java/JavaVirtualMachines/jdk-17.0.4.jdk/Contents/Home
    <span class="token number">1.8</span>.0_201, x86_64:    <span class="token string">&quot;Java SE 8&quot;</span>    /Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实现" tabindex="-1"><a class="header-anchor" href="#实现" aria-hidden="true">#</a> 实现</h3><blockquote><p>我们的目的是可以在多个JDK版本之间自由切换。</p></blockquote><p>默认安装路径：/Library/Java/JavaVirtualMachines/</p><p>我们可以在用户home目录<code>~</code> 下创建<code>.bash_profile</code>文件来配置环境变量和用户一些自定义别名等。</p><p>命令行如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 进入用户home目录</span>
<span class="token builtin class-name">cd</span> ~  
<span class="token comment">#创建.bash_profile文件,已存在不会操作</span>
<span class="token function">touch</span> .bash_profile
<span class="token comment"># 使用vim 或open命令打开文件</span>
<span class="token function">vim</span> .bash_profile
<span class="token function">open</span> <span class="token parameter variable">-e</span> .bash_profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.bash_profile</code>文件配置内容如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># JDK 配置</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_17_HOME</span><span class="token operator">=</span>/Library/Java/JavaVirtualMachines/jdk-17.0.4.jdk/Contents/Home
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_8_HOME</span><span class="token operator">=</span>/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home

<span class="token comment"># 默认JDK版本</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span><span class="token variable">$JAVA_17_HOME</span>

<span class="token comment"># 多版本切换（设置别名，终端输入jdk8/jdk17 自动切换）</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">jdk17</span><span class="token operator">=</span><span class="token string">&quot;export JAVA_HOME=<span class="token variable">$JAVA_17_HOME</span>&quot;</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">jdk8</span><span class="token operator">=</span><span class="token string">&quot;export JAVA_HOME=<span class="token variable">$JAVA_8_HOME</span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存退出后终端执行jdk8测试能够切换JDK版本：报错：<code>command not found: jdk8</code></p><p>需执行命令<code>source .bash_profile</code>使配置生效。</p><p>执行命令后即可以顺利切换，如下图展示。</p><p><img src="`+b+'" alt="7c6e07e7c6da4ad0939633730cc6c78b~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0"></p>',25);function f(h,g){const e=t("ExternalLinkIcon");return c(),o("div",null,[_,a("blockquote",null,[a("p",null,[s("Oracle官方下载地址："),a("a",u,[s("www.oracle.com/java/techno…"),p(e)])])]),k])}const x=n(v,[["render",f],["__file","Mac系列_多JDK切换配置.html.vue"]]);export{x as default};
